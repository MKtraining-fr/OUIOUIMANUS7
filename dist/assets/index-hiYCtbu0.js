var c4=Object.defineProperty;var u4=(e,t,n)=>t in e?c4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yg=(e,t,n)=>u4(e,typeof t!="symbol"?t+"":t,n);function d4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Xr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var bg={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj;function h4(){if(fj)return Ec;fj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Ec.Fragment=t,Ec.jsx=n,Ec.jsxs=n,Ec}var hj;function m4(){return hj||(hj=1,bg.exports=h4()),bg.exports}var m=m4(),xg={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mj;function p4(){if(mj)return Le;mj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function N(M,L,F){this.props=M,this.context=L,this.refs=j,this.updater=F||S}N.prototype.isReactComponent={},N.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=N.prototype;function C(M,L,F){this.props=M,this.context=L,this.refs=j,this.updater=F||S}var A=C.prototype=new E;A.constructor=C,_(A,N.prototype),A.isPureReactComponent=!0;var T=Array.isArray;function P(){}var R={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function H(M,L,F){var Y=F.ref;return{$$typeof:e,type:M,key:L,ref:Y!==void 0?Y:null,props:F}}function z(M,L){return H(M.type,L,M.props)}function B(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function $(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(F){return L[F]})}var ne=/\/+/g;function Q(M,L){return typeof M=="object"&&M!==null&&M.key!=null?$(""+M.key):L.toString(36)}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(P,P):(M.status="pending",M.then(function(L){M.status==="pending"&&(M.status="fulfilled",M.value=L)},function(L){M.status==="pending"&&(M.status="rejected",M.reason=L)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function I(M,L,F,Y,J){var G=typeof M;(G==="undefined"||G==="boolean")&&(M=null);var de=!1;if(M===null)de=!0;else switch(G){case"bigint":case"string":case"number":de=!0;break;case"object":switch(M.$$typeof){case e:case t:de=!0;break;case p:return de=M._init,I(de(M._payload),L,F,Y,J)}}if(de)return J=J(M),de=Y===""?"."+Q(M,0):Y,T(J)?(F="",de!=null&&(F=de.replace(ne,"$&/")+"/"),I(J,L,F,"",function(ye){return ye})):J!=null&&(B(J)&&(J=z(J,F+(J.key==null||M&&M.key===J.key?"":(""+J.key).replace(ne,"$&/")+"/")+de)),L.push(J)),1;de=0;var be=Y===""?".":Y+":";if(T(M))for(var Z=0;Z<M.length;Z++)Y=M[Z],G=be+Q(Y,Z),de+=I(Y,L,F,G,J);else if(Z=w(M),typeof Z=="function")for(M=Z.call(M),Z=0;!(Y=M.next()).done;)Y=Y.value,G=be+Q(Y,Z++),de+=I(Y,L,F,G,J);else if(G==="object"){if(typeof M.then=="function")return I(re(M),L,F,Y,J);throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return de}function V(M,L,F){if(M==null)return M;var Y=[],J=0;return I(M,Y,"","",function(G){return L.call(F,G,J++)}),Y}function ie(M){if(M._status===-1){var L=M._result;L=L(),L.then(function(F){(M._status===0||M._status===-1)&&(M._status=1,M._result=F)},function(F){(M._status===0||M._status===-1)&&(M._status=2,M._result=F)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},se={map:V,forEach:function(M,L,F){V(M,function(){L.apply(this,arguments)},F)},count:function(M){var L=0;return V(M,function(){L++}),L},toArray:function(M){return V(M,function(L){return L})||[]},only:function(M){if(!B(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Le.Activity=g,Le.Children=se,Le.Component=N,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=C,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Le.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Le.cache=function(M){return function(){return M.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(M,L,F){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Y=_({},M.props),J=M.key;if(L!=null)for(G in L.key!==void 0&&(J=""+L.key),L)!D.call(L,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&L.ref===void 0||(Y[G]=L[G]);var G=arguments.length-2;if(G===1)Y.children=F;else if(1<G){for(var de=Array(G),be=0;be<G;be++)de[be]=arguments[be+2];Y.children=de}return H(M.type,J,Y)},Le.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Le.createElement=function(M,L,F){var Y,J={},G=null;if(L!=null)for(Y in L.key!==void 0&&(G=""+L.key),L)D.call(L,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(J[Y]=L[Y]);var de=arguments.length-2;if(de===1)J.children=F;else if(1<de){for(var be=Array(de),Z=0;Z<de;Z++)be[Z]=arguments[Z+2];J.children=be}if(M&&M.defaultProps)for(Y in de=M.defaultProps,de)J[Y]===void 0&&(J[Y]=de[Y]);return H(M,G,J)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:u,render:M}},Le.isValidElement=B,Le.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:ie}},Le.memo=function(M,L){return{$$typeof:f,type:M,compare:L===void 0?null:L}},Le.startTransition=function(M){var L=R.T,F={};R.T=F;try{var Y=M(),J=R.S;J!==null&&J(F,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(P,pe)}catch(G){pe(G)}finally{L!==null&&F.types!==null&&(L.types=F.types),R.T=L}},Le.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Le.use=function(M){return R.H.use(M)},Le.useActionState=function(M,L,F){return R.H.useActionState(M,L,F)},Le.useCallback=function(M,L){return R.H.useCallback(M,L)},Le.useContext=function(M){return R.H.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M,L){return R.H.useDeferredValue(M,L)},Le.useEffect=function(M,L){return R.H.useEffect(M,L)},Le.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Le.useId=function(){return R.H.useId()},Le.useImperativeHandle=function(M,L,F){return R.H.useImperativeHandle(M,L,F)},Le.useInsertionEffect=function(M,L){return R.H.useInsertionEffect(M,L)},Le.useLayoutEffect=function(M,L){return R.H.useLayoutEffect(M,L)},Le.useMemo=function(M,L){return R.H.useMemo(M,L)},Le.useOptimistic=function(M,L){return R.H.useOptimistic(M,L)},Le.useReducer=function(M,L,F){return R.H.useReducer(M,L,F)},Le.useRef=function(M){return R.H.useRef(M)},Le.useState=function(M){return R.H.useState(M)},Le.useSyncExternalStore=function(M,L,F){return R.H.useSyncExternalStore(M,L,F)},Le.useTransition=function(){return R.H.useTransition()},Le.version="19.2.0",Le}var pj;function yl(){return pj||(pj=1,xg.exports=p4()),xg.exports}var b=yl();const sn=Xr(b),g4=d4({__proto__:null,default:sn},[b]);var wg={exports:{}},Oc={},_g={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function v4(){return gj||(gj=1,(function(e){function t(I,V){var ie=I.length;I.push(V);e:for(;0<ie;){var pe=ie-1>>>1,se=I[pe];if(0<i(se,V))I[pe]=V,I[ie]=se,ie=pe;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var V=I[0],ie=I.pop();if(ie!==V){I[0]=ie;e:for(var pe=0,se=I.length,M=se>>>1;pe<M;){var L=2*(pe+1)-1,F=I[L],Y=L+1,J=I[Y];if(0>i(F,ie))Y<se&&0>i(J,F)?(I[pe]=J,I[Y]=ie,pe=Y):(I[pe]=F,I[L]=ie,pe=L);else if(Y<se&&0>i(J,ie))I[pe]=J,I[Y]=ie,pe=Y;else break e}}return V}function i(I,V){var ie=I.sortIndex-V.sortIndex;return ie!==0?ie:I.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,w=!1,S=!1,_=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(I){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=I)r(f),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(f)}}function T(I){if(_=!1,A(I),!S)if(n(d)!==null)S=!0,P||(P=!0,$());else{var V=n(f);V!==null&&re(T,V.startTime-I)}}var P=!1,R=-1,D=5,H=-1;function z(){return j?!0:!(e.unstable_now()-H<D)}function B(){if(j=!1,P){var I=e.unstable_now();H=I;var V=!0;try{e:{S=!1,_&&(_=!1,E(R),R=-1),w=!0;var ie=v;try{t:{for(A(I),g=n(d);g!==null&&!(g.expirationTime>I&&z());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,v=g.priorityLevel;var se=pe(g.expirationTime<=I);if(I=e.unstable_now(),typeof se=="function"){g.callback=se,A(I),V=!0;break t}g===n(d)&&r(d),A(I)}else r(d);g=n(d)}if(g!==null)V=!0;else{var M=n(f);M!==null&&re(T,M.startTime-I),V=!1}}break e}finally{g=null,v=ie,w=!1}V=void 0}}finally{V?$():P=!1}}}var $;if(typeof C=="function")$=function(){C(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Q=ne.port2;ne.port1.onmessage=B,$=function(){Q.postMessage(null)}}else $=function(){N(B,0)};function re(I,V){R=N(function(){I(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var ie=v;v=V;try{return I()}finally{v=ie}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ie=v;v=I;try{return V()}finally{v=ie}},e.unstable_scheduleCallback=function(I,V,ie){var pe=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,I){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ie+se,I={id:p++,callback:V,priorityLevel:I,startTime:ie,expirationTime:se,sortIndex:-1},ie>pe?(I.sortIndex=ie,t(f,I),n(d)===null&&I===n(f)&&(_?(E(R),R=-1):_=!0,re(T,ie-pe))):(I.sortIndex=se,t(d,I),S||w||(S=!0,P||(P=!0,$()))),I},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(I){var V=v;return function(){var ie=v;v=V;try{return I.apply(this,arguments)}finally{v=ie}}}})(Sg)),Sg}var vj;function y4(){return vj||(vj=1,_g.exports=v4()),_g.exports}var jg={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function b4(){if(yj)return Tn;yj=1;var e=yl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},Tn.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Tn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Tn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Tn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Tn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Tn.requestFormReset=function(d){r.d.r(d)},Tn.unstable_batchedUpdates=function(d,f){return d(f)},Tn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var bj;function OC(){if(bj)return jg.exports;bj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jg.exports=b4(),jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function x4(){if(xj)return Oc;xj=1;var e=y4(),t=yl(),n=OC();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,h=s;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return d(y),a;if(x===h)return d(y),s;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=x;else{for(var O=!1,k=y.child;k;){if(k===c){O=!0,c=y,h=x;break}if(k===h){O=!0,h=y,c=x;break}k=k.sibling}if(!O){for(k=x.child;k;){if(k===c){O=!0,c=x,h=y;break}if(k===h){O=!0,h=x,c=y;break}k=k.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ne?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case H:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case C:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case A:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return s=a.displayName||null,s!==null?s:Q(a.type)||"Memo";case D:s=a._payload,a=a._init;try{return Q(a(s))}catch{}}return null}var re=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},pe=[],se=-1;function M(a){return{current:a}}function L(a){0>se||(a.current=pe[se],pe[se]=null,se--)}function F(a,s){se++,pe[se]=a.current,a.current=s}var Y=M(null),J=M(null),G=M(null),de=M(null);function be(a,s){switch(F(G,s),F(J,a),F(Y,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?DS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=DS(s),a=LS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(Y),F(Y,a)}function Z(){L(Y),L(J),L(G)}function ye(a){a.memoizedState!==null&&F(de,a);var s=Y.current,c=LS(s,a.type);s!==c&&(F(J,a),F(Y,c))}function Se(a){J.current===a&&(L(Y),L(J)),de.current===a&&(L(de),wc._currentValue=ie)}var ue,mt;function De(a){if(ue===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ue=s&&s[1]||"",mt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+a+mt}var pt=!1;function yt(a,s){if(!a||pt)return"";pt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var ee=ae}Reflect.construct(a,[],ce)}else{try{ce.call()}catch(ae){ee=ae}a.call(ce.prototype)}}else{try{throw Error()}catch(ae){ee=ae}(ce=a())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&ee&&typeof ae.stack=="string")return[ae.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),O=x[0],k=x[1];if(O&&k){var U=O.split(`
`),X=k.split(`
`);for(y=h=0;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(h===U.length||y===X.length)for(h=U.length-1,y=X.length-1;1<=h&&0<=y&&U[h]!==X[y];)y--;for(;1<=h&&0<=y;h--,y--)if(U[h]!==X[y]){if(h!==1||y!==1)do if(h--,y--,0>y||U[h]!==X[y]){var oe=`
`+U[h].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=h&&0<=y);break}}}finally{pt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?De(c):""}function Tt(a,s){switch(a.tag){case 26:case 27:case 5:return De(a.type);case 16:return De("Lazy");case 13:return a.child!==s&&s!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return yt(a.type,!1);case 11:return yt(a.type.render,!1);case 1:return yt(a.type,!0);case 31:return De("Activity");default:return""}}function An(a){try{var s="",c=null;do s+=Tt(a,c),c=a,a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Dt=Object.prototype.hasOwnProperty,Lt=e.unstable_scheduleCallback,Kt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,me=e.unstable_requestPaint,Pe=e.unstable_now,at=e.unstable_getCurrentPriorityLevel,Ft=e.unstable_ImmediatePriority,zn=e.unstable_UserBlockingPriority,he=e.unstable_NormalPriority,ge=e.unstable_LowPriority,Ae=e.unstable_IdlePriority,rt=e.log,Xe=e.unstable_setDisableYieldValue,kt=null,Ue=null;function tt(a){if(typeof rt=="function"&&Xe(a),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(kt,a)}catch{}}var bt=Math.clz32?Math.clz32:it,Mt=Math.log,Te=Math.LN2;function it(a){return a>>>=0,a===0?32:31-(Mt(a)/Te|0)|0}var $t=256,dn=262144,zr=4194304;function Gt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xs(a,s,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,x=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var k=h&134217727;return k!==0?(h=k&~x,h!==0?y=Gt(h):(O&=k,O!==0?y=Gt(O):c||(c=k&~a,c!==0&&(y=Gt(c))))):(k=h&~x,k!==0?y=Gt(k):O!==0?y=Gt(O):c||(c=h&~a,c!==0&&(y=Gt(c)))),y===0?0:s!==0&&s!==y&&(s&x)===0&&(x=y&-y,c=s&-s,x>=c||x===32&&(c&4194048)!==0)?s:y}function Rl(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function XR(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gw(){var a=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),a}function sm(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Dl(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function QR(a,s,c,h,y,x){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var k=a.entanglements,U=a.expirationTimes,X=a.hiddenUpdates;for(c=O&~c;0<c;){var oe=31-bt(c),ce=1<<oe;k[oe]=0,U[oe]=-1;var ee=X[oe];if(ee!==null)for(X[oe]=null,oe=0;oe<ee.length;oe++){var ae=ee[oe];ae!==null&&(ae.lane&=-536870913)}c&=~ce}h!==0&&vw(a,h,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(O&~s))}function vw(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-bt(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function yw(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var h=31-bt(c),y=1<<h;y&s|a[h]&s&&(a[h]|=s),c&=~y}}function bw(a,s){var c=s&-s;return c=(c&42)!==0?1:om(c),(c&(a.suspendedLanes|s))!==0?0:c}function om(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function lm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function xw(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:ij(a.type))}function ww(a,s){var c=V.p;try{return V.p=a,s()}finally{V.p=c}}var ni=Math.random().toString(36).slice(2),wn="__reactFiber$"+ni,Bn="__reactProps$"+ni,Qs="__reactContainer$"+ni,cm="__reactEvents$"+ni,JR="__reactListeners$"+ni,ZR="__reactHandles$"+ni,_w="__reactResources$"+ni,Ll="__reactMarker$"+ni;function um(a){delete a[wn],delete a[Bn],delete a[cm],delete a[JR],delete a[ZR]}function Js(a){var s=a[wn];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Qs]||c[wn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=HS(a);a!==null;){if(c=a[wn])return c;a=HS(a)}return s}a=c,c=a.parentNode}return null}function Zs(a){if(a=a[wn]||a[Qs]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Il(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function eo(a){var s=a[_w];return s||(s=a[_w]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fn(a){a[Ll]=!0}var Sw=new Set,jw={};function Vi(a,s){to(a,s),to(a+"Capture",s)}function to(a,s){for(jw[a]=s,a=0;a<s.length;a++)Sw.add(s[a])}var eD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ew={},Ow={};function tD(a){return Dt.call(Ow,a)?!0:Dt.call(Ew,a)?!1:eD.test(a)?Ow[a]=!0:(Ew[a]=!0,!1)}function Lu(a,s,c){if(tD(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Iu(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function pa(a,s,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+h)}}function vr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Nw(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nD(a,s,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,x=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(O){c=""+O,x.call(this,O)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function dm(a){if(!a._valueTracker){var s=Nw(a)?"checked":"value";a._valueTracker=nD(a,s,""+a[s])}}function Cw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return a&&(h=Nw(a)?a.checked?"true":"false":a.value),a=h,a!==c?(s.setValue(a),!0):!1}function Uu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var rD=/[\n"\\]/g;function yr(a){return a.replace(rD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function fm(a,s,c,h,y,x,O,k){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),s!=null?O==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+vr(s)):a.value!==""+vr(s)&&(a.value=""+vr(s)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),s!=null?hm(a,O,vr(s)):c!=null?hm(a,O,vr(c)):h!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+vr(k):a.removeAttribute("name")}function Aw(a,s,c,h,y,x,O,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),s!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){dm(a);return}c=c!=null?""+vr(c):"",s=s!=null?""+vr(s):c,k||s===a.value||(a.value=s),a.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=k?a.checked:!!h,a.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),dm(a)}function hm(a,s,c){s==="number"&&Uu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function no(a,s,c,h){if(a=a.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=s.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+vr(c),s=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function Tw(a,s,c){if(s!=null&&(s=""+vr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+vr(c):""}function kw(a,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(r(92));if(re(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=vr(s),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),dm(a)}function ro(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var aD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mw(a,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,c):typeof c!="number"||c===0||aD.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Pw(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&c[y]!==h&&Mw(a,y,h)}else for(var x in s)s.hasOwnProperty(x)&&Mw(a,x,s[x])}function mm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(a){return sD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ga(){}var pm=null;function gm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ao=null,io=null;function Rw(a){var s=Zs(a);if(s&&(a=s.stateNode)){var c=a[Bn]||null;e:switch(a=s.stateNode,s.type){case"input":if(fm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==a&&h.form===a.form){var y=h[Bn]||null;if(!y)throw Error(r(90));fm(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===a.form&&Cw(h)}break e;case"textarea":Tw(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&no(a,!!c.multiple,s,!1)}}}var vm=!1;function Dw(a,s,c){if(vm)return a(s,c);vm=!0;try{var h=a(s);return h}finally{if(vm=!1,(ao!==null||io!==null)&&(Od(),ao&&(s=ao,a=io,io=ao=null,Rw(s),a)))for(s=0;s<a.length;s++)Rw(a[s])}}function Ul(a,s){var c=a.stateNode;if(c===null)return null;var h=c[Bn]||null;if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=!1;if(va)try{var $l={};Object.defineProperty($l,"passive",{get:function(){ym=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{ym=!1}var ri=null,bm=null,zu=null;function Lw(){if(zu)return zu;var a,s=bm,c=s.length,h,y="value"in ri?ri.value:ri.textContent,x=y.length;for(a=0;a<c&&s[a]===y[a];a++);var O=c-a;for(h=1;h<=O&&s[c-h]===y[x-h];h++);return zu=y.slice(a,1<h?1-h:void 0)}function Bu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function qu(){return!0}function Iw(){return!1}function qn(a){function s(c,h,y,x,O){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(c=a[k],this[k]=c?c(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?qu:Iw,this.isPropagationStopped=Iw,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=qn(Wi),zl=g({},Wi,{view:0,detail:0}),oD=qn(zl),xm,wm,Bl,Ku=g({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bl&&(Bl&&a.type==="mousemove"?(xm=a.screenX-Bl.screenX,wm=a.screenY-Bl.screenY):wm=xm=0,Bl=a),xm)},movementY:function(a){return"movementY"in a?a.movementY:wm}}),Uw=qn(Ku),lD=g({},Ku,{dataTransfer:0}),cD=qn(lD),uD=g({},zl,{relatedTarget:0}),_m=qn(uD),dD=g({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),fD=qn(dD),hD=g({},Wi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mD=qn(hD),pD=g({},Wi,{data:0}),$w=qn(pD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=yD[a])?!!s[a]:!1}function Sm(){return bD}var xD=g({},zl,{key:function(a){if(a.key){var s=gD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Bu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(a){return a.type==="keypress"?Bu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),wD=qn(xD),_D=g({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zw=qn(_D),SD=g({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),jD=qn(SD),ED=g({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=qn(ED),ND=g({},Ku,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=qn(ND),AD=g({},Wi,{newState:0,oldState:0}),TD=qn(AD),kD=[9,13,27,32],jm=va&&"CompositionEvent"in window,ql=null;va&&"documentMode"in document&&(ql=document.documentMode);var MD=va&&"TextEvent"in window&&!ql,Bw=va&&(!jm||ql&&8<ql&&11>=ql),qw=" ",Hw=!1;function Kw(a,s){switch(a){case"keyup":return kD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var so=!1;function PD(a,s){switch(a){case"compositionend":return Fw(s);case"keypress":return s.which!==32?null:(Hw=!0,qw);case"textInput":return a=s.data,a===qw&&Hw?null:a;default:return null}}function RD(a,s){if(so)return a==="compositionend"||!jm&&Kw(a,s)?(a=Lw(),zu=bm=ri=null,so=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bw&&s.locale!=="ko"?null:s.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!DD[a.type]:s==="textarea"}function Yw(a,s,c,h){ao?io?io.push(h):io=[h]:ao=h,s=Pd(s,"onChange"),0<s.length&&(c=new Hu("onChange","change",null,c,h),a.push({event:c,listeners:s}))}var Hl=null,Kl=null;function LD(a){AS(a,0)}function Fu(a){var s=Il(a);if(Cw(s))return a}function Vw(a,s){if(a==="change")return s}var Ww=!1;if(va){var Em;if(va){var Om="oninput"in document;if(!Om){var Xw=document.createElement("div");Xw.setAttribute("oninput","return;"),Om=typeof Xw.oninput=="function"}Em=Om}else Em=!1;Ww=Em&&(!document.documentMode||9<document.documentMode)}function Qw(){Hl&&(Hl.detachEvent("onpropertychange",Jw),Kl=Hl=null)}function Jw(a){if(a.propertyName==="value"&&Fu(Kl)){var s=[];Yw(s,Kl,a,gm(a)),Dw(LD,s)}}function ID(a,s,c){a==="focusin"?(Qw(),Hl=s,Kl=c,Hl.attachEvent("onpropertychange",Jw)):a==="focusout"&&Qw()}function UD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fu(Kl)}function $D(a,s){if(a==="click")return Fu(s)}function zD(a,s){if(a==="input"||a==="change")return Fu(s)}function BD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var er=typeof Object.is=="function"?Object.is:BD;function Fl(a,s){if(er(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Dt.call(s,y)||!er(a[y],s[y]))return!1}return!0}function Zw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function e_(a,s){var c=Zw(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=s&&h>=s)return{node:c,offset:s-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Zw(c)}}function t_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?t_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function n_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Uu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Uu(a.document)}return s}function Nm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var qD=va&&"documentMode"in document&&11>=document.documentMode,oo=null,Cm=null,Gl=null,Am=!1;function r_(a,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Am||oo==null||oo!==Uu(h)||(h=oo,"selectionStart"in h&&Nm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gl&&Fl(Gl,h)||(Gl=h,h=Pd(Cm,"onSelect"),0<h.length&&(s=new Hu("onSelect","select",null,s,c),a.push({event:s,listeners:h}),s.target=oo)))}function Xi(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var lo={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},Tm={},a_={};va&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Qi(a){if(Tm[a])return Tm[a];if(!lo[a])return a;var s=lo[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in a_)return Tm[a]=s[c];return a}var i_=Qi("animationend"),s_=Qi("animationiteration"),o_=Qi("animationstart"),HD=Qi("transitionrun"),KD=Qi("transitionstart"),FD=Qi("transitioncancel"),l_=Qi("transitionend"),c_=new Map,km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");km.push("scrollEnd");function Br(a,s){c_.set(a,s),Vi(s,[a])}var Gu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},br=[],co=0,Mm=0;function Yu(){for(var a=co,s=Mm=co=0;s<a;){var c=br[s];br[s++]=null;var h=br[s];br[s++]=null;var y=br[s];br[s++]=null;var x=br[s];if(br[s++]=null,h!==null&&y!==null){var O=h.pending;O===null?y.next=y:(y.next=O.next,O.next=y),h.pending=y}x!==0&&u_(c,y,x)}}function Vu(a,s,c,h){br[co++]=a,br[co++]=s,br[co++]=c,br[co++]=h,Mm|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Pm(a,s,c,h){return Vu(a,s,c,h),Wu(a)}function Ji(a,s){return Vu(a,null,null,s),Wu(a)}function u_(a,s,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&s!==null&&(y=31-bt(c),a=x.hiddenUpdates,h=a[y],h===null?a[y]=[s]:h.push(s),s.lane=c|536870912),x):null}function Wu(a){if(50<mc)throw mc=0,qp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var uo={};function GD(a,s,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(a,s,c,h){return new GD(a,s,c,h)}function Rm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ya(a,s){var c=a.alternate;return c===null?(c=tr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function d_(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Xu(a,s,c,h,y,x){var O=0;if(h=a,typeof a=="function")Rm(a)&&(O=1);else if(typeof a=="string")O=Q3(a,c,Y.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case H:return a=tr(31,c,s,y),a.elementType=H,a.lanes=x,a;case _:return Zi(c.children,y,x,s);case j:O=8,y|=24;break;case N:return a=tr(12,c,s,y|2),a.elementType=N,a.lanes=x,a;case T:return a=tr(13,c,s,y),a.elementType=T,a.lanes=x,a;case P:return a=tr(19,c,s,y),a.elementType=P,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:O=10;break e;case E:O=9;break e;case A:O=11;break e;case R:O=14;break e;case D:O=16,h=null;break e}O=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=tr(O,c,s,y),s.elementType=a,s.type=h,s.lanes=x,s}function Zi(a,s,c,h){return a=tr(7,a,h,s),a.lanes=c,a}function Dm(a,s,c){return a=tr(6,a,null,s),a.lanes=c,a}function f_(a){var s=tr(18,null,null,0);return s.stateNode=a,s}function Lm(a,s,c){return s=tr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var h_=new WeakMap;function xr(a,s){if(typeof a=="object"&&a!==null){var c=h_.get(a);return c!==void 0?c:(s={value:a,source:s,stack:An(s)},h_.set(a,s),s)}return{value:a,source:s,stack:An(s)}}var fo=[],ho=0,Qu=null,Yl=0,wr=[],_r=0,ai=null,Zr=1,ea="";function ba(a,s){fo[ho++]=Yl,fo[ho++]=Qu,Qu=a,Yl=s}function m_(a,s,c){wr[_r++]=Zr,wr[_r++]=ea,wr[_r++]=ai,ai=a;var h=Zr;a=ea;var y=32-bt(h)-1;h&=~(1<<y),c+=1;var x=32-bt(s)+y;if(30<x){var O=y-y%5;x=(h&(1<<O)-1).toString(32),h>>=O,y-=O,Zr=1<<32-bt(s)+y|c<<y|h,ea=x+a}else Zr=1<<x|c<<y|h,ea=a}function Im(a){a.return!==null&&(ba(a,1),m_(a,1,0))}function Um(a){for(;a===Qu;)Qu=fo[--ho],fo[ho]=null,Yl=fo[--ho],fo[ho]=null;for(;a===ai;)ai=wr[--_r],wr[_r]=null,ea=wr[--_r],wr[_r]=null,Zr=wr[--_r],wr[_r]=null}function p_(a,s){wr[_r++]=Zr,wr[_r++]=ea,wr[_r++]=ai,Zr=s.id,ea=s.overflow,ai=a}var _n=null,_t=null,Ve=!1,ii=null,Sr=!1,$m=Error(r(519));function si(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(xr(s,a)),$m}function g_(a){var s=a.stateNode,c=a.type,h=a.memoizedProps;switch(s[wn]=a,s[Bn]=h,c){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(c=0;c<gc.length;c++)He(gc[c],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Aw(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),kw(s,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||PS(s.textContent,c)?(h.popover!=null&&(He("beforetoggle",s),He("toggle",s)),h.onScroll!=null&&He("scroll",s),h.onScrollEnd!=null&&He("scrollend",s),h.onClick!=null&&(s.onclick=ga),s=!0):s=!1,s||si(a,!0)}function v_(a){for(_n=a.return;_n;)switch(_n.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:_n=_n.return}}function mo(a){if(a!==_n)return!1;if(!Ve)return v_(a),Ve=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||rg(a.type,a.memoizedProps)),c=!c),c&&_t&&si(a),v_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=qS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=qS(a)}else s===27?(s=_t,xi(a.type)?(a=lg,lg=null,_t=a):_t=s):_t=_n?Er(a.stateNode.nextSibling):null;return!0}function es(){_t=_n=null,Ve=!1}function zm(){var a=ii;return a!==null&&(Gn===null?Gn=a:Gn.push.apply(Gn,a),ii=null),a}function Vl(a){ii===null?ii=[a]:ii.push(a)}var Bm=M(null),ts=null,xa=null;function oi(a,s,c){F(Bm,s._currentValue),s._currentValue=c}function wa(a){a._currentValue=Bm.current,L(Bm)}function qm(a,s,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===c)break;a=a.return}}function Hm(a,s,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var O=y.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=y;for(var U=0;U<s.length;U++)if(k.context===s[U]){x.lanes|=c,k=x.alternate,k!==null&&(k.lanes|=c),qm(x.return,c,a),h||(O=null);break e}x=k.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=c,x=O.alternate,x!==null&&(x.lanes|=c),qm(O,c,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function po(a,s,c,h){a=null;for(var y=s,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var k=y.type;er(y.pendingProps.value,O.value)||(a!==null?a.push(k):a=[k])}}else if(y===de.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(wc):a=[wc])}y=y.return}a!==null&&Hm(s,a,c,h),s.flags|=262144}function Ju(a){for(a=a.firstContext;a!==null;){if(!er(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ns(a){ts=a,xa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Sn(a){return y_(ts,a)}function Zu(a,s){return ts===null&&ns(a),y_(a,s)}function y_(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},xa===null){if(a===null)throw Error(r(308));xa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else xa=xa.next=s;return c}var YD=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},VD=e.unstable_scheduleCallback,WD=e.unstable_NormalPriority,Yt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new YD,data:new Map,refCount:0}}function Wl(a){a.refCount--,a.refCount===0&&VD(WD,function(){a.controller.abort()})}var Xl=null,Fm=0,go=0,vo=null;function XD(a,s){if(Xl===null){var c=Xl=[];Fm=0,go=Vp(),vo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Fm++,s.then(b_,b_),s}function b_(){if(--Fm===0&&Xl!==null){vo!==null&&(vo.status="fulfilled");var a=Xl;Xl=null,go=0,vo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function QD(a,s){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<c.length;y++)(0,c[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var x_=I.S;I.S=function(a,s){rS=Pe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&XD(a,s),x_!==null&&x_(a,s)};var rs=M(null);function Gm(){var a=rs.current;return a!==null?a:gt.pooledCache}function ed(a,s){s===null?F(rs,rs.current):F(rs,s.pool)}function w_(){var a=Gm();return a===null?null:{parent:Yt._currentValue,pool:a}}var yo=Error(r(460)),Ym=Error(r(474)),td=Error(r(542)),nd={then:function(){}};function __(a){return a=a.status,a==="fulfilled"||a==="rejected"}function S_(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(ga,ga),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,E_(a),a;default:if(typeof s.status=="string")s.then(ga,ga);else{if(a=gt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,E_(a),a}throw is=s,yo}}function as(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(is=c,yo):c}}var is=null;function j_(){if(is===null)throw Error(r(459));var a=is;return is=null,a}function E_(a){if(a===yo||a===td)throw Error(r(483))}var bo=null,Ql=0;function rd(a){var s=Ql;return Ql+=1,bo===null&&(bo=[]),S_(bo,a,s)}function Jl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function ad(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function O_(a){function s(K,q){if(a){var W=K.deletions;W===null?(K.deletions=[q],K.flags|=16):W.push(q)}}function c(K,q){if(!a)return null;for(;q!==null;)s(K,q),q=q.sibling;return null}function h(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function y(K,q){return K=ya(K,q),K.index=0,K.sibling=null,K}function x(K,q,W){return K.index=W,a?(W=K.alternate,W!==null?(W=W.index,W<q?(K.flags|=67108866,q):W):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function O(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function k(K,q,W,le){return q===null||q.tag!==6?(q=Dm(W,K.mode,le),q.return=K,q):(q=y(q,W),q.return=K,q)}function U(K,q,W,le){var Ce=W.type;return Ce===_?oe(K,q,W.props.children,le,W.key):q!==null&&(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===D&&as(Ce)===q.type)?(q=y(q,W.props),Jl(q,W),q.return=K,q):(q=Xu(W.type,W.key,W.props,null,K.mode,le),Jl(q,W),q.return=K,q)}function X(K,q,W,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Lm(W,K.mode,le),q.return=K,q):(q=y(q,W.children||[]),q.return=K,q)}function oe(K,q,W,le,Ce){return q===null||q.tag!==7?(q=Zi(W,K.mode,le,Ce),q.return=K,q):(q=y(q,W),q.return=K,q)}function ce(K,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Dm(""+q,K.mode,W),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return W=Xu(q.type,q.key,q.props,null,K.mode,W),Jl(W,q),W.return=K,W;case S:return q=Lm(q,K.mode,W),q.return=K,q;case D:return q=as(q),ce(K,q,W)}if(re(q)||$(q))return q=Zi(q,K.mode,W,null),q.return=K,q;if(typeof q.then=="function")return ce(K,rd(q),W);if(q.$$typeof===C)return ce(K,Zu(K,q),W);ad(K,q)}return null}function ee(K,q,W,le){var Ce=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ce!==null?null:k(K,q,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===Ce?U(K,q,W,le):null;case S:return W.key===Ce?X(K,q,W,le):null;case D:return W=as(W),ee(K,q,W,le)}if(re(W)||$(W))return Ce!==null?null:oe(K,q,W,le,null);if(typeof W.then=="function")return ee(K,q,rd(W),le);if(W.$$typeof===C)return ee(K,q,Zu(K,W),le);ad(K,W)}return null}function ae(K,q,W,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(W)||null,k(q,K,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return K=K.get(le.key===null?W:le.key)||null,U(q,K,le,Ce);case S:return K=K.get(le.key===null?W:le.key)||null,X(q,K,le,Ce);case D:return le=as(le),ae(K,q,W,le,Ce)}if(re(le)||$(le))return K=K.get(W)||null,oe(q,K,le,Ce,null);if(typeof le.then=="function")return ae(K,q,W,rd(le),Ce);if(le.$$typeof===C)return ae(K,q,W,Zu(q,le),Ce);ad(q,le)}return null}function _e(K,q,W,le){for(var Ce=null,Qe=null,Ee=q,ze=q=0,Ye=null;Ee!==null&&ze<W.length;ze++){Ee.index>ze?(Ye=Ee,Ee=null):Ye=Ee.sibling;var Je=ee(K,Ee,W[ze],le);if(Je===null){Ee===null&&(Ee=Ye);break}a&&Ee&&Je.alternate===null&&s(K,Ee),q=x(Je,q,ze),Qe===null?Ce=Je:Qe.sibling=Je,Qe=Je,Ee=Ye}if(ze===W.length)return c(K,Ee),Ve&&ba(K,ze),Ce;if(Ee===null){for(;ze<W.length;ze++)Ee=ce(K,W[ze],le),Ee!==null&&(q=x(Ee,q,ze),Qe===null?Ce=Ee:Qe.sibling=Ee,Qe=Ee);return Ve&&ba(K,ze),Ce}for(Ee=h(Ee);ze<W.length;ze++)Ye=ae(Ee,K,ze,W[ze],le),Ye!==null&&(a&&Ye.alternate!==null&&Ee.delete(Ye.key===null?ze:Ye.key),q=x(Ye,q,ze),Qe===null?Ce=Ye:Qe.sibling=Ye,Qe=Ye);return a&&Ee.forEach(function(Ei){return s(K,Ei)}),Ve&&ba(K,ze),Ce}function Me(K,q,W,le){if(W==null)throw Error(r(151));for(var Ce=null,Qe=null,Ee=q,ze=q=0,Ye=null,Je=W.next();Ee!==null&&!Je.done;ze++,Je=W.next()){Ee.index>ze?(Ye=Ee,Ee=null):Ye=Ee.sibling;var Ei=ee(K,Ee,Je.value,le);if(Ei===null){Ee===null&&(Ee=Ye);break}a&&Ee&&Ei.alternate===null&&s(K,Ee),q=x(Ei,q,ze),Qe===null?Ce=Ei:Qe.sibling=Ei,Qe=Ei,Ee=Ye}if(Je.done)return c(K,Ee),Ve&&ba(K,ze),Ce;if(Ee===null){for(;!Je.done;ze++,Je=W.next())Je=ce(K,Je.value,le),Je!==null&&(q=x(Je,q,ze),Qe===null?Ce=Je:Qe.sibling=Je,Qe=Je);return Ve&&ba(K,ze),Ce}for(Ee=h(Ee);!Je.done;ze++,Je=W.next())Je=ae(Ee,K,ze,Je.value,le),Je!==null&&(a&&Je.alternate!==null&&Ee.delete(Je.key===null?ze:Je.key),q=x(Je,q,ze),Qe===null?Ce=Je:Qe.sibling=Je,Qe=Je);return a&&Ee.forEach(function(l4){return s(K,l4)}),Ve&&ba(K,ze),Ce}function ft(K,q,W,le){if(typeof W=="object"&&W!==null&&W.type===_&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var Ce=W.key;q!==null;){if(q.key===Ce){if(Ce=W.type,Ce===_){if(q.tag===7){c(K,q.sibling),le=y(q,W.props.children),le.return=K,K=le;break e}}else if(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===D&&as(Ce)===q.type){c(K,q.sibling),le=y(q,W.props),Jl(le,W),le.return=K,K=le;break e}c(K,q);break}else s(K,q);q=q.sibling}W.type===_?(le=Zi(W.props.children,K.mode,le,W.key),le.return=K,K=le):(le=Xu(W.type,W.key,W.props,null,K.mode,le),Jl(le,W),le.return=K,K=le)}return O(K);case S:e:{for(Ce=W.key;q!==null;){if(q.key===Ce)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){c(K,q.sibling),le=y(q,W.children||[]),le.return=K,K=le;break e}else{c(K,q);break}else s(K,q);q=q.sibling}le=Lm(W,K.mode,le),le.return=K,K=le}return O(K);case D:return W=as(W),ft(K,q,W,le)}if(re(W))return _e(K,q,W,le);if($(W)){if(Ce=$(W),typeof Ce!="function")throw Error(r(150));return W=Ce.call(W),Me(K,q,W,le)}if(typeof W.then=="function")return ft(K,q,rd(W),le);if(W.$$typeof===C)return ft(K,q,Zu(K,W),le);ad(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(c(K,q.sibling),le=y(q,W),le.return=K,K=le):(c(K,q),le=Dm(W,K.mode,le),le.return=K,K=le),O(K)):c(K,q)}return function(K,q,W,le){try{Ql=0;var Ce=ft(K,q,W,le);return bo=null,Ce}catch(Ee){if(Ee===yo||Ee===td)throw Ee;var Qe=tr(29,Ee,null,K.mode);return Qe.lanes=le,Qe.return=K,Qe}finally{}}}var ss=O_(!0),N_=O_(!1),li=!1;function Vm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ci(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ui(a,s,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(nt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Wu(a),u_(a,null,c),s}return Vu(a,h,s,c),Wu(a)}function Zl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,yw(a,c)}}function Xm(a,s){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=O:x=x.next=O,c=c.next}while(c!==null);x===null?y=x=s:x=x.next=s}else y=x=s;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Qm=!1;function ec(){if(Qm){var a=vo;if(a!==null)throw a}}function tc(a,s,c,h){Qm=!1;var y=a.updateQueue;li=!1;var x=y.firstBaseUpdate,O=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var U=k,X=U.next;U.next=null,O===null?x=X:O.next=X,O=U;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==O&&(k===null?oe.firstBaseUpdate=X:k.next=X,oe.lastBaseUpdate=U))}if(x!==null){var ce=y.baseState;O=0,oe=X=U=null,k=x;do{var ee=k.lane&-536870913,ae=ee!==k.lane;if(ae?(Ge&ee)===ee:(h&ee)===ee){ee!==0&&ee===go&&(Qm=!0),oe!==null&&(oe=oe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var _e=a,Me=k;ee=s;var ft=c;switch(Me.tag){case 1:if(_e=Me.payload,typeof _e=="function"){ce=_e.call(ft,ce,ee);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Me.payload,ee=typeof _e=="function"?_e.call(ft,ce,ee):_e,ee==null)break e;ce=g({},ce,ee);break e;case 2:li=!0}}ee=k.callback,ee!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[ee]:ae.push(ee))}else ae={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(X=oe=ae,U=ce):oe=oe.next=ae,O|=ee;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;ae=k,k=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);oe===null&&(U=ce),y.baseState=U,y.firstBaseUpdate=X,y.lastBaseUpdate=oe,x===null&&(y.shared.lanes=0),pi|=O,a.lanes=O,a.memoizedState=ce}}function C_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function A_(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)C_(c[a],s)}var xo=M(null),id=M(0);function T_(a,s){a=Ta,F(id,a),F(xo,s),Ta=a|s.baseLanes}function Jm(){F(id,Ta),F(xo,xo.current)}function Zm(){Ta=id.current,L(xo),L(id)}var nr=M(null),jr=null;function di(a){var s=a.alternate;F(zt,zt.current&1),F(nr,a),jr===null&&(s===null||xo.current!==null||s.memoizedState!==null)&&(jr=a)}function ep(a){F(zt,zt.current),F(nr,a),jr===null&&(jr=a)}function k_(a){a.tag===22?(F(zt,zt.current),F(nr,a),jr===null&&(jr=a)):fi()}function fi(){F(zt,zt.current),F(nr,nr.current)}function rr(a){L(nr),jr===a&&(jr=null),L(zt)}var zt=M(0);function sd(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||sg(c)||og(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _a=0,$e=null,ut=null,Vt=null,od=!1,wo=!1,os=!1,ld=0,nc=0,_o=null,JD=0;function It(){throw Error(r(321))}function tp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!er(a[c],s[c]))return!1;return!0}function np(a,s,c,h,y,x){return _a=x,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=a===null||a.memoizedState===null?m1:vp,os=!1,x=c(h,y),os=!1,wo&&(x=P_(s,c,h,y)),M_(a),x}function M_(a){I.H=ic;var s=ut!==null&&ut.next!==null;if(_a=0,Vt=ut=$e=null,od=!1,nc=0,_o=null,s)throw Error(r(300));a===null||Wt||(a=a.dependencies,a!==null&&Ju(a)&&(Wt=!0))}function P_(a,s,c,h){$e=a;var y=0;do{if(wo&&(_o=null),nc=0,wo=!1,25<=y)throw Error(r(301));if(y+=1,Vt=ut=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}I.H=p1,x=s(c,h)}while(wo);return x}function ZD(){var a=I.H,s=a.useState()[0];return s=typeof s.then=="function"?rc(s):s,a=a.useState()[0],(ut!==null?ut.memoizedState:null)!==a&&($e.flags|=1024),s}function rp(){var a=ld!==0;return ld=0,a}function ap(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function ip(a){if(od){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}od=!1}_a=0,Vt=ut=$e=null,wo=!1,nc=ld=0,_o=null}function Rn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?$e.memoizedState=Vt=a:Vt=Vt.next=a,Vt}function Bt(){if(ut===null){var a=$e.alternate;a=a!==null?a.memoizedState:null}else a=ut.next;var s=Vt===null?$e.memoizedState:Vt.next;if(s!==null)Vt=s,ut=a;else{if(a===null)throw $e.alternate===null?Error(r(467)):Error(r(310));ut=a,a={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Vt===null?$e.memoizedState=Vt=a:Vt=Vt.next=a}return Vt}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(a){var s=nc;return nc+=1,_o===null&&(_o=[]),a=S_(_o,a,s),s=$e,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?m1:vp),a}function ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return rc(a);if(a.$$typeof===C)return Sn(a)}throw Error(r(438,String(a)))}function sp(a){var s=null,c=$e.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=$e.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=cd(),$e.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),h=0;h<a;h++)c[h]=z;return s.index++,c}function Sa(a,s){return typeof s=="function"?s(a):s}function dd(a){var s=Bt();return op(s,ut,a)}function op(a,s,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=a.baseQueue,x=h.pending;if(x!==null){if(y!==null){var O=y.next;y.next=x.next,x.next=O}s.baseQueue=y=x,h.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{s=y.next;var k=O=null,U=null,X=s,oe=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(Ge&ce)===ce:(_a&ce)===ce){var ee=X.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===go&&(oe=!0);else if((_a&ee)===ee){X=X.next,ee===go&&(oe=!0);continue}else ce={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(k=U=ce,O=x):U=U.next=ce,$e.lanes|=ee,pi|=ee;ce=X.action,os&&c(x,ce),x=X.hasEagerState?X.eagerState:c(x,ce)}else ee={lane:ce,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(k=U=ee,O=x):U=U.next=ee,$e.lanes|=ce,pi|=ce;X=X.next}while(X!==null&&X!==s);if(U===null?O=x:U.next=k,!er(x,a.memoizedState)&&(Wt=!0,oe&&(c=vo,c!==null)))throw c;a.memoizedState=x,a.baseState=O,a.baseQueue=U,h.lastRenderedState=x}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function lp(a){var s=Bt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,x=s.memoizedState;if(y!==null){c.pending=null;var O=y=y.next;do x=a(x,O.action),O=O.next;while(O!==y);er(x,s.memoizedState)||(Wt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),c.lastRenderedState=x}return[x,h]}function R_(a,s,c){var h=$e,y=Bt(),x=Ve;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=s();var O=!er((ut||y).memoizedState,c);if(O&&(y.memoizedState=c,Wt=!0),y=y.queue,dp(I_.bind(null,h,y,a),[a]),y.getSnapshot!==s||O||Vt!==null&&Vt.memoizedState.tag&1){if(h.flags|=2048,So(9,{destroy:void 0},L_.bind(null,h,y,c,s),null),gt===null)throw Error(r(349));x||(_a&127)!==0||D_(h,s,c)}return c}function D_(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=$e.updateQueue,s===null?(s=cd(),$e.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function L_(a,s,c,h){s.value=c,s.getSnapshot=h,U_(s)&&$_(a)}function I_(a,s,c){return c(function(){U_(s)&&$_(a)})}function U_(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!er(a,c)}catch{return!0}}function $_(a){var s=Ji(a,2);s!==null&&Yn(s,a,2)}function cp(a){var s=Rn();if(typeof a=="function"){var c=a;if(a=c(),os){tt(!0);try{c()}finally{tt(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:a},s}function z_(a,s,c,h){return a.baseState=c,op(a,ut,typeof h=="function"?h:Sa)}function e3(a,s,c,h,y){if(md(a))throw Error(r(485));if(a=s.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};I.T!==null?c(!0):x.isTransition=!1,h(x),c=s.pending,c===null?(x.next=s.pending=x,B_(s,x)):(x.next=c.next,s.pending=c.next=x)}}function B_(a,s){var c=s.action,h=s.payload,y=a.state;if(s.isTransition){var x=I.T,O={};I.T=O;try{var k=c(y,h),U=I.S;U!==null&&U(O,k),q_(a,s,k)}catch(X){up(a,s,X)}finally{x!==null&&O.types!==null&&(x.types=O.types),I.T=x}}else try{x=c(y,h),q_(a,s,x)}catch(X){up(a,s,X)}}function q_(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){H_(a,s,h)},function(h){return up(a,s,h)}):H_(a,s,c)}function H_(a,s,c){s.status="fulfilled",s.value=c,K_(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,B_(a,c)))}function up(a,s,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,K_(s),s=s.next;while(s!==h)}a.action=null}function K_(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function F_(a,s){return s}function G_(a,s){if(Ve){var c=gt.formState;if(c!==null){e:{var h=$e;if(Ve){if(_t){t:{for(var y=_t,x=Sr;y.nodeType!==8;){if(!x){y=null;break t}if(y=Er(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){_t=Er(y.nextSibling),h=y.data==="F!";break e}}si(h)}h=!1}h&&(s=c[0])}}return c=Rn(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:s},c.queue=h,c=d1.bind(null,$e,h),h.dispatch=c,h=cp(!1),x=gp.bind(null,$e,!1,h.queue),h=Rn(),y={state:s,dispatch:null,action:a,pending:null},h.queue=y,c=e3.bind(null,$e,y,x,c),y.dispatch=c,h.memoizedState=a,[s,c,!1]}function Y_(a){var s=Bt();return V_(s,ut,a)}function V_(a,s,c){if(s=op(a,s,F_)[0],a=dd(Sa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=rc(s)}catch(O){throw O===yo?td:O}else h=s;s=Bt();var y=s.queue,x=y.dispatch;return c!==s.memoizedState&&($e.flags|=2048,So(9,{destroy:void 0},t3.bind(null,y,c),null)),[h,x,a]}function t3(a,s){a.action=s}function W_(a){var s=Bt(),c=ut;if(c!==null)return V_(s,c,a);Bt(),s=s.memoizedState,c=Bt();var h=c.queue.dispatch;return c.memoizedState=a,[s,h,!1]}function So(a,s,c,h){return a={tag:a,create:c,deps:h,inst:s,next:null},s=$e.updateQueue,s===null&&(s=cd(),$e.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,s.lastEffect=a),a}function X_(){return Bt().memoizedState}function fd(a,s,c,h){var y=Rn();$e.flags|=a,y.memoizedState=So(1|s,{destroy:void 0},c,h===void 0?null:h)}function hd(a,s,c,h){var y=Bt();h=h===void 0?null:h;var x=y.memoizedState.inst;ut!==null&&h!==null&&tp(h,ut.memoizedState.deps)?y.memoizedState=So(s,x,c,h):($e.flags|=a,y.memoizedState=So(1|s,x,c,h))}function Q_(a,s){fd(8390656,8,a,s)}function dp(a,s){hd(2048,8,a,s)}function n3(a){$e.flags|=4;var s=$e.updateQueue;if(s===null)s=cd(),$e.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function J_(a){var s=Bt().memoizedState;return n3({ref:s,nextImpl:a}),function(){if((nt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Z_(a,s){return hd(4,2,a,s)}function e1(a,s){return hd(4,4,a,s)}function t1(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function n1(a,s,c){c=c!=null?c.concat([a]):null,hd(4,4,t1.bind(null,s,a),c)}function fp(){}function r1(a,s){var c=Bt();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&tp(s,h[1])?h[0]:(c.memoizedState=[a,s],a)}function a1(a,s){var c=Bt();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&tp(s,h[1]))return h[0];if(h=a(),os){tt(!0);try{a()}finally{tt(!1)}}return c.memoizedState=[h,s],h}function hp(a,s,c){return c===void 0||(_a&1073741824)!==0&&(Ge&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=iS(),$e.lanes|=a,pi|=a,c)}function i1(a,s,c,h){return er(c,s)?c:xo.current!==null?(a=hp(a,c,h),er(a,s)||(Wt=!0),a):(_a&42)===0||(_a&1073741824)!==0&&(Ge&261930)===0?(Wt=!0,a.memoizedState=c):(a=iS(),$e.lanes|=a,pi|=a,s)}function s1(a,s,c,h,y){var x=V.p;V.p=x!==0&&8>x?x:8;var O=I.T,k={};I.T=k,gp(a,!1,s,c);try{var U=y(),X=I.S;if(X!==null&&X(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=QD(U,h);ac(a,s,oe,sr(a))}else ac(a,s,h,sr(a))}catch(ce){ac(a,s,{then:function(){},status:"rejected",reason:ce},sr())}finally{V.p=x,O!==null&&k.types!==null&&(O.types=k.types),I.T=O}}function r3(){}function mp(a,s,c,h){if(a.tag!==5)throw Error(r(476));var y=o1(a).queue;s1(a,y,s,ie,c===null?r3:function(){return l1(a),c(h)})}function o1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:ie},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function l1(a){var s=o1(a);s.next===null&&(s=a.alternate.memoizedState),ac(a,s.next.queue,{},sr())}function pp(){return Sn(wc)}function c1(){return Bt().memoizedState}function u1(){return Bt().memoizedState}function a3(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=sr();a=ci(c);var h=ui(s,a,c);h!==null&&(Yn(h,s,c),Zl(h,s,c)),s={cache:Km()},a.payload=s;return}s=s.return}}function i3(a,s,c){var h=sr();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},md(a)?f1(s,c):(c=Pm(a,s,c,h),c!==null&&(Yn(c,a,h),h1(c,s,h)))}function d1(a,s,c){var h=sr();ac(a,s,c,h)}function ac(a,s,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(md(a))f1(s,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var O=s.lastRenderedState,k=x(O,c);if(y.hasEagerState=!0,y.eagerState=k,er(k,O))return Vu(a,s,y,0),gt===null&&Yu(),!1}catch{}finally{}if(c=Pm(a,s,y,h),c!==null)return Yn(c,a,h),h1(c,s,h),!0}return!1}function gp(a,s,c,h){if(h={lane:2,revertLane:Vp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},md(a)){if(s)throw Error(r(479))}else s=Pm(a,c,h,2),s!==null&&Yn(s,a,2)}function md(a){var s=a.alternate;return a===$e||s!==null&&s===$e}function f1(a,s){wo=od=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function h1(a,s,c){if((c&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,yw(a,c)}}var ic={readContext:Sn,use:ud,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};ic.useEffectEvent=It;var m1={readContext:Sn,use:ud,useCallback:function(a,s){return Rn().memoizedState=[a,s===void 0?null:s],a},useContext:Sn,useEffect:Q_,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,fd(4194308,4,t1.bind(null,s,a),c)},useLayoutEffect:function(a,s){return fd(4194308,4,a,s)},useInsertionEffect:function(a,s){fd(4,2,a,s)},useMemo:function(a,s){var c=Rn();s=s===void 0?null:s;var h=a();if(os){tt(!0);try{a()}finally{tt(!1)}}return c.memoizedState=[h,s],h},useReducer:function(a,s,c){var h=Rn();if(c!==void 0){var y=c(s);if(os){tt(!0);try{c(s)}finally{tt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=i3.bind(null,$e,a),[h.memoizedState,a]},useRef:function(a){var s=Rn();return a={current:a},s.memoizedState=a},useState:function(a){a=cp(a);var s=a.queue,c=d1.bind(null,$e,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:fp,useDeferredValue:function(a,s){var c=Rn();return hp(c,a,s)},useTransition:function(){var a=cp(!1);return a=s1.bind(null,$e,a.queue,!0,!1),Rn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var h=$e,y=Rn();if(Ve){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),gt===null)throw Error(r(349));(Ge&127)!==0||D_(h,s,c)}y.memoizedState=c;var x={value:c,getSnapshot:s};return y.queue=x,Q_(I_.bind(null,h,x,a),[a]),h.flags|=2048,So(9,{destroy:void 0},L_.bind(null,h,x,c,s),null),c},useId:function(){var a=Rn(),s=gt.identifierPrefix;if(Ve){var c=ea,h=Zr;c=(h&~(1<<32-bt(h)-1)).toString(32)+c,s="_"+s+"R_"+c,c=ld++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=JD++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:pp,useFormState:G_,useActionState:G_,useOptimistic:function(a){var s=Rn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=gp.bind(null,$e,!0,c),c.dispatch=s,[a,s]},useMemoCache:sp,useCacheRefresh:function(){return Rn().memoizedState=a3.bind(null,$e)},useEffectEvent:function(a){var s=Rn(),c={impl:a};return s.memoizedState=c,function(){if((nt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},vp={readContext:Sn,use:ud,useCallback:r1,useContext:Sn,useEffect:dp,useImperativeHandle:n1,useInsertionEffect:Z_,useLayoutEffect:e1,useMemo:a1,useReducer:dd,useRef:X_,useState:function(){return dd(Sa)},useDebugValue:fp,useDeferredValue:function(a,s){var c=Bt();return i1(c,ut.memoizedState,a,s)},useTransition:function(){var a=dd(Sa)[0],s=Bt().memoizedState;return[typeof a=="boolean"?a:rc(a),s]},useSyncExternalStore:R_,useId:c1,useHostTransitionStatus:pp,useFormState:Y_,useActionState:Y_,useOptimistic:function(a,s){var c=Bt();return z_(c,ut,a,s)},useMemoCache:sp,useCacheRefresh:u1};vp.useEffectEvent=J_;var p1={readContext:Sn,use:ud,useCallback:r1,useContext:Sn,useEffect:dp,useImperativeHandle:n1,useInsertionEffect:Z_,useLayoutEffect:e1,useMemo:a1,useReducer:lp,useRef:X_,useState:function(){return lp(Sa)},useDebugValue:fp,useDeferredValue:function(a,s){var c=Bt();return ut===null?hp(c,a,s):i1(c,ut.memoizedState,a,s)},useTransition:function(){var a=lp(Sa)[0],s=Bt().memoizedState;return[typeof a=="boolean"?a:rc(a),s]},useSyncExternalStore:R_,useId:c1,useHostTransitionStatus:pp,useFormState:W_,useActionState:W_,useOptimistic:function(a,s){var c=Bt();return ut!==null?z_(c,ut,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:sp,useCacheRefresh:u1};p1.useEffectEvent=J_;function yp(a,s,c,h){s=a.memoizedState,c=c(h,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var bp={enqueueSetState:function(a,s,c){a=a._reactInternals;var h=sr(),y=ci(h);y.payload=s,c!=null&&(y.callback=c),s=ui(a,y,h),s!==null&&(Yn(s,a,h),Zl(s,a,h))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var h=sr(),y=ci(h);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=ui(a,y,h),s!==null&&(Yn(s,a,h),Zl(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=sr(),h=ci(c);h.tag=2,s!=null&&(h.callback=s),s=ui(a,h,c),s!==null&&(Yn(s,a,c),Zl(s,a,c))}};function g1(a,s,c,h,y,x,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,O):s.prototype&&s.prototype.isPureReactComponent?!Fl(c,h)||!Fl(y,x):!0}function v1(a,s,c,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==a&&bp.enqueueReplaceState(s,s.state,null)}function ls(a,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function y1(a){Gu(a)}function b1(a){console.error(a)}function x1(a){Gu(a)}function pd(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function w1(a,s,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function xp(a,s,c){return c=ci(c),c.tag=3,c.payload={element:null},c.callback=function(){pd(a,s)},c}function _1(a){return a=ci(a),a.tag=3,a}function S1(a,s,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;a.payload=function(){return y(x)},a.callback=function(){w1(s,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){w1(s,c,h),typeof y!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function s3(a,s,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&po(s,c,y,!0),c=nr.current,c!==null){switch(c.tag){case 31:case 13:return jr===null?Nd():c.alternate===null&&Ut===0&&(Ut=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===nd?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),Fp(a,h,y)),!1;case 22:return c.flags|=65536,h===nd?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),Fp(a,h,y)),!1}throw Error(r(435,c.tag))}return Fp(a,h,y),Nd(),!1}if(Ve)return s=nr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==$m&&(a=Error(r(422),{cause:h}),Vl(xr(a,c)))):(h!==$m&&(s=Error(r(423),{cause:h}),Vl(xr(s,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=xr(h,c),y=xp(a.stateNode,h,y),Xm(a,y),Ut!==4&&(Ut=2)),!1;var x=Error(r(520),{cause:h});if(x=xr(x,c),hc===null?hc=[x]:hc.push(x),Ut!==4&&(Ut=2),s===null)return!0;h=xr(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=xp(c.stateNode,h,a),Xm(c,a),!1;case 1:if(s=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(gi===null||!gi.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=_1(y),S1(y,a,c,h),Xm(c,y),!1}c=c.return}while(c!==null);return!1}var wp=Error(r(461)),Wt=!1;function jn(a,s,c,h){s.child=a===null?N_(s,null,c,h):ss(s,a.child,c,h)}function j1(a,s,c,h,y){c=c.render;var x=s.ref;if("ref"in h){var O={};for(var k in h)k!=="ref"&&(O[k]=h[k])}else O=h;return ns(s),h=np(a,s,c,O,x,y),k=rp(),a!==null&&!Wt?(ap(a,s,y),ja(a,s,y)):(Ve&&k&&Im(s),s.flags|=1,jn(a,s,h,y),s.child)}function E1(a,s,c,h,y){if(a===null){var x=c.type;return typeof x=="function"&&!Rm(x)&&x.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=x,O1(a,s,x,h,y)):(a=Xu(c.type,null,h,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(x=a.child,!Ap(a,y)){var O=x.memoizedProps;if(c=c.compare,c=c!==null?c:Fl,c(O,h)&&a.ref===s.ref)return ja(a,s,y)}return s.flags|=1,a=ya(x,h),a.ref=s.ref,a.return=s,s.child=a}function O1(a,s,c,h,y){if(a!==null){var x=a.memoizedProps;if(Fl(x,h)&&a.ref===s.ref)if(Wt=!1,s.pendingProps=h=x,Ap(a,y))(a.flags&131072)!==0&&(Wt=!0);else return s.lanes=a.lanes,ja(a,s,y)}return _p(a,s,c,h,y)}function N1(a,s,c,h){var y=h.children,x=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(h=s.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~x}else h=0,s.child=null;return C1(a,s,x,c,h)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&ed(s,x!==null?x.cachePool:null),x!==null?T_(s,x):Jm(),k_(s);else return h=s.lanes=536870912,C1(a,s,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(ed(s,x.cachePool),T_(s,x),fi(),s.memoizedState=null):(a!==null&&ed(s,null),Jm(),fi());return jn(a,s,y,c),s.child}function sc(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function C1(a,s,c,h,y){var x=Gm();return x=x===null?null:{parent:Yt._currentValue,pool:x},s.memoizedState={baseLanes:c,cachePool:x},a!==null&&ed(s,null),Jm(),k_(s),a!==null&&po(a,s,h,!0),s.childLanes=y,null}function gd(a,s){return s=yd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function A1(a,s,c){return ss(s,a.child,null,c),a=gd(s,s.pendingProps),a.flags|=2,rr(s),s.memoizedState=null,a}function o3(a,s,c){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ve){if(h.mode==="hidden")return a=gd(s,h),s.lanes=536870912,sc(null,a);if(ep(s),(a=_t)?(a=BS(a,Sr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ai!==null?{id:Zr,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},c=f_(a),c.return=s,s.child=c,_n=s,_t=null)):a=null,a===null)throw si(s);return s.lanes=536870912,null}return gd(s,h)}var x=a.memoizedState;if(x!==null){var O=x.dehydrated;if(ep(s),y)if(s.flags&256)s.flags&=-257,s=A1(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Wt||po(a,s,c,!1),y=(c&a.childLanes)!==0,Wt||y){if(h=gt,h!==null&&(O=bw(h,c),O!==0&&O!==x.retryLane))throw x.retryLane=O,Ji(a,O),Yn(h,a,O),wp;Nd(),s=A1(a,s,c)}else a=x.treeContext,_t=Er(O.nextSibling),_n=s,Ve=!0,ii=null,Sr=!1,a!==null&&p_(s,a),s=gd(s,h),s.flags|=4096;return s}return a=ya(a.child,{mode:h.mode,children:h.children}),a.ref=s.ref,s.child=a,a.return=s,a}function vd(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function _p(a,s,c,h,y){return ns(s),c=np(a,s,c,h,void 0,y),h=rp(),a!==null&&!Wt?(ap(a,s,y),ja(a,s,y)):(Ve&&h&&Im(s),s.flags|=1,jn(a,s,c,y),s.child)}function T1(a,s,c,h,y,x){return ns(s),s.updateQueue=null,c=P_(s,h,c,y),M_(a),h=rp(),a!==null&&!Wt?(ap(a,s,x),ja(a,s,x)):(Ve&&h&&Im(s),s.flags|=1,jn(a,s,c,x),s.child)}function k1(a,s,c,h,y){if(ns(s),s.stateNode===null){var x=uo,O=c.contextType;typeof O=="object"&&O!==null&&(x=Sn(O)),x=new c(h,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=bp,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=h,x.state=s.memoizedState,x.refs={},Vm(s),O=c.contextType,x.context=typeof O=="object"&&O!==null?Sn(O):uo,x.state=s.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(yp(s,c,O,h),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&bp.enqueueReplaceState(x,x.state,null),tc(s,h,x,y),ec(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){x=s.stateNode;var k=s.memoizedProps,U=ls(c,k);x.props=U;var X=x.context,oe=c.contextType;O=uo,typeof oe=="object"&&oe!==null&&(O=Sn(oe));var ce=c.getDerivedStateFromProps;oe=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||X!==O)&&v1(s,x,h,O),li=!1;var ee=s.memoizedState;x.state=ee,tc(s,h,x,y),ec(),X=s.memoizedState,k||ee!==X||li?(typeof ce=="function"&&(yp(s,c,ce,h),X=s.memoizedState),(U=li||g1(s,c,U,h,ee,X,O))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=X),x.props=h,x.state=X,x.context=O,h=U):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{x=s.stateNode,Wm(a,s),O=s.memoizedProps,oe=ls(c,O),x.props=oe,ce=s.pendingProps,ee=x.context,X=c.contextType,U=uo,typeof X=="object"&&X!==null&&(U=Sn(X)),k=c.getDerivedStateFromProps,(X=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==ce||ee!==U)&&v1(s,x,h,U),li=!1,ee=s.memoizedState,x.state=ee,tc(s,h,x,y),ec();var ae=s.memoizedState;O!==ce||ee!==ae||li||a!==null&&a.dependencies!==null&&Ju(a.dependencies)?(typeof k=="function"&&(yp(s,c,k,h),ae=s.memoizedState),(oe=li||g1(s,c,oe,h,ee,ae,U)||a!==null&&a.dependencies!==null&&Ju(a.dependencies))?(X||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ae,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ae,U)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ae),x.props=h,x.state=ae,x.context=U,h=oe):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),h=!1)}return x=h,vd(a,s),h=(s.flags&128)!==0,x||h?(x=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,a!==null&&h?(s.child=ss(s,a.child,null,y),s.child=ss(s,null,c,y)):jn(a,s,c,y),s.memoizedState=x.state,a=s.child):a=ja(a,s,y),a}function M1(a,s,c,h){return es(),s.flags|=256,jn(a,s,c,h),s.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jp(a){return{baseLanes:a,cachePool:w_()}}function Ep(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=ir),a}function P1(a,s,c){var h=s.pendingProps,y=!1,x=(s.flags&128)!==0,O;if((O=x)||(O=a!==null&&a.memoizedState===null?!1:(zt.current&2)!==0),O&&(y=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ve){if(y?di(s):fi(),(a=_t)?(a=BS(a,Sr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ai!==null?{id:Zr,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},c=f_(a),c.return=s,s.child=c,_n=s,_t=null)):a=null,a===null)throw si(s);return og(a)?s.lanes=32:s.lanes=536870912,null}var k=h.children;return h=h.fallback,y?(fi(),y=s.mode,k=yd({mode:"hidden",children:k},y),h=Zi(h,y,c,null),k.return=s,h.return=s,k.sibling=h,s.child=k,h=s.child,h.memoizedState=jp(c),h.childLanes=Ep(a,O,c),s.memoizedState=Sp,sc(null,h)):(di(s),Op(s,k))}var U=a.memoizedState;if(U!==null&&(k=U.dehydrated,k!==null)){if(x)s.flags&256?(di(s),s.flags&=-257,s=Np(a,s,c)):s.memoizedState!==null?(fi(),s.child=a.child,s.flags|=128,s=null):(fi(),k=h.fallback,y=s.mode,h=yd({mode:"visible",children:h.children},y),k=Zi(k,y,c,null),k.flags|=2,h.return=s,k.return=s,h.sibling=k,s.child=h,ss(s,a.child,null,c),h=s.child,h.memoizedState=jp(c),h.childLanes=Ep(a,O,c),s.memoizedState=Sp,s=sc(null,h));else if(di(s),og(k)){if(O=k.nextSibling&&k.nextSibling.dataset,O)var X=O.dgst;O=X,h=Error(r(419)),h.stack="",h.digest=O,Vl({value:h,source:null,stack:null}),s=Np(a,s,c)}else if(Wt||po(a,s,c,!1),O=(c&a.childLanes)!==0,Wt||O){if(O=gt,O!==null&&(h=bw(O,c),h!==0&&h!==U.retryLane))throw U.retryLane=h,Ji(a,h),Yn(O,a,h),wp;sg(k)||Nd(),s=Np(a,s,c)}else sg(k)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,_t=Er(k.nextSibling),_n=s,Ve=!0,ii=null,Sr=!1,a!==null&&p_(s,a),s=Op(s,h.children),s.flags|=4096);return s}return y?(fi(),k=h.fallback,y=s.mode,U=a.child,X=U.sibling,h=ya(U,{mode:"hidden",children:h.children}),h.subtreeFlags=U.subtreeFlags&65011712,X!==null?k=ya(X,k):(k=Zi(k,y,c,null),k.flags|=2),k.return=s,h.return=s,h.sibling=k,s.child=h,sc(null,h),h=s.child,k=a.child.memoizedState,k===null?k=jp(c):(y=k.cachePool,y!==null?(U=Yt._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=w_(),k={baseLanes:k.baseLanes|c,cachePool:y}),h.memoizedState=k,h.childLanes=Ep(a,O,c),s.memoizedState=Sp,sc(a.child,h)):(di(s),c=a.child,a=c.sibling,c=ya(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,a!==null&&(O=s.deletions,O===null?(s.deletions=[a],s.flags|=16):O.push(a)),s.child=c,s.memoizedState=null,c)}function Op(a,s){return s=yd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function yd(a,s){return a=tr(22,a,null,s),a.lanes=0,a}function Np(a,s,c){return ss(s,a.child,null,c),a=Op(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function R1(a,s,c){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),qm(a.return,s,c)}function Cp(a,s,c,h,y,x){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:x}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=y,O.treeForkCount=x)}function D1(a,s,c){var h=s.pendingProps,y=h.revealOrder,x=h.tail;h=h.children;var O=zt.current,k=(O&2)!==0;if(k?(O=O&1|2,s.flags|=128):O&=1,F(zt,O),jn(a,s,h,c),h=Ve?Yl:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&R1(a,c,s);else if(a.tag===19)R1(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=s.child,y=null;c!==null;)a=c.alternate,a!==null&&sd(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),Cp(s,!1,y,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&sd(a)===null){s.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Cp(s,!0,c,null,x,h);break;case"together":Cp(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ja(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),pi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(po(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=ya(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ya(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Ap(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Ju(a)))}function l3(a,s,c){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),oi(s,Yt,a.memoizedState.cache),es();break;case 27:case 5:ye(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:oi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ep(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(di(s),s.flags|=128,null):(c&s.child.childLanes)!==0?P1(a,s,c):(di(s),a=ja(a,s,c),a!==null?a.sibling:null);di(s);break;case 19:var y=(a.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(po(a,s,c,!1),h=(c&s.childLanes)!==0),y){if(h)return D1(a,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),F(zt,zt.current),h)break;return null;case 22:return s.lanes=0,N1(a,s,c,s.pendingProps);case 24:oi(s,Yt,a.memoizedState.cache)}return ja(a,s,c)}function L1(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Wt=!0;else{if(!Ap(a,c)&&(s.flags&128)===0)return Wt=!1,l3(a,s,c);Wt=(a.flags&131072)!==0}else Wt=!1,Ve&&(s.flags&1048576)!==0&&m_(s,Yl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(a=as(s.elementType),s.type=a,typeof a=="function")Rm(a)?(h=ls(a,h),s.tag=1,s=k1(null,s,a,h,c)):(s.tag=0,s=_p(null,s,a,h,c));else{if(a!=null){var y=a.$$typeof;if(y===A){s.tag=11,s=j1(null,s,a,h,c);break e}else if(y===R){s.tag=14,s=E1(null,s,a,h,c);break e}}throw s=Q(a)||a,Error(r(306,s,""))}}return s;case 0:return _p(a,s,s.type,s.pendingProps,c);case 1:return h=s.type,y=ls(h,s.pendingProps),k1(a,s,h,y,c);case 3:e:{if(be(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var x=s.memoizedState;y=x.element,Wm(a,s),tc(s,h,null,c);var O=s.memoizedState;if(h=O.cache,oi(s,Yt,h),h!==x.cache&&Hm(s,[Yt],c,!0),ec(),h=O.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=M1(a,s,h,c);break e}else if(h!==y){y=xr(Error(r(424)),s),Vl(y),s=M1(a,s,h,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(_t=Er(a.firstChild),_n=s,Ve=!0,ii=null,Sr=!0,c=N_(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(es(),h===y){s=ja(a,s,c);break e}jn(a,s,h,c)}s=s.child}return s;case 26:return vd(a,s),a===null?(c=YS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ve||(c=s.type,a=s.pendingProps,h=Rd(G.current).createElement(c),h[wn]=s,h[Bn]=a,En(h,c,a),fn(h),s.stateNode=h):s.memoizedState=YS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ye(s),a===null&&Ve&&(h=s.stateNode=KS(s.type,s.pendingProps,G.current),_n=s,Sr=!0,y=_t,xi(s.type)?(lg=y,_t=Er(h.firstChild)):_t=y),jn(a,s,s.pendingProps.children,c),vd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ve&&((y=h=_t)&&(h=U3(h,s.type,s.pendingProps,Sr),h!==null?(s.stateNode=h,_n=s,_t=Er(h.firstChild),Sr=!1,y=!0):y=!1),y||si(s)),ye(s),y=s.type,x=s.pendingProps,O=a!==null?a.memoizedProps:null,h=x.children,rg(y,x)?h=null:O!==null&&rg(y,O)&&(s.flags|=32),s.memoizedState!==null&&(y=np(a,s,ZD,null,null,c),wc._currentValue=y),vd(a,s),jn(a,s,h,c),s.child;case 6:return a===null&&Ve&&((a=c=_t)&&(c=$3(c,s.pendingProps,Sr),c!==null?(s.stateNode=c,_n=s,_t=null,a=!0):a=!1),a||si(s)),null;case 13:return P1(a,s,c);case 4:return be(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=ss(s,null,h,c):jn(a,s,h,c),s.child;case 11:return j1(a,s,s.type,s.pendingProps,c);case 7:return jn(a,s,s.pendingProps,c),s.child;case 8:return jn(a,s,s.pendingProps.children,c),s.child;case 12:return jn(a,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,oi(s,s.type,h.value),jn(a,s,h.children,c),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,ns(s),y=Sn(y),h=h(y),s.flags|=1,jn(a,s,h,c),s.child;case 14:return E1(a,s,s.type,s.pendingProps,c);case 15:return O1(a,s,s.type,s.pendingProps,c);case 19:return D1(a,s,c);case 31:return o3(a,s,c);case 22:return N1(a,s,c,s.pendingProps);case 24:return ns(s),h=Sn(Yt),a===null?(y=Gm(),y===null&&(y=gt,x=Km(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),s.memoizedState={parent:h,cache:y},Vm(s),oi(s,Yt,y)):((a.lanes&c)!==0&&(Wm(a,s),tc(s,null,null,c),ec()),y=a.memoizedState,x=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),oi(s,Yt,h)):(h=x.cache,oi(s,Yt,h),h!==y.cache&&Hm(s,[Yt],c,!0))),jn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ea(a){a.flags|=4}function Tp(a,s,c,h,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(cS())a.flags|=8192;else throw is=nd,Ym}else a.flags&=-16777217}function I1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!JS(s))if(cS())a.flags|=8192;else throw is=nd,Ym}function bd(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?gw():536870912,a.lanes|=s,No|=s)}function oc(a,s){if(!Ve)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function St(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(s)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,s}function c3(a,s,c){var h=s.pendingProps;switch(Um(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return c=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),wa(Yt),Z(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(mo(s)?Ea(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zm())),St(s),null;case 26:var y=s.type,x=s.memoizedState;return a===null?(Ea(s),x!==null?(St(s),I1(s,x)):(St(s),Tp(s,y,null,h,c))):x?x!==a.memoizedState?(Ea(s),St(s),I1(s,x)):(St(s),s.flags&=-16777217):(a=a.memoizedProps,a!==h&&Ea(s),St(s),Tp(s,y,a,h,c)),null;case 27:if(Se(s),c=G.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&Ea(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return St(s),null}a=Y.current,mo(s)?g_(s):(a=KS(y,h,c),s.stateNode=a,Ea(s))}return St(s),null;case 5:if(Se(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&Ea(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return St(s),null}if(x=Y.current,mo(s))g_(s);else{var O=Rd(G.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?O.createElement(y,{is:h.is}):O.createElement(y)}}x[wn]=s,x[Bn]=h;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=x;e:switch(En(x,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ea(s)}}return St(s),Tp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&Ea(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=G.current,mo(s)){if(a=s.stateNode,c=s.memoizedProps,h=null,y=_n,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[wn]=s,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||PS(a.nodeValue,c)),a||si(s,!0)}else a=Rd(a).createTextNode(h),a[wn]=s,s.stateNode=a}return St(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(h=mo(s),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[wn]=s}else es(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),a=!1}else c=zm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(rr(s),s):(rr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return St(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=mo(s),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[wn]=s}else es(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),y=!1}else y=zm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(rr(s),s):(rr(s),null)}return rr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),bd(s,s.updateQueue),St(s),null);case 4:return Z(),a===null&&Jp(s.stateNode.containerInfo),St(s),null;case 10:return wa(s.type),St(s),null;case 19:if(L(zt),h=s.memoizedState,h===null)return St(s),null;if(y=(s.flags&128)!==0,x=h.rendering,x===null)if(y)oc(h,!1);else{if(Ut!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(x=sd(a),x!==null){for(s.flags|=128,oc(h,!1),a=x.updateQueue,s.updateQueue=a,bd(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)d_(c,a),c=c.sibling;return F(zt,zt.current&1|2),Ve&&ba(s,h.treeForkCount),s.child}a=a.sibling}h.tail!==null&&Pe()>jd&&(s.flags|=128,y=!0,oc(h,!1),s.lanes=4194304)}else{if(!y)if(a=sd(x),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,bd(s,a),oc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!Ve)return St(s),null}else 2*Pe()-h.renderingStartTime>jd&&c!==536870912&&(s.flags|=128,y=!0,oc(h,!1),s.lanes=4194304);h.isBackwards?(x.sibling=s.child,s.child=x):(a=h.last,a!==null?a.sibling=x:s.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Pe(),a.sibling=null,c=zt.current,F(zt,y?c&1|2:c&1),Ve&&ba(s,h.treeForkCount),a):(St(s),null);case 22:case 23:return rr(s),Zm(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),c=s.updateQueue,c!==null&&bd(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),a!==null&&L(rs),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wa(Yt),St(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function u3(a,s){switch(Um(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return wa(Yt),Z(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Se(s),null;case 31:if(s.memoizedState!==null){if(rr(s),s.alternate===null)throw Error(r(340));es()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(rr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));es()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return L(zt),null;case 4:return Z(),null;case 10:return wa(s.type),null;case 22:case 23:return rr(s),Zm(),a!==null&&L(rs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return wa(Yt),null;case 25:return null;default:return null}}function U1(a,s){switch(Um(s),s.tag){case 3:wa(Yt),Z();break;case 26:case 27:case 5:Se(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&rr(s);break;case 13:rr(s);break;case 19:L(zt);break;case 10:wa(s.type);break;case 22:case 23:rr(s),Zm(),a!==null&&L(rs);break;case 24:wa(Yt)}}function lc(a,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var x=c.create,O=c.inst;h=x(),O.destroy=h}c=c.next}while(c!==y)}}catch(k){ot(s,s.return,k)}}function hi(a,s,c){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&a)===a){var O=h.inst,k=O.destroy;if(k!==void 0){O.destroy=void 0,y=s;var U=c,X=k;try{X()}catch(oe){ot(y,U,oe)}}}h=h.next}while(h!==x)}}catch(oe){ot(s,s.return,oe)}}function $1(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{A_(s,c)}catch(h){ot(a,a.return,h)}}}function z1(a,s,c){c.props=ls(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){ot(a,s,h)}}function cc(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(y){ot(a,s,y)}}function ta(a,s){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){ot(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){ot(a,s,y)}else c.current=null}function B1(a){var s=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){ot(a,a.return,y)}}function kp(a,s,c){try{var h=a.stateNode;M3(h,a.type,c,s),h[Bn]=s}catch(y){ot(a,a.return,y)}}function q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xi(a.type)||a.tag===4}function Mp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Pp(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ga));else if(h!==4&&(h===27&&xi(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Pp(a,s,c),a=a.sibling;a!==null;)Pp(a,s,c),a=a.sibling}function xd(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(h!==4&&(h===27&&xi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(xd(a,s,c),a=a.sibling;a!==null;)xd(a,s,c),a=a.sibling}function H1(a){var s=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);En(s,h,c),s[wn]=a,s[Bn]=c}catch(x){ot(a,a.return,x)}}var Oa=!1,Xt=!1,Rp=!1,K1=typeof WeakSet=="function"?WeakSet:Set,hn=null;function d3(a,s){if(a=a.containerInfo,tg=Bd,a=n_(a),Nm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var O=0,k=-1,U=-1,X=0,oe=0,ce=a,ee=null;t:for(;;){for(var ae;ce!==c||y!==0&&ce.nodeType!==3||(k=O+y),ce!==x||h!==0&&ce.nodeType!==3||(U=O+h),ce.nodeType===3&&(O+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)ee=ce,ce=ae;for(;;){if(ce===a)break t;if(ee===c&&++X===y&&(k=O),ee===x&&++oe===h&&(U=O),(ae=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ae}c=k===-1||U===-1?null:{start:k,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(ng={focusedElem:a,selectionRange:c},Bd=!1,hn=s;hn!==null;)if(s=hn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,hn=a;else for(;hn!==null;){switch(s=hn,x=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=s,y=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var _e=ls(c.type,y);a=h.getSnapshotBeforeUpdate(_e,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(Me){ot(c,c.return,Me)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)ig(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ig(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,hn=a;break}hn=s.return}}function F1(a,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ca(a,c),h&4&&lc(5,c);break;case 1:if(Ca(a,c),h&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(O){ot(c,c.return,O)}else{var y=ls(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(O){ot(c,c.return,O)}}h&64&&$1(c),h&512&&cc(c,c.return);break;case 3:if(Ca(a,c),h&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{A_(a,s)}catch(O){ot(c,c.return,O)}}break;case 27:s===null&&h&4&&H1(c);case 26:case 5:Ca(a,c),s===null&&h&4&&B1(c),h&512&&cc(c,c.return);break;case 12:Ca(a,c);break;case 31:Ca(a,c),h&4&&V1(a,c);break;case 13:Ca(a,c),h&4&&W1(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=x3.bind(null,c),z3(a,c))));break;case 22:if(h=c.memoizedState!==null||Oa,!h){s=s!==null&&s.memoizedState!==null||Xt,y=Oa;var x=Xt;Oa=h,(Xt=s)&&!x?Aa(a,c,(c.subtreeFlags&8772)!==0):Ca(a,c),Oa=y,Xt=x}break;case 30:break;default:Ca(a,c)}}function G1(a){var s=a.alternate;s!==null&&(a.alternate=null,G1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&um(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Et=null,Hn=!1;function Na(a,s,c){for(c=c.child;c!==null;)Y1(a,s,c),c=c.sibling}function Y1(a,s,c){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(kt,c)}catch{}switch(c.tag){case 26:Xt||ta(c,s),Na(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Xt||ta(c,s);var h=Et,y=Hn;xi(c.type)&&(Et=c.stateNode,Hn=!1),Na(a,s,c),yc(c.stateNode),Et=h,Hn=y;break;case 5:Xt||ta(c,s);case 6:if(h=Et,y=Hn,Et=null,Na(a,s,c),Et=h,Hn=y,Et!==null)if(Hn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(c.stateNode)}catch(x){ot(c,s,x)}else try{Et.removeChild(c.stateNode)}catch(x){ot(c,s,x)}break;case 18:Et!==null&&(Hn?(a=Et,$S(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Do(a)):$S(Et,c.stateNode));break;case 4:h=Et,y=Hn,Et=c.stateNode.containerInfo,Hn=!0,Na(a,s,c),Et=h,Hn=y;break;case 0:case 11:case 14:case 15:hi(2,c,s),Xt||hi(4,c,s),Na(a,s,c);break;case 1:Xt||(ta(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&z1(c,s,h)),Na(a,s,c);break;case 21:Na(a,s,c);break;case 22:Xt=(h=Xt)||c.memoizedState!==null,Na(a,s,c),Xt=h;break;default:Na(a,s,c)}}function V1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Do(a)}catch(c){ot(s,s.return,c)}}}function W1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Do(a)}catch(c){ot(s,s.return,c)}}function f3(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new K1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new K1),s;default:throw Error(r(435,a.tag))}}function wd(a,s){var c=f3(a);s.forEach(function(h){if(!c.has(h)){c.add(h);var y=w3.bind(null,a,h);h.then(y,y)}})}function Kn(a,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],x=a,O=s,k=O;e:for(;k!==null;){switch(k.tag){case 27:if(xi(k.type)){Et=k.stateNode,Hn=!1;break e}break;case 5:Et=k.stateNode,Hn=!1;break e;case 3:case 4:Et=k.stateNode.containerInfo,Hn=!0;break e}k=k.return}if(Et===null)throw Error(r(160));Y1(x,O,y),Et=null,Hn=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)X1(s,a),s=s.sibling}var qr=null;function X1(a,s){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Kn(s,a),Fn(a),h&4&&(hi(3,a,a.return),lc(3,a),hi(5,a,a.return));break;case 1:Kn(s,a),Fn(a),h&512&&(Xt||c===null||ta(c,c.return)),h&64&&Oa&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=qr;if(Kn(s,a),Fn(a),h&512&&(Xt||c===null||ta(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Ll]||x[wn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),En(x,h,c),x[wn]=a,fn(x),h=x;break e;case"link":var O=XS("link","href",y).get(h+(c.href||""));if(O){for(var k=0;k<O.length;k++)if(x=O[k],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(k,1);break t}}x=y.createElement(h),En(x,h,c),y.head.appendChild(x);break;case"meta":if(O=XS("meta","content",y).get(h+(c.content||""))){for(k=0;k<O.length;k++)if(x=O[k],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(k,1);break t}}x=y.createElement(h),En(x,h,c),y.head.appendChild(x);break;default:throw Error(r(468,h))}x[wn]=a,fn(x),h=x}a.stateNode=h}else QS(y,a.type,a.stateNode);else a.stateNode=WS(y,h,a.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?QS(y,a.type,a.stateNode):WS(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&kp(a,a.memoizedProps,c.memoizedProps)}break;case 27:Kn(s,a),Fn(a),h&512&&(Xt||c===null||ta(c,c.return)),c!==null&&h&4&&kp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Kn(s,a),Fn(a),h&512&&(Xt||c===null||ta(c,c.return)),a.flags&32){y=a.stateNode;try{ro(y,"")}catch(_e){ot(a,a.return,_e)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,kp(a,y,c!==null?c.memoizedProps:y)),h&1024&&(Rp=!0);break;case 6:if(Kn(s,a),Fn(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(_e){ot(a,a.return,_e)}}break;case 3:if(Id=null,y=qr,qr=Dd(s.containerInfo),Kn(s,a),qr=y,Fn(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Do(s.containerInfo)}catch(_e){ot(a,a.return,_e)}Rp&&(Rp=!1,Q1(a));break;case 4:h=qr,qr=Dd(a.stateNode.containerInfo),Kn(s,a),Fn(a),qr=h;break;case 12:Kn(s,a),Fn(a);break;case 31:Kn(s,a),Fn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,wd(a,h)));break;case 13:Kn(s,a),Fn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sd=Pe()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,wd(a,h)));break;case 22:y=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,X=Oa,oe=Xt;if(Oa=X||y,Xt=oe||U,Kn(s,a),Xt=oe,Oa=X,Fn(a),h&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(c===null||U||Oa||Xt||cs(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(x=U.stateNode,y)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{k=U.stateNode;var ce=U.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(_e){ot(U,U.return,_e)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(_e){ot(U,U.return,_e)}}}else if(s.tag===18){if(c===null){U=s;try{var ae=U.stateNode;y?zS(ae,!0):zS(U.stateNode,!1)}catch(_e){ot(U,U.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,wd(a,c))));break;case 19:Kn(s,a),Fn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,wd(a,h)));break;case 30:break;case 21:break;default:Kn(s,a),Fn(a)}}function Fn(a){var s=a.flags;if(s&2){try{for(var c,h=a.return;h!==null;){if(q1(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=Mp(a);xd(a,x,y);break;case 5:var O=c.stateNode;c.flags&32&&(ro(O,""),c.flags&=-33);var k=Mp(a);xd(a,k,O);break;case 3:case 4:var U=c.stateNode.containerInfo,X=Mp(a);Pp(a,X,U);break;default:throw Error(r(161))}}catch(oe){ot(a,a.return,oe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Q1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Q1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ca(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)F1(a,s.alternate,s),s=s.sibling}function cs(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:hi(4,s,s.return),cs(s);break;case 1:ta(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&z1(s,s.return,c),cs(s);break;case 27:yc(s.stateNode);case 26:case 5:ta(s,s.return),cs(s);break;case 22:s.memoizedState===null&&cs(s);break;case 30:cs(s);break;default:cs(s)}a=a.sibling}}function Aa(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=a,x=s,O=x.flags;switch(x.tag){case 0:case 11:case 15:Aa(y,x,c),lc(4,x);break;case 1:if(Aa(y,x,c),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){ot(h,h.return,X)}if(h=x,y=h.updateQueue,y!==null){var k=h.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)C_(U[y],k)}catch(X){ot(h,h.return,X)}}c&&O&64&&$1(x),cc(x,x.return);break;case 27:H1(x);case 26:case 5:Aa(y,x,c),c&&h===null&&O&4&&B1(x),cc(x,x.return);break;case 12:Aa(y,x,c);break;case 31:Aa(y,x,c),c&&O&4&&V1(y,x);break;case 13:Aa(y,x,c),c&&O&4&&W1(y,x);break;case 22:x.memoizedState===null&&Aa(y,x,c),cc(x,x.return);break;case 30:break;default:Aa(y,x,c)}s=s.sibling}}function Dp(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Wl(c))}function Lp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Wl(a))}function Hr(a,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)J1(a,s,c,h),s=s.sibling}function J1(a,s,c,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Hr(a,s,c,h),y&2048&&lc(9,s);break;case 1:Hr(a,s,c,h);break;case 3:Hr(a,s,c,h),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Wl(a)));break;case 12:if(y&2048){Hr(a,s,c,h),a=s.stateNode;try{var x=s.memoizedProps,O=x.id,k=x.onPostCommit;typeof k=="function"&&k(O,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){ot(s,s.return,U)}}else Hr(a,s,c,h);break;case 31:Hr(a,s,c,h);break;case 13:Hr(a,s,c,h);break;case 23:break;case 22:x=s.stateNode,O=s.alternate,s.memoizedState!==null?x._visibility&2?Hr(a,s,c,h):uc(a,s):x._visibility&2?Hr(a,s,c,h):(x._visibility|=2,jo(a,s,c,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Dp(O,s);break;case 24:Hr(a,s,c,h),y&2048&&Lp(s.alternate,s);break;default:Hr(a,s,c,h)}}function jo(a,s,c,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=a,O=s,k=c,U=h,X=O.flags;switch(O.tag){case 0:case 11:case 15:jo(x,O,k,U,y),lc(8,O);break;case 23:break;case 22:var oe=O.stateNode;O.memoizedState!==null?oe._visibility&2?jo(x,O,k,U,y):uc(x,O):(oe._visibility|=2,jo(x,O,k,U,y)),y&&X&2048&&Dp(O.alternate,O);break;case 24:jo(x,O,k,U,y),y&&X&2048&&Lp(O.alternate,O);break;default:jo(x,O,k,U,y)}s=s.sibling}}function uc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,h=s,y=h.flags;switch(h.tag){case 22:uc(c,h),y&2048&&Dp(h.alternate,h);break;case 24:uc(c,h),y&2048&&Lp(h.alternate,h);break;default:uc(c,h)}s=s.sibling}}var dc=8192;function Eo(a,s,c){if(a.subtreeFlags&dc)for(a=a.child;a!==null;)Z1(a,s,c),a=a.sibling}function Z1(a,s,c){switch(a.tag){case 26:Eo(a,s,c),a.flags&dc&&a.memoizedState!==null&&J3(c,qr,a.memoizedState,a.memoizedProps);break;case 5:Eo(a,s,c);break;case 3:case 4:var h=qr;qr=Dd(a.stateNode.containerInfo),Eo(a,s,c),qr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=dc,dc=16777216,Eo(a,s,c),dc=h):Eo(a,s,c));break;default:Eo(a,s,c)}}function eS(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function fc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];hn=h,nS(h,a)}eS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)tS(a),a=a.sibling}function tS(a){switch(a.tag){case 0:case 11:case 15:fc(a),a.flags&2048&&hi(9,a,a.return);break;case 3:fc(a);break;case 12:fc(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,_d(a)):fc(a);break;default:fc(a)}}function _d(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];hn=h,nS(h,a)}eS(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:hi(8,s,s.return),_d(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,_d(s));break;default:_d(s)}a=a.sibling}}function nS(a,s){for(;hn!==null;){var c=hn;switch(c.tag){case 0:case 11:case 15:hi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,hn=h;else e:for(c=a;hn!==null;){h=hn;var y=h.sibling,x=h.return;if(G1(h),h===c){hn=null;break e}if(y!==null){y.return=x,hn=y;break e}hn=x}}}var h3={getCacheForType:function(a){var s=Sn(Yt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Sn(Yt).controller.signal}},m3=typeof WeakMap=="function"?WeakMap:Map,nt=0,gt=null,qe=null,Ge=0,st=0,ar=null,mi=!1,Oo=!1,Ip=!1,Ta=0,Ut=0,pi=0,us=0,Up=0,ir=0,No=0,hc=null,Gn=null,$p=!1,Sd=0,rS=0,jd=1/0,Ed=null,gi=null,tn=0,vi=null,Co=null,ka=0,zp=0,Bp=null,aS=null,mc=0,qp=null;function sr(){return(nt&2)!==0&&Ge!==0?Ge&-Ge:I.T!==null?Vp():xw()}function iS(){if(ir===0)if((Ge&536870912)===0||Ve){var a=dn;dn<<=1,(dn&3932160)===0&&(dn=262144),ir=a}else ir=536870912;return a=nr.current,a!==null&&(a.flags|=32),ir}function Yn(a,s,c){(a===gt&&(st===2||st===9)||a.cancelPendingCommit!==null)&&(Ao(a,0),yi(a,Ge,ir,!1)),Dl(a,c),((nt&2)===0||a!==gt)&&(a===gt&&((nt&2)===0&&(us|=c),Ut===4&&yi(a,Ge,ir,!1)),na(a))}function sS(a,s,c){if((nt&6)!==0)throw Error(r(327));var h=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Rl(a,s),y=h?v3(a,s):Kp(a,s,!0),x=h;do{if(y===0){Oo&&!h&&yi(a,s,0,!1);break}else{if(c=a.current.alternate,x&&!p3(c)){y=Kp(a,s,!1),x=!1;continue}if(y===2){if(x=s,a.errorRecoveryDisabledLanes&x)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var k=a;y=hc;var U=k.current.memoizedState.isDehydrated;if(U&&(Ao(k,O).flags|=256),O=Kp(k,O,!1),O!==2){if(Ip&&!U){k.errorRecoveryDisabledLanes|=x,us|=x,y=4;break e}x=Gn,Gn=y,x!==null&&(Gn===null?Gn=x:Gn.push.apply(Gn,x))}y=O}if(x=!1,y!==2)continue}}if(y===1){Ao(a,0),yi(a,s,0,!0);break}e:{switch(h=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:yi(h,s,ir,!mi);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=Sd+300-Pe(),10<y)){if(yi(h,s,ir,!mi),Xs(h,0,!0)!==0)break e;ka=s,h.timeoutHandle=IS(oS.bind(null,h,c,Gn,Ed,$p,s,ir,us,No,mi,x,"Throttled",-0,0),y);break e}oS(h,c,Gn,Ed,$p,s,ir,us,No,mi,x,null,-0,0)}}break}while(!0);na(a)}function oS(a,s,c,h,y,x,O,k,U,X,oe,ce,ee,ae){if(a.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ga},Z1(s,x,ce);var _e=(x&62914560)===x?Sd-Pe():(x&4194048)===x?rS-Pe():0;if(_e=Z3(ce,_e),_e!==null){ka=x,a.cancelPendingCommit=_e(pS.bind(null,a,s,x,c,h,y,O,k,U,oe,ce,null,ee,ae)),yi(a,x,O,!X);return}}pS(a,s,x,c,h,y,O,k,U)}function p3(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],x=y.getSnapshot;y=y.value;try{if(!er(x(),y))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yi(a,s,c,h){s&=~Up,s&=~us,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var y=s;0<y;){var x=31-bt(y),O=1<<x;h[x]=-1,y&=~O}c!==0&&vw(a,c,s)}function Od(){return(nt&6)===0?(pc(0),!1):!0}function Hp(){if(qe!==null){if(st===0)var a=qe.return;else a=qe,xa=ts=null,ip(a),bo=null,Ql=0,a=qe;for(;a!==null;)U1(a.alternate,a),a=a.return;qe=null}}function Ao(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,D3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ka=0,Hp(),gt=a,qe=c=ya(a.current,null),Ge=s,st=0,ar=null,mi=!1,Oo=Rl(a,s),Ip=!1,No=ir=Up=us=pi=Ut=0,Gn=hc=null,$p=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var y=31-bt(h),x=1<<y;s|=a[y],h&=~x}return Ta=s,Yu(),c}function lS(a,s){$e=null,I.H=ic,s===yo||s===td?(s=j_(),st=3):s===Ym?(s=j_(),st=4):st=s===wp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ar=s,qe===null&&(Ut=1,pd(a,xr(s,a.current)))}function cS(){var a=nr.current;return a===null?!0:(Ge&4194048)===Ge?jr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?a===jr:!1}function uS(){var a=I.H;return I.H=ic,a===null?ic:a}function dS(){var a=I.A;return I.A=h3,a}function Nd(){Ut=4,mi||(Ge&4194048)!==Ge&&nr.current!==null||(Oo=!0),(pi&134217727)===0&&(us&134217727)===0||gt===null||yi(gt,Ge,ir,!1)}function Kp(a,s,c){var h=nt;nt|=2;var y=uS(),x=dS();(gt!==a||Ge!==s)&&(Ed=null,Ao(a,s)),s=!1;var O=Ut;e:do try{if(st!==0&&qe!==null){var k=qe,U=ar;switch(st){case 8:Hp(),O=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(s=!0);var X=st;if(st=0,ar=null,To(a,k,U,X),c&&Oo){O=0;break e}break;default:X=st,st=0,ar=null,To(a,k,U,X)}}g3(),O=Ut;break}catch(oe){lS(a,oe)}while(!0);return s&&a.shellSuspendCounter++,xa=ts=null,nt=h,I.H=y,I.A=x,qe===null&&(gt=null,Ge=0,Yu()),O}function g3(){for(;qe!==null;)fS(qe)}function v3(a,s){var c=nt;nt|=2;var h=uS(),y=dS();gt!==a||Ge!==s?(Ed=null,jd=Pe()+500,Ao(a,s)):Oo=Rl(a,s);e:do try{if(st!==0&&qe!==null){s=qe;var x=ar;t:switch(st){case 1:st=0,ar=null,To(a,s,x,1);break;case 2:case 9:if(__(x)){st=0,ar=null,hS(s);break}s=function(){st!==2&&st!==9||gt!==a||(st=7),na(a)},x.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:__(x)?(st=0,ar=null,hS(s)):(st=0,ar=null,To(a,s,x,7));break;case 5:var O=null;switch(qe.tag){case 26:O=qe.memoizedState;case 5:case 27:var k=qe;if(O?JS(O):k.stateNode.complete){st=0,ar=null;var U=k.sibling;if(U!==null)qe=U;else{var X=k.return;X!==null?(qe=X,Cd(X)):qe=null}break t}}st=0,ar=null,To(a,s,x,5);break;case 6:st=0,ar=null,To(a,s,x,6);break;case 8:Hp(),Ut=6;break e;default:throw Error(r(462))}}y3();break}catch(oe){lS(a,oe)}while(!0);return xa=ts=null,I.H=h,I.A=y,nt=c,qe!==null?0:(gt=null,Ge=0,Yu(),Ut)}function y3(){for(;qe!==null&&!fe();)fS(qe)}function fS(a){var s=L1(a.alternate,a,Ta);a.memoizedProps=a.pendingProps,s===null?Cd(a):qe=s}function hS(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=T1(c,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=T1(c,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:ip(s);default:U1(c,s),s=qe=d_(s,Ta),s=L1(c,s,Ta)}a.memoizedProps=a.pendingProps,s===null?Cd(a):qe=s}function To(a,s,c,h){xa=ts=null,ip(s),bo=null,Ql=0;var y=s.return;try{if(s3(a,y,s,c,Ge)){Ut=1,pd(a,xr(c,a.current)),qe=null;return}}catch(x){if(y!==null)throw qe=y,x;Ut=1,pd(a,xr(c,a.current)),qe=null;return}s.flags&32768?(Ve||h===1?a=!0:Oo||(Ge&536870912)!==0?a=!1:(mi=a=!0,(h===2||h===9||h===3||h===6)&&(h=nr.current,h!==null&&h.tag===13&&(h.flags|=16384))),mS(s,a)):Cd(s)}function Cd(a){var s=a;do{if((s.flags&32768)!==0){mS(s,mi);return}a=s.return;var c=c3(s.alternate,s,Ta);if(c!==null){qe=c;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=a}while(s!==null);Ut===0&&(Ut=5)}function mS(a,s){do{var c=u3(a.alternate,a);if(c!==null){c.flags&=32767,qe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){qe=a;return}qe=a=c}while(a!==null);Ut=6,qe=null}function pS(a,s,c,h,y,x,O,k,U){a.cancelPendingCommit=null;do Ad();while(tn!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Mm,QR(a,c,x,O,k,U),a===gt&&(qe=gt=null,Ge=0),Co=s,vi=a,ka=c,zp=x,Bp=y,aS=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,_3(he,function(){return xS(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=I.T,I.T=null,y=V.p,V.p=2,O=nt,nt|=4;try{d3(a,s,c)}finally{nt=O,V.p=y,I.T=h}}tn=1,gS(),vS(),yS()}}function gS(){if(tn===1){tn=0;var a=vi,s=Co,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var h=V.p;V.p=2;var y=nt;nt|=4;try{X1(s,a);var x=ng,O=n_(a.containerInfo),k=x.focusedElem,U=x.selectionRange;if(O!==k&&k&&k.ownerDocument&&t_(k.ownerDocument.documentElement,k)){if(U!==null&&Nm(k)){var X=U.start,oe=U.end;if(oe===void 0&&(oe=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(oe,k.value.length);else{var ce=k.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ae=ee.getSelection(),_e=k.textContent.length,Me=Math.min(U.start,_e),ft=U.end===void 0?Me:Math.min(U.end,_e);!ae.extend&&Me>ft&&(O=ft,ft=Me,Me=O);var K=e_(k,Me),q=e_(k,ft);if(K&&q&&(ae.rangeCount!==1||ae.anchorNode!==K.node||ae.anchorOffset!==K.offset||ae.focusNode!==q.node||ae.focusOffset!==q.offset)){var W=ce.createRange();W.setStart(K.node,K.offset),ae.removeAllRanges(),Me>ft?(ae.addRange(W),ae.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ae.addRange(W))}}}}for(ce=[],ae=k;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ce.length;k++){var le=ce[k];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Bd=!!tg,ng=tg=null}finally{nt=y,V.p=h,I.T=c}}a.current=s,tn=2}}function vS(){if(tn===2){tn=0;var a=vi,s=Co,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var h=V.p;V.p=2;var y=nt;nt|=4;try{F1(a,s.alternate,s)}finally{nt=y,V.p=h,I.T=c}}tn=3}}function yS(){if(tn===4||tn===3){tn=0,me();var a=vi,s=Co,c=ka,h=aS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,Co=vi=null,bS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(gi=null),lm(c),s=s.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=I.T,y=V.p,V.p=2,I.T=null;try{for(var x=a.onRecoverableError,O=0;O<h.length;O++){var k=h[O];x(k.value,{componentStack:k.stack})}}finally{I.T=s,V.p=y}}(ka&3)!==0&&Ad(),na(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===qp?mc++:(mc=0,qp=a):mc=0,pc(0)}}function bS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Wl(s)))}function Ad(){return gS(),vS(),yS(),xS()}function xS(){if(tn!==5)return!1;var a=vi,s=zp;zp=0;var c=lm(ka),h=I.T,y=V.p;try{V.p=32>c?32:c,I.T=null,c=Bp,Bp=null;var x=vi,O=ka;if(tn=0,Co=vi=null,ka=0,(nt&6)!==0)throw Error(r(331));var k=nt;if(nt|=4,tS(x.current),J1(x,x.current,O,c),nt=k,pc(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(kt,x)}catch{}return!0}finally{V.p=y,I.T=h,bS(a,s)}}function wS(a,s,c){s=xr(c,s),s=xp(a.stateNode,s,2),a=ui(a,s,2),a!==null&&(Dl(a,2),na(a))}function ot(a,s,c){if(a.tag===3)wS(a,a,c);else for(;s!==null;){if(s.tag===3){wS(s,a,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))){a=xr(c,a),c=_1(2),h=ui(s,c,2),h!==null&&(S1(c,h,s,a),Dl(h,2),na(h));break}}s=s.return}}function Fp(a,s,c){var h=a.pingCache;if(h===null){h=a.pingCache=new m3;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(c)||(Ip=!0,y.add(c),a=b3.bind(null,a,s,c),s.then(a,a))}function b3(a,s,c){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,gt===a&&(Ge&c)===c&&(Ut===4||Ut===3&&(Ge&62914560)===Ge&&300>Pe()-Sd?(nt&2)===0&&Ao(a,0):Up|=c,No===Ge&&(No=0)),na(a)}function _S(a,s){s===0&&(s=gw()),a=Ji(a,s),a!==null&&(Dl(a,s),na(a))}function x3(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),_S(a,c)}function w3(a,s){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),_S(a,c)}function _3(a,s){return Lt(a,s)}var Td=null,ko=null,Gp=!1,kd=!1,Yp=!1,bi=0;function na(a){a!==ko&&a.next===null&&(ko===null?Td=ko=a:ko=ko.next=a),kd=!0,Gp||(Gp=!0,j3())}function pc(a,s){if(!Yp&&kd){Yp=!0;do for(var c=!1,h=Td;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var O=h.suspendedLanes,k=h.pingedLanes;x=(1<<31-bt(42|a)+1)-1,x&=y&~(O&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,OS(h,x))}else x=Ge,x=Xs(h,h===gt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Rl(h,x)||(c=!0,OS(h,x));h=h.next}while(c);Yp=!1}}function S3(){SS()}function SS(){kd=Gp=!1;var a=0;bi!==0&&R3()&&(a=bi);for(var s=Pe(),c=null,h=Td;h!==null;){var y=h.next,x=jS(h,s);x===0?(h.next=null,c===null?Td=y:c.next=y,y===null&&(ko=c)):(c=h,(a!==0||(x&3)!==0)&&(kd=!0)),h=y}tn!==0&&tn!==5||pc(a),bi!==0&&(bi=0)}function jS(a,s){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var O=31-bt(x),k=1<<O,U=y[O];U===-1?((k&c)===0||(k&h)!==0)&&(y[O]=XR(k,s)):U<=s&&(a.expiredLanes|=k),x&=~k}if(s=gt,c=Ge,c=Xs(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===s&&(st===2||st===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Kt(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Rl(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(h!==null&&Kt(h),lm(c)){case 2:case 8:c=zn;break;case 32:c=he;break;case 268435456:c=Ae;break;default:c=he}return h=ES.bind(null,a),c=Lt(c,h),a.callbackPriority=s,a.callbackNode=c,s}return h!==null&&h!==null&&Kt(h),a.callbackPriority=2,a.callbackNode=null,2}function ES(a,s){if(tn!==0&&tn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Ad()&&a.callbackNode!==c)return null;var h=Ge;return h=Xs(a,a===gt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(sS(a,h,s),jS(a,Pe()),a.callbackNode!=null&&a.callbackNode===c?ES.bind(null,a):null)}function OS(a,s){if(Ad())return null;sS(a,s,!0)}function j3(){L3(function(){(nt&6)!==0?Lt(Ft,S3):SS()})}function Vp(){if(bi===0){var a=go;a===0&&(a=$t,$t<<=1,($t&261888)===0&&($t=256)),bi=a}return bi}function NS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$u(""+a)}function CS(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function E3(a,s,c,h,y){if(s==="submit"&&c&&c.stateNode===y){var x=NS((y[Bn]||null).action),O=h.submitter;O&&(s=(s=O[Bn]||null)?NS(s.formAction):O.getAttribute("formAction"),s!==null&&(x=s,O=null));var k=new Hu("action","action",null,h,y);a.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(bi!==0){var U=O?CS(y,O):new FormData(y);mp(c,{pending:!0,data:U,method:y.method,action:x},null,U)}}else typeof x=="function"&&(k.preventDefault(),U=O?CS(y,O):new FormData(y),mp(c,{pending:!0,data:U,method:y.method,action:x},x,U))},currentTarget:y}]})}}for(var Wp=0;Wp<km.length;Wp++){var Xp=km[Wp],O3=Xp.toLowerCase(),N3=Xp[0].toUpperCase()+Xp.slice(1);Br(O3,"on"+N3)}Br(i_,"onAnimationEnd"),Br(s_,"onAnimationIteration"),Br(o_,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(HD,"onTransitionRun"),Br(KD,"onTransitionStart"),Br(FD,"onTransitionCancel"),Br(l_,"onTransitionEnd"),to("onMouseEnter",["mouseout","mouseover"]),to("onMouseLeave",["mouseout","mouseover"]),to("onPointerEnter",["pointerout","pointerover"]),to("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function AS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var x=void 0;if(s)for(var O=h.length-1;0<=O;O--){var k=h[O],U=k.instance,X=k.currentTarget;if(k=k.listener,U!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=X;try{x(y)}catch(oe){Gu(oe)}y.currentTarget=null,x=U}else for(O=0;O<h.length;O++){if(k=h[O],U=k.instance,X=k.currentTarget,k=k.listener,U!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=X;try{x(y)}catch(oe){Gu(oe)}y.currentTarget=null,x=U}}}}function He(a,s){var c=s[cm];c===void 0&&(c=s[cm]=new Set);var h=a+"__bubble";c.has(h)||(TS(s,a,2,!1),c.add(h))}function Qp(a,s,c){var h=0;s&&(h|=4),TS(c,a,h,s)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Jp(a){if(!a[Md]){a[Md]=!0,Sw.forEach(function(c){c!=="selectionchange"&&(C3.has(c)||Qp(c,!1,a),Qp(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Md]||(s[Md]=!0,Qp("selectionchange",!1,s))}}function TS(a,s,c,h){switch(ij(s)){case 2:var y=n4;break;case 8:y=r4;break;default:y=hg}c=y.bind(null,s,c,a),y=void 0,!ym||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(s,c,{capture:!0,passive:y}):a.addEventListener(s,c,!0):y!==void 0?a.addEventListener(s,c,{passive:y}):a.addEventListener(s,c,!1)}function Zp(a,s,c,h,y){var x=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var k=h.stateNode.containerInfo;if(k===y)break;if(O===4)for(O=h.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;k!==null;){if(O=Js(k),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){h=x=O;continue e}k=k.parentNode}}h=h.return}Dw(function(){var X=x,oe=gm(c),ce=[];e:{var ee=c_.get(a);if(ee!==void 0){var ae=Hu,_e=a;switch(a){case"keypress":if(Bu(c)===0)break e;case"keydown":case"keyup":ae=wD;break;case"focusin":_e="focus",ae=_m;break;case"focusout":_e="blur",ae=_m;break;case"beforeblur":case"afterblur":ae=_m;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=cD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=jD;break;case i_:case s_:case o_:ae=fD;break;case l_:ae=OD;break;case"scroll":case"scrollend":ae=oD;break;case"wheel":ae=CD;break;case"copy":case"cut":case"paste":ae=mD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=zw;break;case"toggle":case"beforetoggle":ae=TD}var Me=(s&4)!==0,ft=!Me&&(a==="scroll"||a==="scrollend"),K=Me?ee!==null?ee+"Capture":null:ee;Me=[];for(var q=X,W;q!==null;){var le=q;if(W=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||W===null||K===null||(le=Ul(q,K),le!=null&&Me.push(vc(q,le,W))),ft)break;q=q.return}0<Me.length&&(ee=new ae(ee,_e,null,c,oe),ce.push({event:ee,listeners:Me}))}}if((s&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ee&&c!==pm&&(_e=c.relatedTarget||c.fromElement)&&(Js(_e)||_e[Qs]))break e;if((ae||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ae?(_e=c.relatedTarget||c.toElement,ae=X,_e=_e?Js(_e):null,_e!==null&&(ft=o(_e),Me=_e.tag,_e!==ft||Me!==5&&Me!==27&&Me!==6)&&(_e=null)):(ae=null,_e=X),ae!==_e)){if(Me=Uw,le="onMouseLeave",K="onMouseEnter",q="mouse",(a==="pointerout"||a==="pointerover")&&(Me=zw,le="onPointerLeave",K="onPointerEnter",q="pointer"),ft=ae==null?ee:Il(ae),W=_e==null?ee:Il(_e),ee=new Me(le,q+"leave",ae,c,oe),ee.target=ft,ee.relatedTarget=W,le=null,Js(oe)===X&&(Me=new Me(K,q+"enter",_e,c,oe),Me.target=W,Me.relatedTarget=ft,le=Me),ft=le,ae&&_e)t:{for(Me=A3,K=ae,q=_e,W=0,le=K;le;le=Me(le))W++;le=0;for(var Ce=q;Ce;Ce=Me(Ce))le++;for(;0<W-le;)K=Me(K),W--;for(;0<le-W;)q=Me(q),le--;for(;W--;){if(K===q||q!==null&&K===q.alternate){Me=K;break t}K=Me(K),q=Me(q)}Me=null}else Me=null;ae!==null&&kS(ce,ee,ae,Me,!1),_e!==null&&ft!==null&&kS(ce,ft,_e,Me,!0)}}e:{if(ee=X?Il(X):window,ae=ee.nodeName&&ee.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ee.type==="file")var Qe=Vw;else if(Gw(ee))if(Ww)Qe=zD;else{Qe=UD;var Ee=ID}else ae=ee.nodeName,!ae||ae.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&mm(X.elementType)&&(Qe=Vw):Qe=$D;if(Qe&&(Qe=Qe(a,X))){Yw(ce,Qe,c,oe);break e}Ee&&Ee(a,ee,X),a==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&hm(ee,"number",ee.value)}switch(Ee=X?Il(X):window,a){case"focusin":(Gw(Ee)||Ee.contentEditable==="true")&&(oo=Ee,Cm=X,Gl=null);break;case"focusout":Gl=Cm=oo=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,r_(ce,c,oe);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":r_(ce,c,oe)}var ze;if(jm)e:{switch(a){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else so?Kw(a,c)&&(Ye="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ye="onCompositionStart");Ye&&(Bw&&c.locale!=="ko"&&(so||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&so&&(ze=Lw()):(ri=oe,bm="value"in ri?ri.value:ri.textContent,so=!0)),Ee=Pd(X,Ye),0<Ee.length&&(Ye=new $w(Ye,a,null,c,oe),ce.push({event:Ye,listeners:Ee}),ze?Ye.data=ze:(ze=Fw(c),ze!==null&&(Ye.data=ze)))),(ze=MD?PD(a,c):RD(a,c))&&(Ye=Pd(X,"onBeforeInput"),0<Ye.length&&(Ee=new $w("onBeforeInput","beforeinput",null,c,oe),ce.push({event:Ee,listeners:Ye}),Ee.data=ze)),E3(ce,a,X,c,oe)}AS(ce,s)})}function vc(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Pd(a,s){for(var c=s+"Capture",h=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Ul(a,c),y!=null&&h.unshift(vc(a,y,x)),y=Ul(a,s),y!=null&&h.push(vc(a,y,x))),a.tag===3)return h;a=a.return}return[]}function A3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kS(a,s,c,h,y){for(var x=s._reactName,O=[];c!==null&&c!==h;){var k=c,U=k.alternate,X=k.stateNode;if(k=k.tag,U!==null&&U===h)break;k!==5&&k!==26&&k!==27||X===null||(U=X,y?(X=Ul(c,x),X!=null&&O.unshift(vc(c,X,U))):y||(X=Ul(c,x),X!=null&&O.push(vc(c,X,U)))),c=c.return}O.length!==0&&a.push({event:s,listeners:O})}var T3=/\r\n?/g,k3=/\u0000|\uFFFD/g;function MS(a){return(typeof a=="string"?a:""+a).replace(T3,`
`).replace(k3,"")}function PS(a,s){return s=MS(s),MS(a)===s}function dt(a,s,c,h,y,x){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||ro(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&ro(a,""+h);break;case"className":Iu(a,"class",h);break;case"tabIndex":Iu(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Iu(a,c,h);break;case"style":Pw(a,h,x);break;case"data":if(s!=="object"){Iu(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=$u(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(s!=="input"&&dt(a,s,"name",y.name,y,null),dt(a,s,"formEncType",y.formEncType,y,null),dt(a,s,"formMethod",y.formMethod,y,null),dt(a,s,"formTarget",y.formTarget,y,null)):(dt(a,s,"encType",y.encType,y,null),dt(a,s,"method",y.method,y,null),dt(a,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=$u(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=ga);break;case"onScroll":h!=null&&He("scroll",a);break;case"onScrollEnd":h!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=$u(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":He("beforetoggle",a),He("toggle",a),Lu(a,"popover",h);break;case"xlinkActuate":pa(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pa(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pa(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pa(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pa(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pa(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pa(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Lu(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=iD.get(c)||c,Lu(a,c,h))}}function eg(a,s,c,h,y,x){switch(c){case"style":Pw(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?ro(a,h):(typeof h=="number"||typeof h=="bigint")&&ro(a,""+h);break;case"onScroll":h!=null&&He("scroll",a);break;case"onScrollEnd":h!=null&&He("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),s=c.slice(2,y?c.length-7:void 0),x=a[Bn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(s,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Lu(a,c,h)}}}function En(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var h=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var O=c[x];if(O!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,x,O,c,null)}}y&&dt(a,s,"srcSet",c.srcSet,c,null),h&&dt(a,s,"src",c.src,c,null);return;case"input":He("invalid",a);var k=x=O=y=null,U=null,X=null;for(h in c)if(c.hasOwnProperty(h)){var oe=c[h];if(oe!=null)switch(h){case"name":y=oe;break;case"type":O=oe;break;case"checked":U=oe;break;case"defaultChecked":X=oe;break;case"value":x=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:dt(a,s,h,oe,c,null)}}Aw(a,x,k,U,X,O,y,!1);return;case"select":He("invalid",a),h=O=x=null;for(y in c)if(c.hasOwnProperty(y)&&(k=c[y],k!=null))switch(y){case"value":x=k;break;case"defaultValue":O=k;break;case"multiple":h=k;default:dt(a,s,y,k,c,null)}s=x,c=O,a.multiple=!!h,s!=null?no(a,!!h,s,!1):c!=null&&no(a,!!h,c,!0);return;case"textarea":He("invalid",a),x=y=h=null;for(O in c)if(c.hasOwnProperty(O)&&(k=c[O],k!=null))switch(O){case"value":h=k;break;case"defaultValue":y=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:dt(a,s,O,k,c,null)}kw(a,h,y,x);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(h=c[U],h!=null))switch(U){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:dt(a,s,U,h,c,null)}return;case"dialog":He("beforetoggle",a),He("toggle",a),He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(h=0;h<gc.length;h++)He(gc[h],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(h=c[X],h!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,X,h,c,null)}return;default:if(mm(s)){for(oe in c)c.hasOwnProperty(oe)&&(h=c[oe],h!==void 0&&eg(a,s,oe,h,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(h=c[k],h!=null&&dt(a,s,k,h,c,null))}function M3(a,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,O=null,k=null,U=null,X=null,oe=null;for(ae in c){var ce=c[ae];if(c.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=ce;default:h.hasOwnProperty(ae)||dt(a,s,ae,null,h,ce)}}for(var ee in h){var ae=h[ee];if(ce=c[ee],h.hasOwnProperty(ee)&&(ae!=null||ce!=null))switch(ee){case"type":x=ae;break;case"name":y=ae;break;case"checked":X=ae;break;case"defaultChecked":oe=ae;break;case"value":O=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==ce&&dt(a,s,ee,ae,h,ce)}}fm(a,O,k,U,X,oe,x,y);return;case"select":ae=O=k=ee=null;for(x in c)if(U=c[x],c.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":ae=U;default:h.hasOwnProperty(x)||dt(a,s,x,null,h,U)}for(y in h)if(x=h[y],U=c[y],h.hasOwnProperty(y)&&(x!=null||U!=null))switch(y){case"value":ee=x;break;case"defaultValue":k=x;break;case"multiple":O=x;default:x!==U&&dt(a,s,y,x,h,U)}s=k,c=O,h=ae,ee!=null?no(a,!!c,ee,!1):!!h!=!!c&&(s!=null?no(a,!!c,s,!0):no(a,!!c,c?[]:"",!1));return;case"textarea":ae=ee=null;for(k in c)if(y=c[k],c.hasOwnProperty(k)&&y!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:dt(a,s,k,null,h,y)}for(O in h)if(y=h[O],x=c[O],h.hasOwnProperty(O)&&(y!=null||x!=null))switch(O){case"value":ee=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&dt(a,s,O,y,h,x)}Tw(a,ee,ae);return;case"option":for(var _e in c)if(ee=c[_e],c.hasOwnProperty(_e)&&ee!=null&&!h.hasOwnProperty(_e))switch(_e){case"selected":a.selected=!1;break;default:dt(a,s,_e,null,h,ee)}for(U in h)if(ee=h[U],ae=c[U],h.hasOwnProperty(U)&&ee!==ae&&(ee!=null||ae!=null))switch(U){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:dt(a,s,U,ee,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)ee=c[Me],c.hasOwnProperty(Me)&&ee!=null&&!h.hasOwnProperty(Me)&&dt(a,s,Me,null,h,ee);for(X in h)if(ee=h[X],ae=c[X],h.hasOwnProperty(X)&&ee!==ae&&(ee!=null||ae!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:dt(a,s,X,ee,h,ae)}return;default:if(mm(s)){for(var ft in c)ee=c[ft],c.hasOwnProperty(ft)&&ee!==void 0&&!h.hasOwnProperty(ft)&&eg(a,s,ft,void 0,h,ee);for(oe in h)ee=h[oe],ae=c[oe],!h.hasOwnProperty(oe)||ee===ae||ee===void 0&&ae===void 0||eg(a,s,oe,ee,h,ae);return}}for(var K in c)ee=c[K],c.hasOwnProperty(K)&&ee!=null&&!h.hasOwnProperty(K)&&dt(a,s,K,null,h,ee);for(ce in h)ee=h[ce],ae=c[ce],!h.hasOwnProperty(ce)||ee===ae||ee==null&&ae==null||dt(a,s,ce,ee,h,ae)}function RS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],x=y.transferSize,O=y.initiatorType,k=y.duration;if(x&&k&&RS(O)){for(O=0,k=y.responseEnd,h+=1;h<c.length;h++){var U=c[h],X=U.startTime;if(X>k)break;var oe=U.transferSize,ce=U.initiatorType;oe&&RS(ce)&&(U=U.responseEnd,O+=oe*(U<k?1:(k-X)/(U-X)))}if(--h,s+=8*(x+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var tg=null,ng=null;function Rd(a){return a.nodeType===9?a:a.ownerDocument}function DS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function rg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ag=null;function R3(){var a=window.event;return a&&a.type==="popstate"?a===ag?!1:(ag=a,!0):(ag=null,!1)}var IS=typeof setTimeout=="function"?setTimeout:void 0,D3=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,L3=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(a){return US.resolve(null).then(a).catch(I3)}:IS;function I3(a){setTimeout(function(){throw a})}function xi(a){return a==="head"}function $S(a,s){var c=s,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(y),Do(s);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")yc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,yc(c);for(var x=c.firstChild;x;){var O=x.nextSibling,k=x.nodeName;x[Ll]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=O}}else c==="body"&&yc(a.ownerDocument.body);c=y}while(c);Do(s)}function zS(a,s){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function ig(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ig(c),um(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function U3(a,s,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Ll])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Er(a.nextSibling),a===null)break}return null}function $3(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Er(a.nextSibling),a===null))return null;return a}function BS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Er(a.nextSibling),a===null))return null;return a}function sg(a){return a.data==="$?"||a.data==="$~"}function og(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function z3(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Er(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var lg=null;function qS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Er(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function HS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function KS(a,s,c){switch(s=Rd(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function yc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);um(a)}var Or=new Map,FS=new Set;function Dd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ma=V.d;V.d={f:B3,r:q3,D:H3,C:K3,L:F3,m:G3,X:V3,S:Y3,M:W3};function B3(){var a=Ma.f(),s=Od();return a||s}function q3(a){var s=Zs(a);s!==null&&s.tag===5&&s.type==="form"?l1(s):Ma.r(a)}var Mo=typeof document>"u"?null:document;function GS(a,s,c){var h=Mo;if(h&&typeof s=="string"&&s){var y=yr(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),FS.has(y)||(FS.add(y),a={rel:a,crossOrigin:c,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),En(s,"link",a),fn(s),h.head.appendChild(s)))}}function H3(a){Ma.D(a),GS("dns-prefetch",a,null)}function K3(a,s){Ma.C(a,s),GS("preconnect",a,s)}function F3(a,s,c){Ma.L(a,s,c);var h=Mo;if(h&&a&&s){var y='link[rel="preload"][as="'+yr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+yr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+yr(c.imageSizes)+'"]')):y+='[href="'+yr(a)+'"]';var x=y;switch(s){case"style":x=Po(a);break;case"script":x=Ro(a)}Or.has(x)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Or.set(x,a),h.querySelector(y)!==null||s==="style"&&h.querySelector(bc(x))||s==="script"&&h.querySelector(xc(x))||(s=h.createElement("link"),En(s,"link",a),fn(s),h.head.appendChild(s)))}}function G3(a,s){Ma.m(a,s);var c=Mo;if(c&&a){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+yr(h)+'"][href="'+yr(a)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ro(a)}if(!Or.has(x)&&(a=g({rel:"modulepreload",href:a},s),Or.set(x,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(xc(x)))return}h=c.createElement("link"),En(h,"link",a),fn(h),c.head.appendChild(h)}}}function Y3(a,s,c){Ma.S(a,s,c);var h=Mo;if(h&&a){var y=eo(h).hoistableStyles,x=Po(a);s=s||"default";var O=y.get(x);if(!O){var k={loading:0,preload:null};if(O=h.querySelector(bc(x)))k.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Or.get(x))&&cg(a,c);var U=O=h.createElement("link");fn(U),En(U,"link",a),U._p=new Promise(function(X,oe){U.onload=X,U.onerror=oe}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Ld(O,s,h)}O={type:"stylesheet",instance:O,count:1,state:k},y.set(x,O)}}}function V3(a,s){Ma.X(a,s);var c=Mo;if(c&&a){var h=eo(c).hoistableScripts,y=Ro(a),x=h.get(y);x||(x=c.querySelector(xc(y)),x||(a=g({src:a,async:!0},s),(s=Or.get(y))&&ug(a,s),x=c.createElement("script"),fn(x),En(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function W3(a,s){Ma.M(a,s);var c=Mo;if(c&&a){var h=eo(c).hoistableScripts,y=Ro(a),x=h.get(y);x||(x=c.querySelector(xc(y)),x||(a=g({src:a,async:!0,type:"module"},s),(s=Or.get(y))&&ug(a,s),x=c.createElement("script"),fn(x),En(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function YS(a,s,c,h){var y=(y=G.current)?Dd(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Po(c.href),c=eo(y).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Po(c.href);var x=eo(y).hoistableStyles,O=x.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,O),(x=y.querySelector(bc(a)))&&!x._p&&(O.instance=x,O.state.loading=5),Or.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Or.set(a,c),x||X3(y,a,c,O.state))),s&&h===null)throw Error(r(528,""));return O}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ro(c),c=eo(y).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Po(a){return'href="'+yr(a)+'"'}function bc(a){return'link[rel="stylesheet"]['+a+"]"}function VS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function X3(a,s,c,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),En(s,"link",c),fn(s),a.head.appendChild(s))}function Ro(a){return'[src="'+yr(a)+'"]'}function xc(a){return"script[async]"+a}function WS(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+yr(c.href)+'"]');if(h)return s.instance=h,fn(h),h;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),fn(h),En(h,"style",y),Ld(h,c.precedence,a),s.instance=h;case"stylesheet":y=Po(c.href);var x=a.querySelector(bc(y));if(x)return s.state.loading|=4,s.instance=x,fn(x),x;h=VS(c),(y=Or.get(y))&&cg(h,y),x=(a.ownerDocument||a).createElement("link"),fn(x);var O=x;return O._p=new Promise(function(k,U){O.onload=k,O.onerror=U}),En(x,"link",h),s.state.loading|=4,Ld(x,c.precedence,a),s.instance=x;case"script":return x=Ro(c.src),(y=a.querySelector(xc(x)))?(s.instance=y,fn(y),y):(h=c,(y=Or.get(x))&&(h=g({},c),ug(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),fn(y),En(y,"link",h),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Ld(h,c.precedence,a));return s.instance}function Ld(a,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,O=0;O<h.length;O++){var k=h[O];if(k.dataset.precedence===s)x=k;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function cg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function ug(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Id=null;function XS(a,s,c){if(Id===null){var h=new Map,y=Id=new Map;y.set(c,h)}else y=Id,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[Ll]||x[wn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(s)||"";O=a+O;var k=h.get(O);k?k.push(x):h.set(O,[x])}}return h}function QS(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function Q3(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function JS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function J3(a,s,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Po(h.href),x=s.querySelector(bc(y));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Ud.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=x,fn(x);return}x=s.ownerDocument||s,h=VS(h),(y=Or.get(y))&&cg(h,y),x=x.createElement("link"),fn(x);var O=x;O._p=new Promise(function(k,U){O.onload=k,O.onerror=U}),En(x,"link",h),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Ud.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var dg=0;function Z3(a,s){return a.stylesheets&&a.count===0&&zd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&zd(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+s);0<a.imgBytes&&dg===0&&(dg=62500*P3());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&zd(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>dg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var $d=null;function zd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,$d=new Map,s.forEach(e4,a),$d=null,Ud.call(a))}function e4(a,s){if(!(s.state.loading&4)){var c=$d.get(a);if(c)var h=c.get(null);else{c=new Map,$d.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var O=y[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}y=s.instance,O=y.getAttribute("data-precedence"),x=c.get(O)||h,x===h&&c.set(null,y),c.set(O,y),this.count++,h=Ud.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var wc={$$typeof:C,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function t4(a,s,c,h,y,x,O,k,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sm(0),this.hiddenUpdates=sm(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function ZS(a,s,c,h,y,x,O,k,U,X,oe,ce){return a=new t4(a,s,c,O,U,X,oe,ce,k),s=1,x===!0&&(s|=24),x=tr(3,null,null,s),a.current=x,x.stateNode=a,s=Km(),s.refCount++,a.pooledCache=s,s.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:s},Vm(x),a}function ej(a){return a?(a=uo,a):uo}function tj(a,s,c,h,y,x){y=ej(y),h.context===null?h.context=y:h.pendingContext=y,h=ci(s),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=ui(a,h,s),c!==null&&(Yn(c,a,s),Zl(c,a,s))}function nj(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function fg(a,s){nj(a,s),(a=a.alternate)&&nj(a,s)}function rj(a){if(a.tag===13||a.tag===31){var s=Ji(a,67108864);s!==null&&Yn(s,a,67108864),fg(a,67108864)}}function aj(a){if(a.tag===13||a.tag===31){var s=sr();s=om(s);var c=Ji(a,s);c!==null&&Yn(c,a,s),fg(a,s)}}var Bd=!0;function n4(a,s,c,h){var y=I.T;I.T=null;var x=V.p;try{V.p=2,hg(a,s,c,h)}finally{V.p=x,I.T=y}}function r4(a,s,c,h){var y=I.T;I.T=null;var x=V.p;try{V.p=8,hg(a,s,c,h)}finally{V.p=x,I.T=y}}function hg(a,s,c,h){if(Bd){var y=mg(h);if(y===null)Zp(a,s,h,qd,c),sj(a,h);else if(i4(y,a,s,c,h))h.stopPropagation();else if(sj(a,h),s&4&&-1<a4.indexOf(a)){for(;y!==null;){var x=Zs(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Gt(x.pendingLanes);if(O!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;O;){var U=1<<31-bt(O);k.entanglements[1]|=U,O&=~U}na(x),(nt&6)===0&&(jd=Pe()+500,pc(0))}}break;case 31:case 13:k=Ji(x,2),k!==null&&Yn(k,x,2),Od(),fg(x,2)}if(x=mg(h),x===null&&Zp(a,s,h,qd,c),x===y)break;y=x}y!==null&&h.stopPropagation()}else Zp(a,s,h,null,c)}}function mg(a){return a=gm(a),pg(a)}var qd=null;function pg(a){if(qd=null,a=Js(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return qd=a,null}function ij(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case Ft:return 2;case zn:return 8;case he:case ge:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var gg=!1,wi=null,_i=null,Si=null,_c=new Map,Sc=new Map,ji=[],a4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sj(a,s){switch(a){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(s.pointerId)}}function jc(a,s,c,h,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},s!==null&&(s=Zs(s),s!==null&&rj(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function i4(a,s,c,h,y){switch(s){case"focusin":return wi=jc(wi,a,s,c,h,y),!0;case"dragenter":return _i=jc(_i,a,s,c,h,y),!0;case"mouseover":return Si=jc(Si,a,s,c,h,y),!0;case"pointerover":var x=y.pointerId;return _c.set(x,jc(_c.get(x)||null,a,s,c,h,y)),!0;case"gotpointercapture":return x=y.pointerId,Sc.set(x,jc(Sc.get(x)||null,a,s,c,h,y)),!0}return!1}function oj(a){var s=Js(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,ww(a.priority,function(){aj(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,ww(a.priority,function(){aj(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=mg(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);pm=h,c.target.dispatchEvent(h),pm=null}else return s=Zs(c),s!==null&&rj(s),a.blockedOn=c,!1;s.shift()}return!0}function lj(a,s,c){Hd(a)&&c.delete(s)}function s4(){gg=!1,wi!==null&&Hd(wi)&&(wi=null),_i!==null&&Hd(_i)&&(_i=null),Si!==null&&Hd(Si)&&(Si=null),_c.forEach(lj),Sc.forEach(lj)}function Kd(a,s){a.blockedOn===s&&(a.blockedOn=null,gg||(gg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,s4)))}var Fd=null;function cj(a){Fd!==a&&(Fd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Fd===a&&(Fd=null);for(var s=0;s<a.length;s+=3){var c=a[s],h=a[s+1],y=a[s+2];if(typeof h!="function"){if(pg(h||c)===null)continue;break}var x=Zs(c);x!==null&&(a.splice(s,3),s-=3,mp(x,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function Do(a){function s(U){return Kd(U,a)}wi!==null&&Kd(wi,a),_i!==null&&Kd(_i,a),Si!==null&&Kd(Si,a),_c.forEach(s),Sc.forEach(s);for(var c=0;c<ji.length;c++){var h=ji[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<ji.length&&(c=ji[0],c.blockedOn===null);)oj(c),c.blockedOn===null&&ji.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],x=c[h+1],O=y[Bn]||null;if(typeof x=="function")O||cj(c);else if(O){var k=null;if(x&&x.hasAttribute("formAction")){if(y=x,O=x[Bn]||null)k=O.formAction;else if(pg(y)!==null)continue}else k=O.action;typeof k=="function"?c[h+1]=k:(c.splice(h,3),h-=3),cj(c)}}}function uj(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function vg(a){this._internalRoot=a}Gd.prototype.render=vg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,h=sr();tj(c,h,a,s,null,null)},Gd.prototype.unmount=vg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;tj(a.current,2,null,a,null,null),Od(),s[Qs]=null}};function Gd(a){this._internalRoot=a}Gd.prototype.unstable_scheduleHydration=function(a){if(a){var s=xw();a={blockedOn:null,target:a,priority:s};for(var c=0;c<ji.length&&s!==0&&s<ji[c].priority;c++);ji.splice(c,0,a),c===0&&oj(a)}};var dj=t.version;if(dj!=="19.2.0")throw Error(r(527,dj,"19.2.0"));V.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var o4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{kt=Yd.inject(o4),Ue=Yd}catch{}}return Oc.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,h="",y=y1,x=b1,O=x1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=ZS(a,1,!1,null,null,c,h,null,y,x,O,uj),a[Qs]=s.current,Jp(a),new vg(s)},Oc.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var h=!1,y="",x=y1,O=b1,k=x1,U=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=ZS(a,1,!0,s,c??null,h,y,U,x,O,k,uj),s.context=ej(null),c=s.current,h=sr(),h=om(h),y=ci(h),y.callback=null,ui(c,y,h),c=h,s.current.lanes=c,Dl(s,c),na(s),a[Qs]=s.current,Jp(a),new Gd(s)},Oc.version="19.2.0",Oc}var wj;function w4(){if(wj)return wg.exports;wj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wg.exports=x4(),wg.exports}var _4=w4();const S4=Xr(_4);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _j="popstate";function j4(e={}){function t(r,i){let{pathname:o,search:l,hash:u}=r.location;return vy("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xc(i)}return O4(t,n,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E4(){return Math.random().toString(36).substring(2,10)}function Sj(e,t){return{usr:e.state,key:e.key,idx:t}}function vy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bl(t):t,state:n,key:t&&t.key||r||E4()}}function Xc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function O4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let j=p(),N=j==null?null:j-f;f=j,d&&d({action:u,location:_.location,delta:N})}function v(j,N){u="PUSH";let E=vy(_.location,j,N);f=p()+1;let C=Sj(E,f),A=_.createHref(E);try{l.pushState(C,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(A)}o&&d&&d({action:u,location:_.location,delta:1})}function w(j,N){u="REPLACE";let E=vy(_.location,j,N);f=p();let C=Sj(E,f),A=_.createHref(E);l.replaceState(C,"",A),o&&d&&d({action:u,location:_.location,delta:0})}function S(j){return N4(j)}let _={get action(){return u},get location(){return e(i,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(_j,g),d=j,()=>{i.removeEventListener(_j,g),d=null}},createHref(j){return t(i,j)},createURL:S,encodeLocation(j){let N=S(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:w,go(j){return l.go(j)}};return _}function N4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Xc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function NC(e,t,n="/"){return C4(e,t,n,!1)}function C4(e,t,n,r){let i=typeof t=="string"?bl(t):t,o=Ka(i.pathname||"/",n);if(o==null)return null;let l=CC(e);A4(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=z4(o);u=U4(l[d],f,r)}return u}function CC(e,t=[],n=[],r="",i=!1){let o=(l,u,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Ct(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=za([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),CC(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:L4(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of AC(l.path))o(l,u,!0,f)}),t}function AC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=AC(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function A4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:I4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var T4=/^:[\w-]+$/,k4=3,M4=2,P4=1,R4=10,D4=-2,jj=e=>e==="*";function L4(e,t){let n=e.split("/"),r=n.length;return n.some(jj)&&(r+=D4),t&&(r+=M4),n.filter(i=>!jj(i)).reduce((i,o)=>i+(T4.test(o)?k4:o===""?P4:R4),r)}function I4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function U4(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Af({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=Af({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:za([o,g.pathname]),pathnameBase:K4(za([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=za([o,g.pathnameBase]))}return l}function Af(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=u[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[v];return g&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function $4(e,t=!1,n=!0){Wr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function z4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ka(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function B4(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bl(e):e;return{pathname:n?n.startsWith("/")?n:q4(n,t):t,search:F4(r),hash:G4(i)}}function q4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Eg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function P0(e){let t=H4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function R0(e,t,n,r=!1){let i;typeof e=="string"?i=bl(e):(i={...e},Ct(!i.pathname||!i.pathname.includes("?"),Eg("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Eg("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Eg("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=B4(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var za=e=>e.join("/").replace(/\/\/+/g,"/"),K4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var TC=["POST","PUT","PATCH","DELETE"];new Set(TC);var V4=["GET",...TC];new Set(V4);var xl=b.createContext(null);xl.displayName="DataRouter";var wh=b.createContext(null);wh.displayName="DataRouterState";b.createContext(!1);var kC=b.createContext({isTransitioning:!1});kC.displayName="ViewTransition";var W4=b.createContext(new Map);W4.displayName="Fetchers";var X4=b.createContext(null);X4.displayName="Await";var Qr=b.createContext(null);Qr.displayName="Navigation";var fu=b.createContext(null);fu.displayName="Location";var Ir=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var D0=b.createContext(null);D0.displayName="RouteError";function Q4(e,{relative:t}={}){Ct(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Qr),{hash:i,pathname:o,search:l}=hu(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:za([n,o])),r.createHref({pathname:u,search:l,hash:i})}function wl(){return b.useContext(fu)!=null}function Bi(){return Ct(wl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(fu).location}var MC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PC(e){b.useContext(Qr).static||b.useLayoutEffect(e)}function qi(){let{isDataRoute:e}=b.useContext(Ir);return e?hL():J4()}function J4(){Ct(wl(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(xl),{basename:t,navigator:n}=b.useContext(Qr),{matches:r}=b.useContext(Ir),{pathname:i}=Bi(),o=JSON.stringify(P0(r)),l=b.useRef(!1);return PC(()=>{l.current=!0}),b.useCallback((d,f={})=>{if(Wr(l.current,MC),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=R0(d,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:za([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,i,e])}var Z4=b.createContext(null);function eL(e){let t=b.useContext(Ir).outlet;return b.useMemo(()=>t&&b.createElement(Z4.Provider,{value:e},t),[t,e])}function tL(){let{matches:e}=b.useContext(Ir),t=e[e.length-1];return t?t.params:{}}function hu(e,{relative:t}={}){let{matches:n}=b.useContext(Ir),{pathname:r}=Bi(),i=JSON.stringify(P0(n));return b.useMemo(()=>R0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function nL(e,t){return RC(e,t)}function RC(e,t,n,r,i){var E;Ct(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(Qr),{matches:l}=b.useContext(Ir),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let C=g&&g.path||"";DC(f,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Bi(),w;if(t){let C=typeof t=="string"?bl(t):t;Ct(p==="/"||((E=C.pathname)==null?void 0:E.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=v;let S=w.pathname||"/",_=S;if(p!=="/"){let C=p.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=NC(e,{pathname:_});Wr(g||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Wr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=oL(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:za([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:za([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,n,r,i);return t&&N?b.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function rL(){let e=fL(),t=Y4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,l)}var aL=b.createElement(rL,null),iL=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ir.Provider,{value:this.props.routeContext},b.createElement(D0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sL({routeContext:e,match:t,children:n}){let r=b.useContext(xl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ir.Provider,{value:e},n)}function oL(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,w=!1,S=null,_=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||aL,u&&(d<0&&g===0?(DC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):d===g&&(w=!0,_=p.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,g+1)),N=()=>{let E;return v?E=S:w?E=_:p.route.Component?E=b.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=f,b.createElement(sL,{match:p,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?b.createElement(iL,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):N()},null)}function L0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lL(e){let t=b.useContext(xl);return Ct(t,L0(e)),t}function cL(e){let t=b.useContext(wh);return Ct(t,L0(e)),t}function uL(e){let t=b.useContext(Ir);return Ct(t,L0(e)),t}function I0(e){let t=uL(e),n=t.matches[t.matches.length-1];return Ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function dL(){return I0("useRouteId")}function fL(){var r;let e=b.useContext(D0),t=cL("useRouteError"),n=I0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function hL(){let{router:e}=lL("useNavigate"),t=I0("useNavigate"),n=b.useRef(!1);return PC(()=>{n.current=!0}),b.useCallback(async(i,o={})=>{Wr(n.current,MC),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Ej={};function DC(e,t,n){!t&&!Ej[e]&&(Ej[e]=!0,Wr(!1,n))}b.memo(mL);function mL({routes:e,future:t,state:n,unstable_onError:r}){return RC(e,void 0,n,r,t)}function Tf({to:e,replace:t,state:n,relative:r}){Ct(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Qr);Wr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(Ir),{pathname:l}=Bi(),u=qi(),d=R0(e,P0(o),l,r==="path"),f=JSON.stringify(d);return b.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function pL(e){return eL(e.context)}function Dn(e){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gL({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ct(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=bl(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=n,w=b.useMemo(()=>{let S=Ka(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:g,key:v},navigationType:r}},[l,d,f,p,g,v,r]);return Wr(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:b.createElement(Qr.Provider,{value:u},b.createElement(fu.Provider,{children:t,value:w}))}function vL({children:e,location:t}){return nL(yy(e),t)}function yy(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let o=[...t,i];if(r.type===b.Fragment){n.push.apply(n,yy(r.props.children,o));return}Ct(r.type===Dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=yy(r.props.children,o)),n.push(l)}),n}var wf="get",_f="application/x-www-form-urlencoded";function _h(e){return e!=null&&typeof e.tagName=="string"}function yL(e){return _h(e)&&e.tagName.toLowerCase()==="button"}function bL(e){return _h(e)&&e.tagName.toLowerCase()==="form"}function xL(e){return _h(e)&&e.tagName.toLowerCase()==="input"}function wL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _L(e,t){return e.button===0&&(!t||t==="_self")&&!wL(e)}var Vd=null;function SL(){if(Vd===null)try{new FormData(document.createElement("form"),0),Vd=!1}catch{Vd=!0}return Vd}var jL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Og(e){return e!=null&&!jL.has(e)?(Wr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):e}function EL(e,t){let n,r,i,o,l;if(bL(e)){let u=e.getAttribute("action");r=u?Ka(u,t):null,n=e.getAttribute("method")||wf,i=Og(e.getAttribute("enctype"))||_f,o=new FormData(e)}else if(yL(e)||xL(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ka(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||wf,i=Og(e.getAttribute("formenctype"))||Og(u.getAttribute("enctype"))||_f,o=new FormData(u,e),!SL()){let{name:f,type:p,value:g}=e;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,g)}}else{if(_h(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wf,r=null,i=_f,l=e}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function OL(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ka(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NL(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AL(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await NL(o,n);return l.links?l.links():[]}return[]}));return PL(r.flat(1).filter(CL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Oj(e,t,n,r,i,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var p;return n[f].pathname!==d.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var g;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function TL(e,t,{includeHydrateFallback:n}={}){return kL(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function kL(e){return[...new Set(e)]}function ML(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function PL(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(ML(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function LC(){let e=b.useContext(xl);return U0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RL(){let e=b.useContext(wh);return U0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $0=b.createContext(void 0);$0.displayName="FrameworkContext";function IC(){let e=b.useContext($0);return U0(e,"You must render this element inside a <HydratedRouter> element"),e}function DL(e,t){let n=b.useContext($0),[r,i]=b.useState(!1),[o,l]=b.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=N=>{N.forEach(E=>{l(E.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),b.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let w=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?e!=="intent"?[o,v,{}]:[o,v,{onFocus:Nc(u,w),onBlur:Nc(d,S),onMouseEnter:Nc(f,w),onMouseLeave:Nc(p,S),onTouchStart:Nc(g,w)}]:[!1,v,{}]}function Nc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function LL({page:e,...t}){let{router:n}=LC(),r=b.useMemo(()=>NC(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(UL,{page:e,matches:r,...t}):null}function IL(e){let{manifest:t,routeModules:n}=IC(),[r,i]=b.useState([]);return b.useEffect(()=>{let o=!1;return AL(e,t,n).then(l=>{o||i(l)}),()=>{o=!0}},[e,t,n]),r}function UL({page:e,matches:t,...n}){let r=Bi(),{manifest:i,routeModules:o}=IC(),{basename:l}=LC(),{loaderData:u,matches:d}=RL(),f=b.useMemo(()=>Oj(e,t,d,i,r,"data"),[e,t,d,i,r]),p=b.useMemo(()=>Oj(e,t,d,i,r,"assets"),[e,t,d,i,r]),g=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,_=!1;if(t.forEach(N=>{var C;let E=i.routes[N.route.id];!E||!E.hasLoader||(!f.some(A=>A.route.id===N.route.id)&&N.route.id in u&&((C=o[N.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?_=!0:S.add(N.route.id))}),S.size===0)return[];let j=OL(e,l,"data");return _&&S.size>0&&j.searchParams.set("_routes",t.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[l,u,r,i,f,t,e,o]),v=b.useMemo(()=>TL(p,i),[p,i]),w=IL(p);return b.createElement(b.Fragment,null,g.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:_})=>b.createElement("link",{key:S,nonce:n.nonce,..._})))}function $L(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var UC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UC&&(window.__reactRouterVersion="7.9.3")}catch{}function zL({basename:e,children:t,window:n}){let r=b.useRef();r.current==null&&(r.current=j4({window:n,v5Compat:!0}));let i=r.current,[o,l]=b.useState({action:i.action,location:i.location}),u=b.useCallback(d=>{b.startTransition(()=>l(d))},[l]);return b.useLayoutEffect(()=>i.listen(u),[i,u]),b.createElement(gL,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var $C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z0=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...v},w){let{basename:S}=b.useContext(Qr),_=typeof f=="string"&&$C.test(f),j,N=!1;if(typeof f=="string"&&_&&(j=f,UC))try{let H=new URL(window.location.href),z=f.startsWith("//")?new URL(H.protocol+f):new URL(f),B=Ka(z.pathname,S);z.origin===H.origin&&B!=null?f=B+z.search+z.hash:N=!0}catch{Wr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Q4(f,{relative:i}),[C,A,T]=DL(r,v),P=HL(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function R(H){t&&t(H),H.defaultPrevented||P(H)}let D=b.createElement("a",{...v,...T,href:j||E,onClick:N||o?t:R,ref:$L(w,A),target:d,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?b.createElement(b.Fragment,null,D,b.createElement(LL,{page:E})):D});z0.displayName="Link";var zC=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=hu(l,{relative:f.relative}),v=Bi(),w=b.useContext(wh),{navigator:S,basename:_}=b.useContext(Qr),j=w!=null&&VL(g)&&u===!0,N=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,E=v.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&_&&(C=Ka(C,_)||C);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=E===N||!i&&E.startsWith(N)&&E.charAt(A)==="/",P=C!=null&&(C===N||!i&&C.startsWith(N)&&C.charAt(N.length)==="/"),R={isActive:T,isPending:P,isTransitioning:j},D=T?t:void 0,H;typeof r=="function"?H=r(R):H=[r,T?"active":null,P?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(R):o;return b.createElement(z0,{...f,"aria-current":D,className:H,ref:p,style:z,to:l,viewTransition:u},typeof d=="function"?d(R):d)});zC.displayName="NavLink";var BL=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:l=wf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...v},w)=>{let S=GL(),_=YL(u,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&$C.test(u),E=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,T=(A==null?void 0:A.getAttribute("formmethod"))||l;S(A||C.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return b.createElement("form",{ref:w,method:j,action:_,onSubmit:r?d:E,...v,"data-discover":!N&&e==="render"?"true":void 0})});BL.displayName="Form";function qL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BC(e){let t=b.useContext(xl);return Ct(t,qL(e)),t}function HL(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=qi(),d=Bi(),f=hu(e,{relative:o});return b.useCallback(p=>{if(_L(p,t)){p.preventDefault();let g=n!==void 0?n:Xc(d)===Xc(f);u(e,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,f,n,r,t,e,i,o,l])}var KL=0,FL=()=>`__${String(++KL)}__`;function GL(){let{router:e}=BC("useSubmit"),{basename:t}=b.useContext(Qr),n=dL();return b.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=EL(r,t);if(i.navigate===!1){let p=i.fetcherKey||FL();await e.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function YL(e,{relative:t}={}){let{basename:n}=b.useContext(Qr),r=b.useContext(Ir);Ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...hu(e||".",{relative:t})},l=Bi();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:za([n,o.pathname])),Xc(o)}function VL(e,{relative:t}={}){let n=b.useContext(kC);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BC("useViewTransitionState"),i=hu(e,{relative:t});if(!n.isTransitioning)return!1;let o=Ka(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ka(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Af(i.pathname,l)!=null||Af(i.pathname,o)!=null}var B0=OC();const WL="modulepreload",XL=function(e){return"/"+e},Nj={},mu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=XL(f),f in Nj)return;Nj[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":WL,p||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((w,S)=>{v.addEventListener("load",w),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},QL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mu(async()=>{const{default:r}=await Promise.resolve().then(()=>_l);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class q0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Cj extends q0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Aj extends q0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tj extends q0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var by;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(by||(by={}));var JL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class ZL{constructor(t,{headers:n={},customFetch:r,region:i=by.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=QL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return JL(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const w=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:d}).catch(N=>{throw N.name==="AbortError"?N:new Cj(N)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new Aj(w);if(!w.ok)throw new Tj(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield w.json():_==="application/octet-stream"?j=yield w.blob():_==="text/event-stream"?j=w:_==="multipart/form-data"?j=yield w.formData():j=yield w.text(),{data:j,error:null,response:w}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Cj(o)}:{data:null,error:o,response:o instanceof Tj||o instanceof Aj?o.context:void 0}}})}}var mn={},Lo={},Io={},Uo={},$o={},zo={},eI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},il=eI();const tI=il.fetch,qC=il.fetch.bind(il),HC=il.Headers,nI=il.Request,rI=il.Response,_l=Object.freeze(Object.defineProperty({__proto__:null,Headers:HC,Request:nI,Response:rI,default:qC,fetch:tI},Symbol.toStringTag,{value:"Module"})),aI=f4(_l);var Wd={},kj;function KC(){if(kj)return Wd;kj=1,Object.defineProperty(Wd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Wd.default=e,Wd}var Mj;function FC(){if(Mj)return zo;Mj=1;var e=zo&&zo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(aI),n=e(KC());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,g,v,w;let S=null,_=null,j=null,N=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const P=await f.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?_=P:_=JSON.parse(P))}const A=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&T&&T.length>1&&(j=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,j=null,N=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const A=await f.text();try{S=JSON.parse(A),Array.isArray(S)&&f.status===404&&(_=[],S=null,N=200,E="OK")}catch{f.status===404&&A===""?(N=204,E="No Content"):S={message:A}}if(S&&this.isMaybeSingle&&(!((w=S==null?void 0:S.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,N=200,E="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:_,count:j,status:N,statusText:E}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,g,v;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return zo.default=r,zo}var Pj;function GC(){if(Pj)return $o;Pj=1;var e=$o&&$o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(FC());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return $o.default=n,$o}var Rj;function H0(){if(Rj)return Uo;Rj=1;var e=Uo&&Uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(GC());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Uo.default=n,Uo}var Dj;function YC(){if(Dj)return Io;Dj=1;var e=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0});const t=e(H0());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},d=l?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Io.default=n,Io}var Lj;function iI(){if(Lj)return Lo;Lj=1;var e=Lo&&Lo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lo,"__esModule",{value:!0});const t=e(YC()),n=e(H0());class r{constructor(o,{headers:l={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:d=!1,count:f}={}){var p;let g;const v=new URL(`${this.url}/rpc/${o}`);let w;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{v.searchParams.append(_,j)})):(g="POST",w=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new n.default({method:g,url:v,headers:S,schema:this.schemaName,body:w,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Lo.default=r,Lo}var Ij;function sI(){if(Ij)return mn;Ij=1;var e=mn&&mn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(mn,"__esModule",{value:!0}),mn.PostgrestError=mn.PostgrestBuilder=mn.PostgrestTransformBuilder=mn.PostgrestFilterBuilder=mn.PostgrestQueryBuilder=mn.PostgrestClient=void 0;const t=e(iI());mn.PostgrestClient=t.default;const n=e(YC());mn.PostgrestQueryBuilder=n.default;const r=e(H0());mn.PostgrestFilterBuilder=r.default;const i=e(GC());mn.PostgrestTransformBuilder=i.default;const o=e(FC());mn.PostgrestBuilder=o.default;const l=e(KC());return mn.PostgrestError=l.default,mn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},mn}var oI=sI();const lI=Xr(oI),{PostgrestClient:cI,PostgrestQueryBuilder:bne,PostgrestFilterBuilder:xne,PostgrestTransformBuilder:wne,PostgrestBuilder:_ne,PostgrestError:Sne}=lI;class uI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const dI="2.74.0",fI=`realtime-js/${dI}`,hI="1.0.0",xy=1e4,mI=1e3,pI=100;var qc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qc||(qc={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var wy;(function(e){e.websocket="websocket"})(wy||(wy={}));var js;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(js||(js={}));class gI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class VC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xt||(xt={}));const Uj=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=vI(l,e,t,i),o),{}):{}},vI=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?WC(o,l):_y(l)},WC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return wI(t,n)}switch(e){case xt.bool:return yI(t);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return bI(t);case xt.json:case xt.jsonb:return xI(t);case xt.timestamp:return _I(t);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return _y(t);default:return _y(t)}},_y=e=>e,yI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>WC(t,u))}return e},_I=e=>typeof e=="string"?e.replace(" ","T"):e,XC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ng{constructor(t,n,r={},i=xy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $j;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($j||($j={}));class Hc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hc.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=Hc.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hc.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const g=o[f];if(g){const v=p.map(j=>j.presence_ref),w=g.map(j=>j.presence_ref),S=p.filter(j=>w.indexOf(j.presence_ref)<0),_=g.filter(j=>v.indexOf(j.presence_ref)<0);S.length>0&&(u[f]=S),_.length>0&&(d[f]=_)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const g=t[u].map(w=>w.presence_ref),v=p.filter(w=>g.indexOf(w.presence_ref)<0);t[u].unshift(...v)}r(u,p,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zj||(zj={}));var Kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kc||(Kc={}));var Ra;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ra||(Ra={}));class K0{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ng(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new VC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Hc(this),this.broadcastEndpointURL=XC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Kc.PRESENCE]&&this.bindings[Kc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(Ra.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(Ra.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){t==null||t(Ra.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,N=[];for(let E=0;E<j;E++){const C=_[E],{filter:{event:A,schema:T,table:P,filter:R}}=C,D=w&&w[E];if(D&&D.event===A&&D.schema===T&&D.table===P&&D.filter===R)N.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(Ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ra.SUBSCRIBED);return}}).receive("error",w=>{this.state=rn.errored,t==null||t(Ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===rn.joined&&t===Kc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ng(this,Fr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ng(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>pI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Fr;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var S,_,j;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(_=w.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(w=>w.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var S,_,j,N,E,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const A=w.id,T=(S=w.filter)===null||S===void 0?void 0:S.event;return A&&((_=n.ids)===null||_===void 0?void 0:_.includes(A))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const A=(E=(N=w==null?void 0:w.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:_,table:j,commit_timestamp:N,type:E,errors:C}=S;v=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:N,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(S))}w.callback(v,r)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&K0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Uj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Uj(t.columns,t.old_record)),n}}const Cg=()=>{},Xd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},SI=[1e3,2e3,5e3,1e4],jI=1e4,EI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OI{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xy,this.transport=null,this.heartbeatIntervalMs=Xd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cg,this.ref=0,this.reconnectTimer=null,this.logger=Cg,this.conn=null,this.sendBuffer=[],this.serializer=new gI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>mu(async()=>{const{default:u}=await Promise.resolve().then(()=>_l);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${wy.websocket}`,this.httpEndpoint=XC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qc.connecting:return js.Connecting;case qc.open:return js.Open;case qc.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new K0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([EI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:fI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Fr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new VC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,d,f,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:xy,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Xd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Cg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(g=>SI[g-1]||jI),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class F0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class NI extends F0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sy extends F0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var CI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const QC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mu(async()=>{const{default:r}=await Promise.resolve().then(()=>_l);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},AI=()=>CI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mu(()=>Promise.resolve().then(()=>_l),void 0)).Response:Response}),jy=e=>{if(Array.isArray(e))return e.map(n=>jy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=jy(r)}),t},TI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Hs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const Ag=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kI=(e,t,n)=>Hs(void 0,void 0,void 0,function*(){const r=yield AI();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new NI(Ag(i),o,l))}).catch(i=>{t(new Sy(Ag(i),i))}):t(new Sy(Ag(e),e))}),MI=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(TI(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function pu(e,t,n,r,i,o){return Hs(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,MI(t,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>kI(d,u,r))})})}function kf(e,t,n,r){return Hs(this,void 0,void 0,function*(){return pu(e,"GET",t,n,r)})}function sa(e,t,n,r,i){return Hs(this,void 0,void 0,function*(){return pu(e,"POST",t,r,i,n)})}function Ey(e,t,n,r,i){return Hs(this,void 0,void 0,function*(){return pu(e,"PUT",t,r,i,n)})}function PI(e,t,n,r){return Hs(this,void 0,void 0,function*(){return pu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function JC(e,t,n,r,i){return Hs(this,void 0,void 0,function*(){return pu(e,"DELETE",t,r,i,n)})}var RI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class DI{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return RI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}}var LI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class II{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new DI(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return LI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}}var Vn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const UI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $I{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=QC(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Vn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Bj),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),g=yield(t=="PUT"?Ey:sa)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Jt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Vn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Bj.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield Ey(this.fetch,u.toString(),d,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Jt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Vn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield sa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new F0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Vn(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Vn(this,void 0,void 0,function*(){try{return{data:{path:(yield sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Vn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield sa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Vn(this,void 0,void 0,function*(){try{const i=yield sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),d=()=>kf(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new II(d,this.shouldThrowOnError)}info(t){return Vn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield kf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}exists(t){return Vn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield PI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r)&&r instanceof Sy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Vn(this,void 0,void 0,function*(){try{return{data:yield JC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Vn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},UI),n),{prefix:t||""});return{data:yield sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Vn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield sa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const zI="2.74.0",BI={"X-Client-Info":`storage-js/${zI}`};var Bo=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class qI{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},BI),n),this.fetch=QC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Bo(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}getBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}createBucket(t){return Bo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Bo(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield JC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}}class HI extends qI{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new $I(this.url,this.headers,t,this.fetch)}}const KI="2.74.0";let $c="";typeof Deno<"u"?$c="deno":typeof document<"u"?$c="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$c="react-native":$c="node";const FI={"X-Client-Info":`supabase-js-${$c}/${KI}`},GI={headers:FI},YI={schema:"public"},VI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WI={};var XI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const QI=e=>{let t;return e?t=e:typeof fetch>"u"?t=qC:t=fetch,(...n)=>t(...n)},JI=()=>typeof Headers>"u"?HC:Headers,ZI=(e,t,n)=>{const r=QI(n),i=JI();return(o,l)=>XI(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var e5=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};function t5(e){return e.endsWith("/")?e:e+"/"}function n5(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:d,auth:f,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>e5(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function r5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ZC="2.74.0",Jo=30*1e3,Oy=3,Tg=Oy*Jo,a5="http://localhost:9999",i5="supabase.auth.token",s5={"X-Client-Info":`gotrue-js/${ZC}`},Ny="X-Supabase-Api-Version",eA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l5=600*1e3;class Qc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c5 extends Qc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function u5(e){return ke(e)&&e.name==="AuthApiError"}class Es extends Qc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hi extends Qc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ci extends Hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d5(e){return ke(e)&&e.name==="AuthSessionMissingError"}class qo extends Hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qd extends Hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jd extends Hi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f5(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class qj extends Hi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cy extends Hi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kg(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class Hj extends Hi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ay extends Hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kj=` 	
\r=`.split(""),h5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kj.length;t+=1)e[Kj[t].charCodeAt(0)]=-2;for(let t=0;t<Mf.length;t+=1)e[Mf[t].charCodeAt(0)]=t;return e})();function Fj(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mf[r]),t.queuedBits-=6}}function tA(e,t,n){const r=h5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gj(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{g5(l,r,n)};for(let l=0;l<e.length;l+=1)tA(e.charCodeAt(l),i,o);return t.join("")}function m5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function p5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}m5(r,t)}}function g5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function tl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)tA(e.charCodeAt(i),n,r);return new Uint8Array(t)}function v5(e){const t=[];return p5(e,n=>t.push(n)),new Uint8Array(t)}function Ns(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Fj(i,n,r)),Fj(null,n,r),t.join("")}function y5(e){return Math.round(Date.now()/1e3)+e}function b5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const or=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},nA=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function x5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const rA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mu(async()=>{const{default:r}=await Promise.resolve().then(()=>_l);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},w5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(e,t)=>{await e.removeItem(t)};class Sh{constructor(){this.promise=new Sh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Sh.promiseConstructor=Promise;function Mg(e){const t=e.split(".");if(t.length!==3)throw new Ay("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!o5.test(t[r]))throw new Ay("JWT not in base64url format");return{header:JSON.parse(Gj(t[0])),payload:JSON.parse(Gj(t[1])),signature:tl(t[2]),raw:{header:t[0],payload:t[1]}}}async function _5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function S5(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function j5(e){return("0"+e.toString(16)).substr(-2)}function E5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,j5).join("")}async function O5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function N5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await O5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(e,t,n=!1){const r=E5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Zo(e,`${t}-code-verifier`,i);const o=await N5(r);return[o,r===o?"plain":"s256"]}const C5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A5(e){const t=e.headers.get(Ny);if(!t||!t.match(C5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function T5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function k5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(e){if(!M5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yj(e){return JSON.parse(JSON.stringify(e))}var P5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R5=[502,503,504];async function Vj(e){var t;if(!w5(e))throw new Cy(gs(e),0);if(R5.includes(e.status))throw new Cy(gs(e),e.status);let n;try{n=await e.json()}catch(o){throw new Es(gs(o),o)}let r;const i=A5(e);if(i&&i.getTime()>=eA["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hj(gs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Hj(gs(n),e.status,n.weak_password.reasons);throw new c5(gs(n),e.status||500,r)}const D5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ie(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Ny]||(o[Ny]=eA["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await L5(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function L5(e,t,n,r,i,o){const l=D5(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Cy(gs(d),0)}if(u.ok||await Vj(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await Vj(d)}}function Kr(e){var t;let n=null;$5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=y5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wj(e){const t=Kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function I5(e){return{data:e,error:null}}function U5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=P5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Xj(e){return e}function $5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rg=["global","local","others"];var z5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class B5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=rA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Rg[0]){if(Rg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rg.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=z5(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:U5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Xj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);f[`${j}Page`]=_}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ko(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ko(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ko(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ko(t.userId);try{const{data:n,error:r}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ko(t.userId),Ko(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Xj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);f[`${j}Page`]=_}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}}function Qj(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Fo={debug:!!(globalThis&&nA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class q5 extends aA{}async function H5(e,t,n){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new q5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function K5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function F5(e){return parseInt(e,16)}function G5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Y5(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=iA(e.address),S=p?`${p}://${r}`:r,_=e.statement?`${e.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${w}

${_}`;let N=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),d&&(N+=`
Request ID: ${d}`),f){let E=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}N+=E}return`${j}
${N}`}class Qt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Pf extends Qt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function V5({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(oA(l)){if(o.rp.id!==l)return new Qt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function W5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(oA(r)){if(n.rpId!==r)return new Qt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var sA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class X5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Q5=new X5;function J5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=sA(e,["challenge","user","excludeCredentials"]),o=tl(t).buffer,l=Object.assign(Object.assign({},n),{id:tl(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:tl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Z5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=sA(e,["challenge","allowCredentials"]),i=tl(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:tl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function eU(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ns(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ns(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tU(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ns(new Uint8Array(i.authenticatorData)),clientDataJSON:Ns(new Uint8Array(i.clientDataJSON)),signature:Ns(new Uint8Array(i.signature)),userHandle:i.userHandle?Ns(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jj(){var e,t;return!!(or()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nU(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",t)}:{data:null,error:new Pf("Empty credential response",t)}}catch(t){return{data:null,error:V5({error:t,options:e})}}}async function rU(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",t)}:{data:null,error:new Pf("Empty credential response",t)}}catch(t){return{data:null,error:W5({error:t,options:e})}}}const aU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},iU={userVerification:"preferred",hints:["security-key"]};function Rf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Rf(u,l):r[o]=Rf(l)}else r[o]=l}return r}function sU(e,t){return Rf(aU,e,t||{})}function oU(e,t){return Rf(iU,e,t||{})}class lU{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=i??Q5.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=sU(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await nU({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=oU(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await rU(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Es("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Qc("rpId is required for WebAuthn authentication")};try{if(!Jj())return{data:null,error:new Es("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Es("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Qc("rpId is required for WebAuthn registration")};try{if(!Jj())return{data:null,error:new Es("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Es("Unexpected error in register",l)}}}}K5();const cU={url:a5,storageKey:i5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zj(e,t,n){return await n()}const Go={};class Jc{get jwks(){var t,n;return(n=(t=Go[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Go[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jc.nextInstanceID,Jc.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cU),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new B5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=rA(i.fetch),this.lock=i.lock||Zj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:or()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=H5:this.lock=Zj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lU(this)},this.persistSession?(i.storage?this.storage=i.storage:nA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Qj(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=x5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),or()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),f5(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new Es("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:p,password:g,options:v}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Ho(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:S},xform:Kr})}else if("phone"in t){const{phone:p,password:g,options:v}=t;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Kr})}else throw new Qd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Wj})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Wj})}else throw new Qd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,d,f,p,g,v;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:_,wallet:j,statement:N,options:E}=t;let C;if(or())if(typeof j=="object")C=j;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")C=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const A=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href),T=await C.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=iA(T[0]);let R=(r=E==null?void 0:E.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const H=await C.request({method:"eth_chainId"});R=F5(H)}const D={domain:A.host,address:P,statement:N,uri:A.href,version:"1",chainId:R,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=Y5(D),S=await C.request({method:"personal_sign",params:[G5(w),P]})}try{const{data:_,error:j}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Kr});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new qo}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(ke(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var n,r,i,o,l,u,d,f,p,g,v,w;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:j,wallet:N,statement:E,options:C}=t;let A;if(or())if(typeof N=="object")A=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))A=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const T=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const P=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let R;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")R=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)R=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)S=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${T.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(p=C==null?void 0:C.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const P=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:j,error:N}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ns(_)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Kr});if(N)throw N;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new qo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:N})}catch(j){if(ke(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new qo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(ke(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kr}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new qo}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ho(this.storage,this.storageKey));const{error:g}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Qd("You must provide either an email or phone number.")}catch(u){if(ke(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Kr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Ho(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:I5})}catch(o){if(ke(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ci;const{error:i}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Qd("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Tg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await fs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Pg()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ci}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Pi})})}catch(n){if(ke(n))return d5(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Ci;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Ho(this.storage,this.storageKey));const{data:f,error:p}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Pi});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ci;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Mg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ci;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!or())throw new Jd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qj("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!l||!f)throw new Jd("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;d&&(v=parseInt(d));const w=v-p;w*1e3<=Jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const S=v-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:_,error:j}=await this._getUser(o);if(j)throw j;const N={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(u5(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=b5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ho(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ke(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,p;const{data:g,error:v}=o;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return or()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ke(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:p}=t,g=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kr}),{data:v,error:w}=g;return w?{data:{user:null,session:null},error:w}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new qo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:w})}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await S5(async i=>(i>0&&await _5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&kg(o)&&Date.now()+l-r<Jo})}catch(r){if(this._debug(n,"error",r),ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),or()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await fs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Zo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Pg()}else if(i&&!i.user&&!i.user){const l=await fs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Oi(this.storage,this.storageKey+"-user"),await Zo(this.storage,this.storageKey,i)):i.user=Pg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Tg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),kg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sh;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Ci;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),ke(o)){const l={data:null,error:o};return kg(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Zo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Yj(i);await Zo(this.storage,this.storageKey,o)}else{const i=Yj(n);await Zo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jo}ms, refresh threshold is ${Oy} ticks`),i<=Oy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Ho(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?eU(t.webauthn.credential_response):tU(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:J5(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Z5(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Mg(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+l5>i)return r;const{data:o,error:l}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};r=w.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=Mg(r);n!=null&&n.allowExpired||T5(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:i,signature:l},error:null}}const p=k5(i.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,v5(`${u}.${d}`)))throw new Ay("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}Jc.nextInstanceID=0;const uU=Jc;class dU extends uU{constructor(t){super(t)}}var fU=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class hU{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=r5(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:YI,realtime:WI,auth:Object.assign(Object.assign({},VI),{storageKey:d}),global:GI},p=n5(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=ZI(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new cI(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new HI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new ZL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return fU(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dU({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new OI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mU=(e,t,n)=>new hU(e,t,n);function pU(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pU()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lA="Supabase client is not available in this offline build. Install @supabase/supabase-js in production.",cA=()=>{const e=Promise.reject(new Error(lA));return new Proxy({},{get(t,n){return n==="then"||n==="catch"||n==="finally"?e[n].bind(e):()=>cA()}})},gU=()=>{const e=cA(),t=async()=>{throw new Error(lA)};return{from(){return e},functions:{invoke:t},auth:{signInWithPassword:t,signOut:t,getSession:t}}},vU=e=>{try{const t=new URL(e),n=t.pathname.replace(/\/+$/,"");if(n&&n!=="/"){const r=n===""?"/":n;throw new Error(`VITE_SUPABASE_URL must point to the project root (e.g. https://xxxx.supabase.co). Remove the path "${r}" to avoid cross-origin errors.`)}return t.origin}catch(t){const n=t instanceof Error?` ${t.message}`:"";throw new Error(`Invalid VITE_SUPABASE_URL provided.${n}`.trim())}},yU=()=>gU();let Ty;try{{const r=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(Boolean);throw new Error(`Missing Supabase environment variables: ${r.join(", ")}`)}const n=vU(void 0);Ty=mU(n,void 0,{auth:{persistSession:!1}})}catch(e){const t=e instanceof Error?e.message:"Unknown error while creating the Supabase client.";console.warn("Supabase client disabled. Falling back to the offline stub. Operations depending on Supabase will fail until the environment is configured.",t),Ty=yU()}const ve=Ty,bU={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},xU=bU,wU="https://api.cloudinary.com/v1_1",_U="cloudinary.com",SU=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),G0=e=>SU(e).toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,""),uA=()=>Math.random().toString(36).slice(2,10),Fc=(e,t)=>e&&G0(e)||t,Vr=e=>{const t=xU[e];if(typeof t!="string")return;const n=t.trim();return n.length>0?n:void 0},eE=(e,t)=>{const n=Vr(e);if(!n)throw new Error(`Configuration Cloudinary manquante: définissez la variable d'environnement ${e} pour ${t}.`);return n},Y0=async(e,{folder:t,uploadPreset:n,publicId:r,tags:i})=>{var g;const o=eE("VITE_CLOUDINARY_CLOUD_NAME","les téléversements de médias"),l=n??eE("VITE_CLOUDINARY_UPLOAD_PRESET","les téléversements de médias"),u=l,d=new FormData;d.append("file",e),d.append("upload_preset",l),t&&d.append("folder",t),r&&d.append("public_id",r),i!=null&&i.length&&d.append("tags",i.join(","));const f=await fetch(`${wU}/${o}/auto/upload`,{method:"POST",body:d}),p=await f.json();if(!f.ok||p.error){const v=(g=p.error)==null?void 0:g.message;throw v&&/upload preset/i.test(v)?new Error(`Le preset Cloudinary "${u}" est introuvable ou ne permet pas les téléversements non signés. Vérifiez sa configuration dans votre console Cloudinary (Settings → Upload → Upload presets).`):new Error(v??`Échec du téléversement Cloudinary (statut ${f.status}).`)}if(!p.secure_url&&!p.url)throw new Error("Cloudinary n'a pas renvoyé d'URL sécurisée pour le fichier téléversé.");return p.secure_url??p.url},Ui=e=>{const t=e==null?void 0:e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"||!n.hostname.endsWith(_U)?null:t}catch{return null}},jU=Vr("VITE_CLOUDINARY_DEFAULT_PRODUCT_IMAGE")??"",tE=jU,dA=e=>{const t=Ui(e);return t||tE||""},EU=async(e,t)=>{const n=Vr("VITE_CLOUDINARY_PRODUCTS_FOLDER")??"products",r=Vr("VITE_CLOUDINARY_UPLOAD_PRESET_PRODUCTS")??Vr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=t?G0(t):void 0,o=i?`${i}-${uA()}`:void 0;return Y0(e,{folder:Fc(n,"products"),uploadPreset:r,publicId:o,tags:["product"]})},OU=()=>Fc(Vr("VITE_CLOUDINARY_CUSTOM_FOLDER")??"Custom","Custom"),V0=async(e,t)=>{const n=OU(),r=Vr("VITE_CLOUDINARY_UPLOAD_PRESET_CUSTOM")??Vr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=(t==null?void 0:t.publicId)??(e instanceof File&&e.name?G0(e.name.replace(/\.[^/.]+$/,"")):void 0),o=i?`${i}-${uA()}`:void 0,l=Array.from(new Set(["customization","custom-folder",...(t==null?void 0:t.tags)??[]]));return Y0(e,{folder:n,uploadPreset:r,publicId:o,tags:l})},fA=async(e,t)=>{const n=Vr("VITE_CLOUDINARY_RECEIPTS_FOLDER")??"receipts",r=Vr("VITE_CLOUDINARY_UPLOAD_PRESET_RECEIPTS")??Vr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=[Fc(n,"receipts")];return t!=null&&t.orderId?i.push(`order-${Fc(t.orderId,"commande")}`):t!=null&&t.customerReference&&i.push(`customer-${Fc(t.customerReference,"client")}`),Y0(e,{folder:i.join("/"),uploadPreset:r,tags:["payment","receipt"]})},hA="ouiouipos:role-logins",mA=()=>{if(typeof window>"u"||!window.localStorage)throw new Error("Local storage is not available for role login tracking.");return window.localStorage},NU=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>{if(!n||typeof n!="object")return null;const{roleId:r,roleName:i,loginAt:o}=n;if(typeof r!="string"||typeof i!="string"||typeof o!="string")return null;const l=Date.parse(o);return Number.isNaN(l)?null:{roleId:r,roleName:i,loginAt:new Date(l).toISOString()}}).filter(n=>!!n).sort((n,r)=>Date.parse(n.loginAt)-Date.parse(r.loginAt)):[]}catch(t){return console.warn("Unable to parse stored role logins, clearing history.",t),[]}},W0=()=>{const t=mA().getItem(hA);return NU(t)},pA=e=>{mA().setItem(hA,JSON.stringify(e.slice(-500)))},CU=async(e,t,n)=>{const r=n??new Date().toISOString(),i={roleId:e,roleName:t,loginAt:r};try{const o=W0();o.push(i),pA(o)}catch(o){console.warn("Unable to persist role login locally.",o)}return i},AU=async e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid start date provided when fetching role logins.");return W0().filter(r=>Date.parse(r.loginAt)>=t)},TU=e=>{try{const t=Date.parse(e);if(Number.isNaN(t))return;const n=W0().filter(r=>Date.parse(r.loginAt)>=t);pA(n)}catch(t){console.warn("Unable to prune stored role logins.",t)}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),nE=e=>{const t=MU(e);return t.charAt(0).toUpperCase()+t.slice(1)},gA=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),PU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>b.createElement("svg",{ref:d,...RU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:gA("lucide",i),...!o&&!PU(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>b.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(DU,{ref:o,iconNode:t,className:gA(`lucide-${kU(nE(e))}`,`lucide-${e}`,r),...i}));return n.displayName=nE(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],X0=xe("armchair",LU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vA=xe("arrow-left",IU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],$U=xe("bold",UU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],BU=xe("brush",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],HU=xe("chart-area",qU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],FU=xe("chart-no-axes-column",KU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],YU=xe("check",GU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],yA=xe("chef-hat",VU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bA=xe("chevron-down",WU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QU=xe("chevron-right",XU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ZU=xe("chevron-up",JU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Df=xe("circle-check-big",e6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],n6=xe("circle-check",t6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],a6=xe("circle-minus",r6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Q0=xe("circle-plus",i6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],o6=xe("circle-x",s6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jh=xe("clock",l6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zc=xe("dollar-sign",c6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xA=xe("download",u6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],wA=xe("ellipsis-vertical",d6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J0=xe("eye",f6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_A=xe("file-text",h6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],p6=xe("funnel",m6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],v6=xe("grip-vertical",g6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M12 3V2",key:"ar7q03"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5",key:"n2g93r"}],["path",{d:"M2 14h12a2 2 0 0 1 0 4h-2",key:"1o2jem"}],["path",{d:"M4 10h16",key:"img6z1"}],["path",{d:"M5 10a7 7 0 0 1 14 0",key:"1ega1o"}],["path",{d:"M5 14v6a1 1 0 0 1-1 1H2",key:"1hescx"}]],b6=xe("hand-platter",y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z0=xe("history",x6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],_6=xe("italic",w6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],j6=xe("layout-dashboard",S6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sl=xe("loader-circle",E6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],N6=xe("log-in",O6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],A6=xe("log-out",C6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],SA=xe("mail",T6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Eh=xe("map-pin",k6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jA=xe("menu",M6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],R6=xe("message-circle",P6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],EA=xe("message-square",D6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M5 12h14",key:"1ays0h"}]],eb=xe("minus",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],U6=xe("package-check",I6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],z6=xe("package-plus",$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],OA=xe("package",B6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],tb=xe("palette",q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],K6=xe("pen",H6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],G6=xe("pencil",F6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],NA=xe("phone",Y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gu=xe("plus",V6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],X6=xe("receipt",W6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],J6=xe("redo",Q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],e$=xe("refresh-cw",Z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],CA=xe("save",t$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nb=xe("search",n$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],a$=xe("send",r$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Da=xe("settings",i$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],o$=xe("shield",s$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],AA=xe("shopping-bag",l$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],TA=xe("shopping-cart",c$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],kA=xe("soup",u$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],f$=xe("square-pen",d$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],m$=xe("strikethrough",h$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sl=xe("trash-2",p$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ca=xe("triangle-alert",g$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],y$=xe("undo",v$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ks=xe("upload",b$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rb=xe("user",x$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ky=xe("users",w$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],S$=xe("utensils-crossed",_$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],E$=xe("utensils",j$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jl=xe("x",O$),Fa="/site-customizer",Qn=[{name:"Dashboard",href:"/dashboard",icon:j6,permissionKey:"/dashboard"},{name:"À Emporter",href:"/para-llevar",icon:AA,permissionKey:"/para-llevar"},{name:"Plan de Salle",href:"/ventes",icon:X0,permissionKey:"/ventes"},{name:"Cuisine",href:"/cocina",icon:kA,permissionKey:"/cocina"},{name:"Personnalisation",href:Fa,icon:BU,permissionKey:Fa},{name:"Produits",href:"/produits",icon:S$,permissionKey:"/produits"},{name:"Ingrédients",href:"/ingredients",icon:OA,permissionKey:"/ingredients"},{name:"Résumé Ventes",href:"/resume-ventes",icon:HU,permissionKey:"/resume-ventes"}],MA={ADMIN:"admin"},Ms="__home_page",Oh=["review1","review2","review3","review4","review5","review6","review7"],N$=["name","handle","timeAgo","message","highlight","highlightCaption","location","badgeLabel","postImageAlt"],C$=["avatarUrl","highlightImageUrl","postImageUrl"],A$=["navigation.brand","navigation.brandLogo","navigation.staffLogo","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","navigation.style.background","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","hero.backgroundImage","about.title","about.description","about.image","about.style.background","menu.title","menu.ctaLabel","menu.loadingLabel","menu.image","menu.style.background","instagramReviews.title","instagramReviews.subtitle","instagramReviews.image","instagramReviews.style.background","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","findUs.style.background","footer.text","footer.style.background"],T$=[...N$,...C$],k$=Oh.flatMap(e=>T$.map(t=>`instagramReviews.reviews.${e}.${t}`)),vu=[...A$,...k$],M$=vu.filter(e=>!e.endsWith(".style.background")&&!e.endsWith(".image")&&!e.endsWith(".avatarUrl")&&!e.endsWith(".highlightImageUrl")&&!e.endsWith(".postImageUrl")&&e!=="hero.backgroundImage"&&e!=="navigation.brandLogo"&&e!=="navigation.staffLogo"),P$=new Set(["STRONG","EM","S","STRIKE","SPAN","BR","DIV","P","B","I"]),R$=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,D$=/^rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\)$/,PA=typeof window<"u"&&typeof document<"u",L$=e=>{const t=e.trim().replace(/"|'/g,"");return R$.test(t)?t.toLowerCase():D$.test(t)?t.replace(/\s+/g,""):null},I$=e=>{const t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},U$=e=>{const n={B:"strong",I:"em",STRIKE:"s"}[e.tagName];if(!n)return e;const r=document.createElement(n);for(;e.firstChild;)r.appendChild(e.firstChild);return e.replaceWith(r),r},RA=e=>{if(!P$.has(e.tagName)){I$(e);return}const t=U$(e);if(Array.from(t.attributes).forEach(n=>{n.name!=="style"&&t.removeAttribute(n.name)}),t.hasAttribute("style")){const i=(t.getAttribute("style")??"").split(";").map(o=>o.trim()).filter(Boolean).find(o=>o.toLowerCase().startsWith("color"));if(i){const[,o]=i.split(":"),l=o?L$(o):null;l?t.setAttribute("style",`color: ${l}`):t.removeAttribute("style")}else t.removeAttribute("style")}Array.from(t.childNodes).forEach(n=>{var r;if(n.nodeType===Node.COMMENT_NODE){(r=n.parentNode)==null||r.removeChild(n);return}n.nodeType===Node.ELEMENT_NODE&&RA(n)})},$$=e=>e.replace(/<\/?(?!br\b)[^>]+>/gi,"").replace(/\r\n|\r|\n/g,"<br>").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),z$=e=>{const t=e??"";if(t.trim().length===0)return"";if(!PA)return $$(t).trim();const n=document.createElement("template");return n.innerHTML=t,Array.from(n.content.childNodes).forEach(r=>{var i;if(r.nodeType===Node.COMMENT_NODE){(i=r.parentNode)==null||i.removeChild(r);return}r.nodeType===Node.ELEMENT_NODE&&RA(r)}),n.innerHTML.trim()},B$=e=>{if(!PA)return e.replace(/<[^>]+>/g,"");const t=document.createElement("template");return t.innerHTML=e,t.content.textContent??""},rE=e=>e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/\r\n/g,`
`),ab=e=>{if(!e)return null;const t=z$(e.html??""),n=rE(e.plainText??""),r=rE(B$(t)),i=n.trim().length>0?n:r;return t.trim().length===0&&i.trim().length===0?null:{html:t,plainText:i}},q$={review1:{name:"Laura Méndez",handle:"@laurita.eats",timeAgo:"hace 2 días",message:"No puedo con la originalidad de estos tacos al pastor: cada mordisco tiene un giro gourmet brutal. La salsa cheddar queda cremosa sin empalagar y el toque crujiente lo es todo.",highlight:"Story « Taco Tuesday »",highlightCaption:"Guardado en Destacadas",location:"Bogotá · Servicio nocturno",badgeLabel:"Instagram",postImageAlt:"Assiette de tacos colorés garnis d'herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=640&q=80"},review2:{name:"Camila Torres",handle:"@camigoesout",timeAgo:"hace 5 días",message:"Estas arepas son lo más: combinan ingredientes súper frescos con un toque gourmet creativo. La mezcla dulce-salado y esa salsa cheddar para remojar me tuvieron feliz todo el brunch.",highlight:"Reel « Brunch entre amigas »",highlightCaption:"Comentarios llenos de antojos",location:"Medellín · Brunch de domingo",badgeLabel:"Instagram",postImageAlt:"Gros plan sur des arepas dorées et une sauce maison.",avatarUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=640&q=80"},review3:{name:"Sebastián Ruiz",handle:"@ruizhungry",timeAgo:"hace 1 semana",message:"Armamos un afterwork aquí y fue un hit: combos originales, porciones generosas y un crunch brutal en cada bocado. La salsa cheddar se volvió tema de conversación.",highlight:"Post « Team Afterwork »",highlightCaption:"Reacciones de la oficina",location:"Barranquilla · Terraza privada",badgeLabel:"Instagram",postImageAlt:"Table conviviale avec plusieurs plats mexicains et des boissons fraîches.",avatarUrl:"https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=640&q=80"},review4:{name:"Valentina Ríos",handle:"@valen.foodnotes",timeAgo:"hace 2 semanas",message:"El menú tiene un mood gourmet sin perder lo reconfortante: masa crocante, cheddar fundido y combinaciones de ingredientes que se sienten pensadas con cariño. Increíble experiencia.",highlight:"Carousel « Night Out »",highlightCaption:"Comentarios fijados",location:"Cali · Cena casual",badgeLabel:"Instagram",postImageAlt:"Pizza gourmande avec fromage coulant et herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=640&q=80"},review5:{name:"Alejandro Pérez",handle:"@alexlovesfood",timeAgo:"hace 3 semanas",message:"Vine por curiosidad y me quedé por la originalidad del menú: el cheddar baña la burger justo como me gusta y el pan crujiente aguanta toda la salsa. Asociaciones de sabores top.",highlight:"Live « Burger Night »",highlightCaption:"Chat lleno de elogios",location:"Bogotá · Servicio takeout",badgeLabel:"Instagram",postImageAlt:"Burger gourmet avec sauce et frites croustillantes.",avatarUrl:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=640&q=80"},review6:{name:"Juliana Gómez",handle:"@julie.foodstories",timeAgo:"hace 1 mes",message:"Pedimos catering para un cumpleaños y fue éxito total: tacos mini, dips calientes y una mesa que se veía divina para fotos. Todo llegó puntual y con instrucciones claras.",highlight:"Story « Fiesta privada »",highlightCaption:"Reseñas con confeti",location:"Cartagena · Evento privado",badgeLabel:"Instagram",postImageAlt:"Buffet coloré avec tacos, dips et accompagnements.",avatarUrl:"https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528715471579-d1bcf0ba5e83?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=640&q=80"},review7:{name:"Manuela Herrera",handle:"@manuelatryit",timeAgo:"hace 6 semanas",message:"Amo que tengan opciones veggies sin perder el toque cheddar: las quesadillas con hongos y maíz dulce son mi nueva obsesión. Además, la atención es rapidísima.",highlight:"Reel « Veggie Lovers »",highlightCaption:"Comentarios verdes y felices",location:"Bogotá · Servicio para llevar",badgeLabel:"Instagram",postImageAlt:"Quesadillas dorées servies avec salsa verde.",avatarUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=640&q=80"}},Ke=e=>e.trim(),ib=e=>typeof e=="string"&&e.trim().length>0,DA=(e,t)=>ib(e)?e.trim():t,LA=(e,t)=>ib(e)?e.trim():t,Gc=(e,t)=>ib(e)?e.trim():t,Fe=(e,t)=>{if(typeof e!="string")return t;const n=e.trim();return n.length>0?n:t},oa=(e,t)=>e===void 0?t??null:e===null?null:Ui(e)??t??null,la=e=>Ui(e)??null,H$=(e,t)=>{const n={};return Oh.forEach(r=>{const i=t[r],o=(e==null?void 0:e[r])??{};n[r]={name:Fe(o==null?void 0:o.name,i.name),handle:Fe(o==null?void 0:o.handle,i.handle),timeAgo:Fe(o==null?void 0:o.timeAgo,i.timeAgo),message:Fe(o==null?void 0:o.message,i.message),highlight:Fe(o==null?void 0:o.highlight,i.highlight),highlightCaption:Fe(o==null?void 0:o.highlightCaption,i.highlightCaption),location:Fe(o==null?void 0:o.location,i.location),badgeLabel:Fe(o==null?void 0:o.badgeLabel,i.badgeLabel),postImageAlt:Fe(o==null?void 0:o.postImageAlt,i.postImageAlt),avatarUrl:oa(o==null?void 0:o.avatarUrl,i.avatarUrl),highlightImageUrl:oa(o==null?void 0:o.highlightImageUrl,i.highlightImageUrl),postImageUrl:oa(o==null?void 0:o.postImageUrl,i.postImageUrl)}}),n},K$=e=>{const t={};return Oh.forEach(n=>{const r=(e==null?void 0:e[n])??{};t[n]={name:Ke((r==null?void 0:r.name)??""),handle:Ke((r==null?void 0:r.handle)??""),timeAgo:Ke((r==null?void 0:r.timeAgo)??""),message:Ke((r==null?void 0:r.message)??""),highlight:Ke((r==null?void 0:r.highlight)??""),highlightCaption:Ke((r==null?void 0:r.highlightCaption)??""),location:Ke((r==null?void 0:r.location)??""),badgeLabel:Ke((r==null?void 0:r.badgeLabel)??""),postImageAlt:Ke((r==null?void 0:r.postImageAlt)??""),avatarUrl:la(r==null?void 0:r.avatarUrl),highlightImageUrl:la(r==null?void 0:r.highlightImageUrl),postImageUrl:la(r==null?void 0:r.postImageUrl)}}),t},Zd=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},IA=e=>{if(!e)return null;const t=Zd(e.textColor??null),n=Zd(e.fontFamily??null),r=Zd(e.fontSize??null),i=Zd(e.backgroundColor??null),o={};return t&&(o.textColor=t),n&&(o.fontFamily=n),r&&(o.fontSize=r),i&&(o.backgroundColor=i),Object.keys(o).length>0?o:null},F$=(e,t)=>{const n=e??t,r={};return vu.forEach(i=>{const o=IA(n[i]??null);o&&(r[i]=o)}),r},G$=(e,t)=>{const n=e??t,r={};return vu.forEach(i=>{const o=IA(n[i]??null);o&&(r[i]=o)}),r},Y$=(e,t)=>{const n=e??t,r={};return vu.forEach(i=>{const o=n[i],l=ab(o??null);l&&(r[i]=l)}),r},V$=(e,t)=>{const n=e??t,r={};return vu.forEach(i=>{const o=n[i],l=ab(o??null);l&&(r[i]=l)}),r},W$=["image","video","audio","font","raw"],X$=()=>`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,Q$=e=>W$.includes(e)?e:"raw",J$=e=>{if(typeof e=="string"){const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString()}return new Date().toISOString()},Z$=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:Math.round(t)},UA=e=>{if(!e)return null;const t=Ui(e.url??void 0);if(!t)return null;const n=typeof e.id=="string"&&e.id.trim().length>0?e.id.trim():X$(),r=typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():n,i=typeof e.format=="string"&&e.format.trim().length>0?e.format.trim():"application/octet-stream",o=Q$(e.type),l=Z$(e.bytes),u=J$(e.createdAt);return{id:n,name:r,url:t,format:i,bytes:l,type:o,createdAt:u}},ez=(e,t)=>e?{library:Array.isArray(e.library)?e.library.map(r=>UA(r)).filter(Boolean):t.library}:t,tz=(e,t)=>{const n=e??t;return{library:Array.isArray(n.library)?n.library.map(i=>UA(i)).filter(Boolean):t.library}},$A={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#f1f5f9"},zA={background:{type:"image",color:"#0f172a",image:"https://picsum.photos/seed/tacosbg/1920/1080"},fontFamily:"Inter",fontSize:"18px",textColor:"#f8fafc"},BA={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},qA={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},HA={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},KA={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},FA={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"14px",textColor:"#e2e8f0"},sb={library:[]},GA={},YA={},hs=(e,t)=>{var o,l,u,d;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Gc((l=e==null?void 0:e.background)==null?void 0:l.color,t.background.color),i=n==="image"?oa(((u=e==null?void 0:e.background)==null?void 0:u.image)??void 0,t.background.image):null;return{background:{type:n,color:n==="color"?r:Gc((d=e==null?void 0:e.background)==null?void 0:d.color,t.background.color),image:n==="image"?i:null},fontFamily:DA((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:LA((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Gc((e==null?void 0:e.textColor)??null,t.textColor)}},ms=(e,t)=>{var o,l,u;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Gc(((l=e==null?void 0:e.background)==null?void 0:l.color)??null,t.background.color),i=n==="image"?la(((u=e==null?void 0:e.background)==null?void 0:u.image)??null):null;return{background:{type:n,color:r,image:n==="image"?i:null},fontFamily:DA((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:LA((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Gc((e==null?void 0:e.textColor)??null,t.textColor)}},Lf={navigation:{brand:"OUIOUITACOS",brandLogo:"/logo-brand.svg",staffLogo:"/logo-staff.svg",links:{home:"Accueil",about:"À propos",menu:"Menu",contact:"Contact",loginCta:"Staff Login"},style:$A},hero:{title:"Le Goût Authentique du Mexique",subtitle:"Des tacos préparés avec passion, des ingrédients frais et une touche de tradition pour un voyage gustatif inoubliable.",ctaLabel:"Commander en ligne",backgroundImage:"https://picsum.photos/seed/tacosbg/1920/1080",historyTitle:"Vos dernières commandes",reorderCtaLabel:"Commander à nouveau",style:zA},about:{title:"Notre Histoire",description:"Fondé par des passionnés de la cuisine mexicaine, OUIOUITACOS est né d'un désir simple : partager le goût authentique des tacos faits maison. Chaque recette est un héritage familial, chaque ingrédient est choisi avec soin, et chaque plat est préparé avec le cœur. Venez découvrir une explosion de saveurs qui vous transportera directement dans les rues de Mexico.",image:null,style:BA},menu:{title:"Nos Best-sellers",ctaLabel:"Voir le menu complet & Commander",loadingLabel:"Chargement du menu...",image:null,style:qA},instagramReviews:{title:"Ils nous adorent sur Instagram",subtitle:"Des foodies de toute la Colombie partagent leur coup de cœur pour notre cuisine : ambiance solaire, service attentionné et assiettes qui brillent autant que leurs stories.",image:"https://picsum.photos/seed/instagramreviews/600/600",style:HA,reviews:Oh.reduce((e,t)=>(e[t]={...q$[t]},e),{})},findUs:{title:"Encuéntranos",addressLabel:"Dirección",address:`Cra. 53 #75-98
Barranquilla, Atlántico
Colombie`,cityLabel:"Email",city:"hola@ouiouipos.co",hoursLabel:"Horarios",hours:"Lunes a domingo · 11h00 - 23h00",mapLabel:"Ver en Google Maps",mapUrl:"https://www.google.com/maps?q=OUIOUITACOS%2C%20Cra%2053%20%2375-98%2C%20Barranquilla%2C%20Atl%C3%A1ntico%2C%20Colombie",style:KA},footer:{text:"Tous droits réservés.",style:FA},elementStyles:GA,elementRichText:YA,assets:sb},My=e=>{var n,r,i,o,l,u,d,f,p,g,v,w,S,_,j,N,E,C,A,T,P,R,D,H,z,B,$,ne,Q,re,I,V,ie,pe,se,M,L,F,Y,J,G,de,be,Z,ye,Se,ue;const t=Lf;return{navigation:{brand:Fe((n=e==null?void 0:e.navigation)==null?void 0:n.brand,t.navigation.brand),brandLogo:oa((r=e==null?void 0:e.navigation)==null?void 0:r.brandLogo,t.navigation.brandLogo),staffLogo:oa((i=e==null?void 0:e.navigation)==null?void 0:i.staffLogo,t.navigation.staffLogo),links:{home:Fe((l=(o=e==null?void 0:e.navigation)==null?void 0:o.links)==null?void 0:l.home,t.navigation.links.home),about:Fe((d=(u=e==null?void 0:e.navigation)==null?void 0:u.links)==null?void 0:d.about,t.navigation.links.about),menu:Fe((p=(f=e==null?void 0:e.navigation)==null?void 0:f.links)==null?void 0:p.menu,t.navigation.links.menu),contact:Fe((v=(g=e==null?void 0:e.navigation)==null?void 0:g.links)==null?void 0:v.contact,t.navigation.links.contact),loginCta:Fe((S=(w=e==null?void 0:e.navigation)==null?void 0:w.links)==null?void 0:S.loginCta,t.navigation.links.loginCta)},style:hs((_=e==null?void 0:e.navigation)==null?void 0:_.style,t.navigation.style)},hero:{title:Fe((j=e==null?void 0:e.hero)==null?void 0:j.title,t.hero.title),subtitle:Fe((N=e==null?void 0:e.hero)==null?void 0:N.subtitle,t.hero.subtitle),ctaLabel:Fe((E=e==null?void 0:e.hero)==null?void 0:E.ctaLabel,t.hero.ctaLabel),backgroundImage:oa((C=e==null?void 0:e.hero)==null?void 0:C.backgroundImage,t.hero.backgroundImage),historyTitle:Fe((A=e==null?void 0:e.hero)==null?void 0:A.historyTitle,t.hero.historyTitle),reorderCtaLabel:Fe((T=e==null?void 0:e.hero)==null?void 0:T.reorderCtaLabel,t.hero.reorderCtaLabel),style:hs((P=e==null?void 0:e.hero)==null?void 0:P.style,t.hero.style)},about:{title:Fe((R=e==null?void 0:e.about)==null?void 0:R.title,t.about.title),description:Fe((D=e==null?void 0:e.about)==null?void 0:D.description,t.about.description),image:oa((H=e==null?void 0:e.about)==null?void 0:H.image,t.about.image),style:hs((z=e==null?void 0:e.about)==null?void 0:z.style,t.about.style)},menu:{title:Fe((B=e==null?void 0:e.menu)==null?void 0:B.title,t.menu.title),ctaLabel:Fe(($=e==null?void 0:e.menu)==null?void 0:$.ctaLabel,t.menu.ctaLabel),loadingLabel:Fe((ne=e==null?void 0:e.menu)==null?void 0:ne.loadingLabel,t.menu.loadingLabel),image:oa((Q=e==null?void 0:e.menu)==null?void 0:Q.image,t.menu.image),style:hs((re=e==null?void 0:e.menu)==null?void 0:re.style,t.menu.style)},instagramReviews:{title:Fe((I=e==null?void 0:e.instagramReviews)==null?void 0:I.title,t.instagramReviews.title),subtitle:Fe((V=e==null?void 0:e.instagramReviews)==null?void 0:V.subtitle,t.instagramReviews.subtitle),image:oa((ie=e==null?void 0:e.instagramReviews)==null?void 0:ie.image,t.instagramReviews.image),style:hs((pe=e==null?void 0:e.instagramReviews)==null?void 0:pe.style,t.instagramReviews.style),reviews:H$(((se=e==null?void 0:e.instagramReviews)==null?void 0:se.reviews)??null,t.instagramReviews.reviews)},findUs:{title:Fe((M=e==null?void 0:e.findUs)==null?void 0:M.title,t.findUs.title),addressLabel:Fe((L=e==null?void 0:e.findUs)==null?void 0:L.addressLabel,t.findUs.addressLabel),address:Fe((F=e==null?void 0:e.findUs)==null?void 0:F.address,t.findUs.address),cityLabel:Fe((Y=e==null?void 0:e.findUs)==null?void 0:Y.cityLabel,t.findUs.cityLabel),city:Fe((J=e==null?void 0:e.findUs)==null?void 0:J.city,t.findUs.city),hoursLabel:Fe((G=e==null?void 0:e.findUs)==null?void 0:G.hoursLabel,t.findUs.hoursLabel),hours:Fe((de=e==null?void 0:e.findUs)==null?void 0:de.hours,t.findUs.hours),mapLabel:Fe((be=e==null?void 0:e.findUs)==null?void 0:be.mapLabel,t.findUs.mapLabel),mapUrl:Fe((Z=e==null?void 0:e.findUs)==null?void 0:Z.mapUrl,t.findUs.mapUrl),style:hs((ye=e==null?void 0:e.findUs)==null?void 0:ye.style,t.findUs.style)},footer:{text:Fe((Se=e==null?void 0:e.footer)==null?void 0:Se.text,t.footer.text),style:hs((ue=e==null?void 0:e.footer)==null?void 0:ue.style,t.footer.style)},elementStyles:F$((e==null?void 0:e.elementStyles)??null,t.elementStyles),elementRichText:Y$((e==null?void 0:e.elementRichText)??null,t.elementRichText),assets:ez((e==null?void 0:e.assets)??null,sb)}},nz=e=>({navigation:{brand:Ke(e.navigation.brand),brandLogo:la(e.navigation.brandLogo)??null,staffLogo:la(e.navigation.staffLogo)??null,links:{home:Ke(e.navigation.links.home),about:Ke(e.navigation.links.about),menu:Ke(e.navigation.links.menu),contact:Ke(e.navigation.links.contact),loginCta:Ke(e.navigation.links.loginCta)},style:ms(e.navigation.style,$A)},hero:{title:Ke(e.hero.title),subtitle:Ke(e.hero.subtitle),ctaLabel:Ke(e.hero.ctaLabel),backgroundImage:la(e.hero.backgroundImage),historyTitle:Ke(e.hero.historyTitle),reorderCtaLabel:Ke(e.hero.reorderCtaLabel),style:ms(e.hero.style,zA)},about:{title:Ke(e.about.title),description:Ke(e.about.description),image:la(e.about.image),style:ms(e.about.style,BA)},menu:{title:Ke(e.menu.title),ctaLabel:Ke(e.menu.ctaLabel),loadingLabel:Ke(e.menu.loadingLabel),image:la(e.menu.image),style:ms(e.menu.style,qA)},instagramReviews:{title:Ke(e.instagramReviews.title),subtitle:Ke(e.instagramReviews.subtitle),image:la(e.instagramReviews.image),style:ms(e.instagramReviews.style,HA),reviews:K$(e.instagramReviews.reviews??null)},findUs:{title:Ke(e.findUs.title),addressLabel:Ke(e.findUs.addressLabel),address:Ke(e.findUs.address),cityLabel:Ke(e.findUs.cityLabel),city:Ke(e.findUs.city),hoursLabel:Ke(e.findUs.hoursLabel),hours:Ke(e.findUs.hours),mapLabel:Ke(e.findUs.mapLabel),mapUrl:Ke(e.findUs.mapUrl),style:ms(e.findUs.style,KA)},footer:{text:Ke(e.footer.text),style:ms(e.footer.style,FA)},elementStyles:G$(e.elementStyles,GA),elementRichText:V$(e.elementRichText,YA),assets:tz(e.assets,sb)}),Ti={},Sf=e=>{Ti[e]&&Ti[e].forEach(t=>t())};let nl=null;const aE="site_content",rz="default",az=()=>{if(!(nl||typeof ve.channel!="function"))try{nl=ve.channel("orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>Sf("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>Sf("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},()=>Sf("orders_updated")).subscribe(e=>{(e==="CHANNEL_ERROR"||e==="CLOSED"||e==="TIMED_OUT")&&(nl=null)})}catch(e){console.warn("Failed to subscribe to real-time order updates",e)}},Be=e=>{if(e.error)throw new Error(e.error.message);return e.data},Os=e=>{if(e.error&&e.status!==406)throw new Error(e.error.message);return e.data??null},Li=e=>{if(e)return new Date(e).getTime()},Py=e=>{if(e==null)return;if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},Cc=e=>{if(e!==void 0)return e===null?null:new Date(e).toISOString()},VA=(e,t)=>e.reduce((n,r)=>{const i=t.get(r.ingredient_id);if(!i)return n;let o=i.prix_unitaire;return(i.unite==="kg"||i.unite==="L")&&(o=o/1e3),n+o*r.qte_utilisee},0),iz=e=>{if(!e)return{permissions:{},homePage:void 0};const{[Ms]:t,...n}=e;return{permissions:n,homePage:typeof t=="string"?t:void 0}},iE=(e,t)=>{const n={...e};return t?n[Ms]=t:delete n[Ms],n},sz=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===MA.ADMIN||t==="administrateur"},oz=(e,t)=>{const n={...e};return Fa in n||(n[Fa]=sz(t)?"editor":"none"),n},Ac=(e,t)=>{const{permissions:n,homePage:r}=iz(e.permissions),i=oz(n,e.name),o={id:e.id,name:e.name,homePage:r,permissions:i};return t&&e.pin&&(o.pin=e.pin),o},sE=e=>e!=null&&e.content?My(e.content):null,jf=e=>({id:e.id,nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:e.stock_actuel,prix_unitaire:e.prix_unitaire}),WA=e=>({id:e.id,nom:e.nom}),lz=e=>({ingredient_id:e.ingredient_id,qte_utilisee:e.qte_utilisee}),Yo=(e,t)=>{const n=(e.product_recipes??[]).map(lz),r={id:e.id,nom_produit:e.nom_produit,description:e.description??void 0,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:dA(e.image),recipe:n,is_best_seller:e.is_best_seller??!1,best_seller_rank:e.best_seller_rank??null};return t&&(r.cout_revient=VA(n,t)),r},Tc=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),XA=e=>({id:e.id,produitRef:e.produit_id,nom_produit:e.nom_produit,prix_unitaire:Py(e.prix_unitaire)??0,quantite:e.quantite,excluded_ingredients:e.excluded_ingredients??[],commentaire:e.commentaire??"",estado:e.estado,date_envoi:Li(e.date_envoi)}),cz=(e,t)=>e.length!==t.length?!1:e.every((n,r)=>n===t[r]),uz=(e,t)=>{if(e.produitRef!==t.produitRef||e.nom_produit!==t.nom_produit||e.prix_unitaire!==t.prix_unitaire||e.quantite!==t.quantite||e.commentaire!==t.commentaire||e.estado!==t.estado)return!1;const n=[...e.excluded_ingredients].sort(),r=[...t.excluded_ingredients].sort();return cz(n,r)},dz=(e,t)=>{const n=[...t],r=[];return e.forEach(i=>{const o=n.findIndex(l=>uz(l,i));o!==-1&&r.push(n.splice(o,1)[0])}),[...r,...n]},Pa=e=>{const t=(e.order_items??[]).map(XA),n=Py(e.total),r=Py(e.profit),i={id:e.id,type:e.type,table_id:e.table_id??void 0,table_nom:e.table_nom??void 0,couverts:e.couverts??0,statut:e.statut,estado_cocina:e.estado_cocina,date_creation:Li(e.date_creation)??Date.now(),date_envoi_cuisine:Li(e.date_envoi_cuisine),date_listo_cuisine:Li(e.date_listo_cuisine),date_servido:Li(e.date_servido),payment_status:e.payment_status,items:t,total:n??t.reduce((o,l)=>o+l.prix_unitaire*l.quantite,0),profit:r,payment_method:e.payment_method??void 0,payment_receipt_url:e.payment_receipt_url??void 0,receipt_url:e.receipt_url??void 0};return(e.client_nom||e.client_telephone||e.client_adresse)&&(i.clientInfo={nom:e.client_nom??"",telephone:e.client_telephone??"",adresse:e.client_adresse??void 0}),i},fz=e=>({id:e.id,orderId:e.order_id,productId:e.product_id,productName:e.product_name,categoryId:e.category_id,categoryName:e.category_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,unitCost:e.unit_cost,totalCost:e.total_cost,profit:e.profit,paymentMethod:e.payment_method??void 0,saleDate:Li(e.sale_date)??Date.now()}),hz=(e,t)=>{if(!e.commande_id)return"libre";const n=t==null?void 0:t.estado_cocina;return!n||n==="no_enviado"?"libre":n==="listo"?"para_entregar":n==="servido"||n==="entregada"?"para_pagar":e.statut==="para_entregar"||e.statut==="para_pagar"?e.statut:"en_cuisine"},Ry=(e,t)=>{const n=e.commande_id?t.get(e.commande_id):void 0,r={id:e.id,nom:e.nom,capacite:e.capacite,statut:hz(e,n),commandeId:e.commande_id??void 0,couverts:e.commande_id?e.couverts??void 0:void 0};return r.commandeId&&n&&(r.estado_cocina=n.estado_cocina,r.date_envoi_cuisine=n.date_envoi_cuisine),r},oE=async e=>{if(!e.commande_id)return Ry(e,new Map);const t=await ve.from("orders").select("id, estado_cocina, date_envoi_cuisine").eq("id",e.commande_id).maybeSingle(),n=Os(t),r=n?new Map([[n.id,{estado_cocina:n.estado_cocina,date_envoi_cuisine:Li(n.date_envoi_cuisine)}]]):new Map;return Ry(e,r)},Ai=()=>ve.from("orders").select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        order_items (
          id,
          order_id,
          produit_id,
          nom_produit,
          prix_unitaire,
          quantite,
          excluded_ingredients,
          commentaire,
          estado,
          date_envoi
        )
      `).order("date_creation",{ascending:!1}),mz=(e,t)=>`
        id,
        nom_produit,
        description,
        prix_vente,
        categoria_id,
        estado,
        image${e?`,
        is_best_seller,
        best_seller_rank`:""}${t?`,
        product_recipes (
          ingredient_id,
          qte_utilisee
        )`:""}
      `,lE=e=>{const t=(e==null?void 0:e.includeBestSellerColumns)!==!1,n=(e==null?void 0:e.includeRecipes)!==!1;let r=ve.from("products").select(mz(t,n));return e!=null&&e.orderBy?r=r.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0,nullsFirst:e.orderBy.nullsFirst}):r=r.order("nom_produit"),r},pz=e=>{if(!(e!=null&&e.message))return!1;const t=e.message.toLowerCase();return t.includes("does not exist")&&t.includes("column")&&(t.includes("is_best_seller")||t.includes("best_seller_rank"))},Vo=async(e,t)=>{let r=await e(lE({...t,includeBestSellerColumns:!0}),!0);return pz(r.error)&&(r=await e(lE({...t,includeBestSellerColumns:!1}),!1)),r},nn=async e=>{const t=await Ai().eq("id",e).maybeSingle(),n=Os(t);return n?Pa(n):null},gz=async e=>{const t=await ve.from("order_items").select(`
        id,
        order_id,
        produit_id,
        nom_produit,
        prix_unitaire,
        quantite,
        excluded_ingredients,
        commentaire,
        estado,
        date_envoi
      `).eq("order_id",e);return Be(t).map(XA)},cE=async e=>{if(e.items.length>0)return e;const t=await gz(e.id);if(t.length===0)return await nn(e.id)??e;const n=t.reduce((r,i)=>r+i.prix_unitaire*i.quantite,0);return{...e,items:t,total:e.total>0?e.total:n}},QA=["a_emporter","pedir_en_linea"],Ef=e=>QA.includes(e.type),vz=e=>{if(Ef(e)){const t=e.statut==="en_cours",n=e.estado_cocina==="recibido"||e.estado_cocina==="no_enviado";return t&&n&&e.items.length>0}return e.estado_cocina!=="recibido"?!1:e.items.some(t=>t.estado==="enviado")},vs=async()=>{const e=await ve.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").order("nom");return Be(e).map(jf)},yz=e=>e?typeof e=="string"?e.toLowerCase().includes("permission"):e instanceof Error?e.message.toLowerCase().includes("permission"):typeof e=="object"&&"message"in e?String(e.message??"").toLowerCase().includes("permission"):!1:!1,uE=async e=>{try{return await vs()}catch(t){if(yz(t))return console.warn(`[api.${e}] Impossible de récupérer les ingrédients (permissions insuffisantes). Poursuite avec une liste vide.`,t),[];throw t}},Dg=async()=>{const e=await ve.from("categories").select("id, nom").order("nom");return Be(e).map(WA)},dE=async()=>{const e=await ve.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").order("nom"),t=Be(e),n=t.map(l=>l.commande_id).filter(l=>!!l);let r=new Map;if(n.length>0){const l=await ve.from("orders").select("id, estado_cocina, date_envoi_cuisine").in("id",n),u=Be(l);r=new Map(u.map(d=>[d.id,{estado_cocina:d.estado_cocina,date_envoi_cuisine:Li(d.date_envoi_cuisine)}]))}const i=new Map,o=t.map(l=>l.id);if(o.length>0){const l=await ve.from("orders").select("table_id").in("table_id",o).eq("estado_cocina","listo").in("statut",["en_cours"]);Be(l).forEach(d=>{const f=i.get(d.table_id)||0;i.set(d.table_id,f+1)})}return t.map(l=>({...Ry(l,r),readyOrdersCount:i.get(l.id)||0}))},Yc=(e=new Date)=>{const t=new Date(e);return t.setHours(5,0,0,0),e<t&&t.setDate(t.getDate()-1),t},bz={week:{days:7,label:"7 derniers jours"},month:{days:30,label:"30 derniers jours"}},xz=e=>{const t=bz[e],n=new Date(Yc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t.days),{config:t,start:r,end:n}},Lg=async e=>{const{data:t}=await ve.from("orders").select("id, estado_cocina, statut").eq("table_id",e).in("statut",["en_cours"]);if(!t||t.length===0){const{data:p}=await ve.from("restaurant_tables").select("statut").eq("id",e).single();(p==null?void 0:p.statut)!=="libre"&&await ve.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",e);return}const n=t.map(p=>p.id),{data:r}=await ve.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.some(p=>p.estado==="enviado"),l=i.some(p=>p.estado==="listo");i.some(p=>p.estado==="servido");const u=i.some(p=>p.estado==="en_attente"),d=i.every(p=>p.estado==="servido");let f;l?f="para_entregar":o||u?f="en_cuisine":d?f="para_pagar":f="en_cuisine",await ve.from("restaurant_tables").update({statut:f}).eq("id",e)},fE=async e=>{const{data:t}=await ve.from("orders").select("id, estado_cocina, statut").eq("table_id",tableId).in("statut",["en_cours"]);if(!t||t.length===0){await ve.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",tableId);return}const n=t.map(f=>f.id),{data:r}=await ve.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.every(f=>f.estado==="servido"),l=i.every(f=>f.estado==="listo"||f.estado==="servido"),u=i.some(f=>f.estado==="enviado");let d;o?d="para_pagar":l?d="para_entregar":d="en_cuisine",await ve.from("restaurant_tables").update({statut:d}).eq("id",tableId)},Ln={subscribe:(e,t)=>(Ti[e]||(Ti[e]=[]),Ti[e].push(t),e==="orders_updated"&&az(),()=>{var n;Ti[e]=(Ti[e]??[]).filter(r=>r!==t),e==="orders_updated"&&((n=Ti[e])==null?void 0:n.length)===0&&nl&&(typeof ve.removeChannel=="function"&&ve.removeChannel(nl),nl=null)}),publish:e=>{Sf(e)}},Wn=e=>{(e==null?void 0:e.includeNotifications)!==!1&&Ln.publish("notifications_updated"),Ln.publish("orders_updated")},je={notifications:Ln,getSiteContent:async()=>{const e=await ve.from(aE).select("id, content, updated_at").order("updated_at",{ascending:!1}).limit(1).maybeSingle(),t=Os(e);return sE(t)},updateSiteContent:async e=>{const t=nz(e),n=await ve.from(aE).upsert({id:rz,content:t},{onConflict:"id"}).select("id, content, updated_at").single(),r=Be(n),i=sE(r);if(!i)throw new Error("Contenu du site introuvable après la mise à jour.");return i},getRoles:async()=>{const e=await ve.from("roles").select("id, name, pin, permissions").order("name");return Be(e).map(n=>Ac(n,!0))},getRoleById:async e=>{const t=await ve.from("roles").select("id, name, permissions").eq("id",e).maybeSingle(),n=Os(t);return n?Ac(n,!1):null},createRole:async e=>{const t=await ve.from("roles").insert({name:e.name,pin:e.pin,permissions:iE(e.permissions,e.homePage)}).select("id, name, pin, permissions").single(),n=Be(t);return Ln.publish("notifications_updated"),Ac(n,!0)},updateRole:async(e,t)=>{const n=await ve.from("roles").update({name:t.name,pin:t.pin,permissions:iE(t.permissions,t.homePage)}).eq("id",e).select("id, name, pin, permissions").single(),r=Be(n);return Ln.publish("notifications_updated"),Ac(r,!0)},deleteRole:async e=>{const t=await ve.from("roles").delete().eq("id",e);Be(t),Ln.publish("notifications_updated")},loginWithPin:async e=>{const t=await ve.from("roles").select("id, name, permissions").eq("pin",e).maybeSingle(),n=Os(t);if(!n)return null;const r=Ac(n,!1);try{await CU(r.id,r.name)}catch(i){console.warn("Failed to enregistrer la connexion du rôle",i)}return r},getDashboardStats:async(e="week")=>{const{config:t,start:n,end:r}=xz(e),i=n.toISOString(),o=r.toISOString(),l=new Date(n);l.setDate(l.getDate()-t.days);const u=l.toISOString(),f=Yc().toISOString(),[p,g,v,w,S,_]=await Promise.all([dE(),vs(),Dg(),Vo(Y=>Y),Ai().eq("statut","finalisee").gte("date_creation",f),Ai().eq("statut","finalisee").gte("date_creation",u).lt("date_creation",o)]),N=Be(S).map(Pa),C=Be(_).map(Pa),A=C.filter(Y=>Y.date_creation>=n.getTime()),T=C.filter(Y=>Y.date_creation<n.getTime()),P=new Map(g.map(Y=>[Y.id,Y])),R=Be(w),D=new Map(R.map(Y=>{const J=Yo(Y,P);return[J.id,J]})),H=A.reduce((Y,J)=>Y+(J.total??0),0),z=A.reduce((Y,J)=>Y+J.items.reduce((G,de)=>{const be=D.get(de.produitRef),Z=be?VA(be.recipe,P):0;return G+(de.prix_unitaire-Z)*de.quantite},0),0),B=A.reduce((Y,J)=>Y+(J.couverts??0),0),$=A.length>0?H/A.length:0,ne=new Map(v.map(Y=>[Y.id,Y.nom])),Q=new Map;A.forEach(Y=>{Y.items.forEach(J=>{const G=D.get(J.produitRef),de=G?ne.get(G.categoria_id)??"Sans catégorie":"Sans catégorie";Q.set(de,(Q.get(de)??0)+J.prix_unitaire*J.quantite)})});const re=Array.from(Q.entries()).map(([Y,J])=>({name:Y,value:J})),I=[...A].sort((Y,J)=>J.date_creation-Y.date_creation).slice(0,5),V=Array.from(D.values()).filter(Y=>Y.is_best_seller).sort((Y,J)=>{const G=Y.best_seller_rank??Number.POSITIVE_INFINITY,de=J.best_seller_rank??Number.POSITIVE_INFINITY;return G===de?Y.nom_produit.localeCompare(J.nom_produit):G-de}).slice(0,6),ie=p.filter(Y=>Y.statut!=="libre").length,pe=p.reduce((Y,J)=>Y+(J.couverts??0),0),se=N.filter(Y=>Y.estado_cocina==="recibido").length,M=g.filter(Y=>Y.stock_actuel<=Y.stock_minimum),L=(Y,J,G)=>{const de=J.getTime(),be=G.getTime();return Y.reduce((Z,ye)=>ye.date_creation>=de&&ye.date_creation<be?Z+(ye.total??0):Z,0)},F=Array.from({length:t.days}).map((Y,J)=>{const G=new Date(n);G.setDate(G.getDate()+J);const de=new Date(G);de.setDate(de.getDate()+1);const be=new Date(l);be.setDate(be.getDate()+J);const Z=new Date(be);return Z.setDate(Z.getDate()+1),{name:t.days===7?J===t.days-1?"Auj":`J-${t.days-1-J}`:G.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),ventes:L(A,G,de),ventesPeriodePrecedente:L(T,be,Z)}});return{period:e,periodLabel:t.label,periodStart:i,periodEnd:o,ventesPeriode:H,beneficePeriode:z,clientsPeriode:B,panierMoyen:$,tablesOccupees:ie,clientsActuels:pe,commandesEnCuisine:se,ingredientsStockBas:M,ventesPeriodeSeries:F,ventesParCategorie:re,recentOrders:I,bestSellerProducts:V}},getSalesByProduct:async e=>{const t=f=>{if(f)return typeof f=="string"?f:f.toISOString()},n=t(e==null?void 0:e.start)??Yc().toISOString(),r=t(e==null?void 0:e.end);let i=ve.from("sales").select("product_id, product_name, total_price").gte("sale_date",n);r&&(i=i.lt("sale_date",r));const o=await i,l=Be(o),u=new Map;l.forEach(f=>{const p=u.get(f.product_id)??{name:f.product_name,value:0};p.value+=f.total_price,u.set(f.product_id,p)});const d=Array.from(u.values()).sort((f,p)=>p.value-f.value);if(d.length>6){const f=d.slice(0,6),p=d.slice(6).reduce((g,v)=>g+v.value,0);return[...f,{name:"Autres",value:p}]}return d},getTables:async()=>dE(),createTable:async e=>{const t=await ve.from("restaurant_tables").insert({nom:e.nom,capacite:e.capacite,couverts:e.couverts??null}).select("id, nom, capacite, statut, commande_id, couverts").single(),n=Be(t);return Wn(),oE(n)},updateTable:async(e,t)=>{const n={};t.nom!==void 0&&(n.nom=t.nom),t.capacite!==void 0&&(n.capacite=t.capacite),t.couverts!==void 0&&(n.couverts=t.couverts??null);const r=await ve.from("restaurant_tables").update(n).eq("id",e).select("id, nom, capacite, statut, commande_id, couverts").single(),i=Be(r);return Wn(),oE(i)},deleteTable:async e=>{const t=await ve.from("restaurant_tables").delete().eq("id",e);Be(t),Wn()},getIngredients:async()=>vs(),getProducts:async()=>{const[e,t]=await Promise.all([Vo(i=>i.neq("estado","archive")),uE("getProducts")]),n=Be(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.map(i=>Yo(i,r))},getBestSellerProducts:async()=>{const[e,t]=await Promise.all([Vo((i,o)=>o?i.eq("is_best_seller",!0).order("best_seller_rank",{ascending:!0,nullsFirst:!1}).limit(6):i.limit(0),{includeRecipes:!1}),uE("getBestSellerProducts")]),n=Be(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.filter(i=>i.estado!=="archive").sort((i,o)=>{const l=i.best_seller_rank??Number.POSITIVE_INFINITY,u=o.best_seller_rank??Number.POSITIVE_INFINITY;return l-u}).map(i=>Yo(i,r)).filter(i=>i.is_best_seller).slice(0,6)},getCategories:async()=>Dg(),getKitchenOrders:async()=>{const e=await Ai().in("estado_cocina",["recibido","no_enviado"]).neq("statut","finalisee"),t=Be(e),n=await Promise.all(t.map(o=>cE(Pa(o)))),r=[];return n.filter(vz).forEach(o=>{const l=o.items.filter(f=>f.estado==="enviado"),u=l.length>0?l:Ef(o)?o.items:[];if(u.length===0)return;u.reduce((f,p)=>{const g=p.date_envoi??o.date_envoi_cuisine??o.date_creation,v=f.get(g)??[];return v.push(p),f.set(g,v),f},new Map).forEach((f,p)=>{r.push({...o,items:f,date_envoi_cuisine:p,ticketKey:`${o.id}-${p}`})})}),r.sort((o,l)=>{const u=o.date_envoi_cuisine??o.date_creation,d=l.date_envoi_cuisine??l.date_creation;return u-d})},getTakeawayOrders:async()=>{const e=await Ai().in("type",QA),t=Be(e),n=await Promise.all(t.map(r=>cE(Pa(r))));return{pending:n.filter(r=>r.statut==="pendiente_validacion"),ready:n.filter(r=>r.estado_cocina==="listo")}},getOrderById:async e=>await nn(e)??void 0,createOrGetOrderByTableId:async e=>{const t=await ve.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").eq("id",e).maybeSingle(),n=Os(t);if(!n)throw new Error("Table not found");if(n.commande_id){const l=await nn(n.commande_id);if(l)return l}const r=new Date().toISOString(),i=await ve.from("orders").insert({type:"sur_place",table_id:n.id,table_nom:n.nom,couverts:n.couverts??n.capacite,statut:"en_cours",estado_cocina:"no_enviado",date_creation:r,payment_status:"unpaid",total:0}).select("*").single(),o=Be(i);return await ve.from("restaurant_tables").update({statut:"en_cuisine",commande_id:o.id,couverts:n.couverts??n.capacite}).eq("id",e),Wn(),Pa(o)},cancelUnsentTableOrder:async e=>{const t=await nn(e);!t||t.estado_cocina!=="no_enviado"||t.items.some(r=>r.estado!=="en_attente")||(await ve.from("order_items").delete().eq("order_id",e),await ve.from("orders").delete().eq("id",e),t.table_id&&await ve.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",t.table_id),Wn())},updateOrder:async(e,t,n)=>{const r=await nn(e);if(!r)throw new Error("Order not found");if(r.items,t.items){const g=t.items.map(v=>{const w={order_id:e,produit_id:v.produitRef,nom_produit:v.nom_produit,prix_unitaire:v.prix_unitaire,quantite:v.quantite,excluded_ingredients:v.excluded_ingredients,commentaire:v.commentaire,estado:v.estado,date_envoi:Cc(v.date_envoi)??null};return Tc(v.id)&&(w.id=v.id),w});g.length>0&&await ve.from("order_items").upsert(g,{defaultToNull:!1}),t.items}const{items:i,clientInfo:o,removedItemIds:l=[],...u}=t,d={};u.type&&(d.type=u.type),u.table_id!==void 0&&(d.table_id=u.table_id),u.table_nom!==void 0&&(d.table_nom=u.table_nom),u.couverts!==void 0&&(d.couverts=u.couverts),u.statut&&(d.statut=u.statut),u.estado_cocina&&(d.estado_cocina=u.estado_cocina),u.payment_status&&(d.payment_status=u.payment_status),u.payment_method!==void 0&&(d.payment_method=u.payment_method),u.payment_receipt_url!==void 0&&(d.payment_receipt_url=u.payment_receipt_url),u.receipt_url!==void 0&&(d.receipt_url=u.receipt_url),u.total!==void 0&&(d.total=u.total),u.profit!==void 0&&(d.profit=u.profit),u.date_creation!==void 0&&(d.date_creation=Cc(u.date_creation)),u.date_envoi_cuisine!==void 0&&(d.date_envoi_cuisine=Cc(u.date_envoi_cuisine)),u.date_listo_cuisine!==void 0&&(d.date_listo_cuisine=Cc(u.date_listo_cuisine)),u.date_servido!==void 0&&(d.date_servido=Cc(u.date_servido)),t.items&&(d.total=t.items.reduce((g,v)=>g+v.prix_unitaire*v.quantite,0));const f=l.filter(g=>Tc(g));f.length>0&&await ve.from("order_items").delete().in("id",f),o&&(d.client_nom=(o==null?void 0:o.nom)??null,d.client_telephone=(o==null?void 0:o.telephone)??null,d.client_adresse=(o==null?void 0:o.adresse)??null),Object.keys(d).length>0&&await ve.from("orders").update(d).eq("id",e),Wn({includeNotifications:(n==null?void 0:n.includeNotifications)??!0});const p=await nn(e);if(!p)throw new Error("Order not found after update");return t.items?{...p,items:dz(t.items,p.items)}:p},sendOrderToKitchen:async(e,t)=>{const n=await nn(e);if(!n)throw new Error("Order not found");const r=n.items.filter(d=>d.estado==="en_attente"),i=(()=>{if(!t||t.length===0)return r;const d=new Set(t);return r.filter(f=>d.has(f.id))})();if(i.length===0)return n;const o=i.filter(d=>Tc(d.id)).map(d=>d.id);if(o.length===0)return n;const l=new Date().toISOString();await ve.from("order_items").update({estado:"enviado",date_envoi:l}).in("id",o),await ve.from("orders").update({estado_cocina:"recibido",date_envoi_cuisine:l}).eq("id",e),n.table_id&&await ve.from("restaurant_tables").update({statut:"en_cuisine"}).eq("id",n.table_id),Wn();const u=await nn(e);if(!u)throw new Error("Order not found after sending to kitchen");return u},markOrderAsReady:async(e,t)=>{const n=new Date().toISOString(),r=await nn(e);if(!r)throw new Error("Order not found");if(t!==void 0){const o=r.items.filter(d=>(d.date_envoi??r.date_envoi_cuisine??r.date_creation)===t);for(const d of o)await ve.from("order_items").update({estado:"listo"}).eq("id",d.id);r.items.every(d=>(d.date_envoi??r.date_envoi_cuisine??r.date_creation)===t||d.estado==="listo"||d.estado==="servido")&&await ve.from("orders").update({estado_cocina:"listo",date_listo_cuisine:n}).eq("id",e),r.table_id&&await Lg(r.table_id),Wn();const u=await nn(e);if(!u)throw new Error("Order not found after ready update");return u}Wn();const i=await nn(e);if(!i)throw new Error("Order not found after ready update");return i},markOrderAsServed:async e=>{const t=await nn(e);if(!t)throw new Error("Order not found");const n=new Date().toISOString();await ve.from("orders").update({estado_cocina:"servido",date_servido:n}).eq("id",e),await ve.from("order_items").update({estado:"servido"}).eq("order_id",e).eq("estado","listo"),t.table_id&&await Lg(t.table_id),Wn();const r=await nn(e);if(!r)throw new Error("Order not found after serve update");return r},finalizeOrder:async(e,t,n)=>{const r=await nn(e);if(!r)throw new Error("Order not found");const i=new Date().toISOString();await ve.from("orders").update({statut:"finalisee",payment_status:"paid",payment_method:t,payment_receipt_url:n??null,date_servido:i}).eq("id",e),r.table_id&&await Lg(r.table_id),Wn();const o=await nn(e);if(!o)throw new Error("Order not found after finalization");const l=await fE();return{...o,profit:l}},submitCustomerOrder:async e=>{var l,u,d;const n=new Date().toISOString(),r=await ve.from("orders").insert({type:"pedir_en_linea",couverts:1,statut:"pendiente_validacion",estado_cocina:"no_enviado",date_creation:n,payment_status:"unpaid",payment_method:e.payment_method??null,total:e.items.reduce((f,p)=>f+p.prix_unitaire*p.quantite,0),client_nom:((l=e.clientInfo)==null?void 0:l.nom)??null,client_telephone:((u=e.clientInfo)==null?void 0:u.telephone)??null,client_adresse:((d=e.clientInfo)==null?void 0:d.adresse)??null,receipt_url:e.receipt_url??null}).select("*").single(),i=Be(r);if(e.items.length>0){const f=e.items.map(g=>{const v={order_id:i.id,produit_id:g.produitRef&&Tc(g.produitRef)?g.produitRef:null,nom_produit:g.nom_produit,prix_unitaire:g.prix_unitaire,quantite:g.quantite,excluded_ingredients:g.excluded_ingredients,commentaire:g.commentaire,estado:g.estado,date_envoi:g.date_envoi?new Date(g.date_envoi).toISOString():null};return Tc(g.id)&&(v.id=g.id),v}),p=await ve.from("order_items").insert(f,{defaultToNull:!1});if(p.error)throw console.error("Failed to insert order items:",p.error),new Error(`Failed to insert order items: ${p.error.message}`)}Wn();const o=await nn(i.id);if(!o)throw new Error("Order not found after creation");return o},getCustomerOrderStatus:async e=>nn(e),validateTakeawayOrder:async e=>{const t=new Date().toISOString();await ve.from("orders").update({statut:"en_cours",estado_cocina:"recibido",payment_status:"paid",date_envoi_cuisine:t}).eq("id",e),await ve.from("order_items").update({estado:"enviado",date_envoi:t}).eq("order_id",e),Wn();const n=await nn(e);if(!n)throw new Error("Order not found after validation");return n},markTakeawayAsDelivered:async e=>{await ve.from("orders").update({statut:"finalisee",estado_cocina:"entregada",payment_method:"transferencia"}).eq("id",e),Wn();const t=await nn(e);if(!t)throw new Error("Order not found after delivery");const n=await fE();return{...t,profit:n}},getNotificationCounts:async()=>{const e=await Ai(),n=Be(e).map(Pa);return{pendingTakeaway:n.filter(r=>Ef(r)&&r.statut==="pendiente_validacion").length,readyTakeaway:n.filter(r=>Ef(r)&&r.estado_cocina==="listo").length,kitchenOrders:(await je.getKitchenOrders()).length,lowStockIngredients:(await vs()).filter(r=>r.stock_actuel<=r.stock_minimum).length,readyForService:n.filter(r=>r.type==="sur_place"&&r.estado_cocina==="listo").length}},generateDailyReport:async()=>{const e=new Date,t=Yc(e),n=t.toISOString();TU(n);const[r,i,o,l]=await Promise.all([Ai().eq("statut","finalisee"),Dg(),vs(),Vo(R=>R)]);let u=[],d=!1;try{u=await AU(n)}catch(R){console.warn("Failed to fetch role logins for daily report",R),d=!0}const p=Be(r).map(Pa),g=t.getTime(),v=e.getTime(),w=p.filter(R=>{const D=R.date_servido??R.date_listo_cuisine??R.date_creation;return D>=g&&D<=v}),S=w.reduce((R,D)=>R+D.total,0),_=w.reduce((R,D)=>R+D.couverts,0),j=w.length>0?S/w.length:0,N=new Map(o.map(R=>[R.id,R])),E=Be(l),C=new Map(E.map(R=>{const D=Yo(R,N);return[D.id,D]})),A=new Map(i.map(R=>[R.id,R.nom])),T=new Map;w.forEach(R=>{R.items.forEach(D=>{const H=C.get(D.produitRef),z=H?A.get(H.categoria_id)??"Sans catégorie":"Sans catégorie",B=H?H.categoria_id:"unknown",$=T.get(B)??{categoryName:z,products:[]},ne=$.products.find(Q=>Q.id===D.produitRef);ne?(ne.quantity+=D.quantite,ne.totalSales+=D.prix_unitaire*D.quantite):$.products.push({id:D.produitRef,name:D.nom_produit,quantity:D.quantite,totalSales:D.prix_unitaire*D.quantite}),T.set(B,$)})}),T.forEach(R=>{R.products.sort((D,H)=>H.quantity-D.quantity)});const P=o.filter(R=>R.stock_actuel<=R.stock_minimum);return{generatedAt:e.toISOString(),startDate:t.toISOString(),clientsDuJour:_,panierMoyen:j,ventesDuJour:S,soldProducts:Array.from(T.values()),lowStockIngredients:P,roleLogins:u,roleLoginsUnavailable:d}},getSalesHistory:async()=>{const e=await ve.from("sales").select("*").order("sale_date",{ascending:!1});return Be(e).map(fz)},getFinalizedOrders:async()=>{const e=await Ai().eq("statut","finalisee");return Be(e).map(Pa)},addIngredient:async e=>{const t=await ve.from("ingredients").insert({nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:0,prix_unitaire:0}).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),n=Be(t);return Ln.publish("notifications_updated"),jf(n)},updateIngredient:async(e,t)=>{const n=await ve.from("ingredients").update(t).eq("id",e).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),r=Be(n);return Ln.publish("notifications_updated"),jf(r)},deleteIngredient:async e=>{const t=await ve.from("product_recipes").select("ingredient_id, product_id, qte_utilisee").eq("ingredient_id",e).limit(1);if(Be(t).length>0)throw new Error("Impossible de supprimer l'ingrédient car il est utilisé dans une recette.");return await ve.from("ingredients").delete().eq("id",e),Ln.publish("notifications_updated"),{success:!0}},resupplyIngredient:async(e,t,n)=>{const r=await ve.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).maybeSingle(),i=Os(r);if(!i)throw new Error("Ingredient not found");const o=i.prix_unitaire*i.stock_actuel,l=t*n,u=i.stock_actuel+t,d=u>0?(o+l)/u:0;await ve.from("ingredients").update({stock_actuel:u,prix_unitaire:Number.isFinite(d)?d:0}).eq("id",e),await ve.from("purchases").insert({ingredient_id:e,quantite_achetee:t,prix_total:l,date_achat:new Date().toISOString()}),Ln.publish("notifications_updated");const f=await ve.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).single(),p=Be(f);return jf(p)},addProduct:async e=>{const t=await ve.from("products").insert({nom_produit:e.nom_produit,description:e.description??null,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:Ui(e.image),is_best_seller:e.is_best_seller,best_seller_rank:e.is_best_seller?e.best_seller_rank:null}).select("id").single(),n=Be(t);e.recipe.length>0&&await ve.from("product_recipes").insert(e.recipe.map(u=>({product_id:n.id,ingredient_id:u.ingredient_id,qte_utilisee:u.qte_utilisee}))),Ln.publish("notifications_updated");const r=await Vo(u=>u.eq("id",n.id).single()),i=Be(r),o=await vs(),l=new Map(o.map(u=>[u.id,u]));return Yo(i,l)},updateProduct:async(e,t)=>{const{recipe:n,...r}=t,i={};if(r.nom_produit!==void 0&&(i.nom_produit=r.nom_produit),r.description!==void 0&&(i.description=r.description??null),r.prix_vente!==void 0&&(i.prix_vente=r.prix_vente),r.categoria_id!==void 0&&(i.categoria_id=r.categoria_id),r.estado!==void 0&&(i.estado=r.estado),r.image!==void 0&&(i.image=Ui(r.image)),r.best_seller_rank!==void 0&&(i.best_seller_rank=r.best_seller_rank),r.is_best_seller!==void 0&&(i.is_best_seller=r.is_best_seller,r.is_best_seller||(i.best_seller_rank=null)),Object.keys(i).length>0){const f=await ve.from("products").update(i).eq("id",e);Be(f)}if(n){const f=await ve.from("product_recipes").delete().eq("product_id",e);if(Be(f),n.length>0){const p=await ve.from("product_recipes").insert(n.map(g=>({product_id:e,ingredient_id:g.ingredient_id,qte_utilisee:g.qte_utilisee})));Be(p)}}Ln.publish("notifications_updated");const o=await Vo(f=>f.eq("id",e).single()),l=Be(o),u=await vs(),d=new Map(u.map(f=>[f.id,f]));return Yo(l,d)},deleteProduct:async e=>{await ve.from("product_recipes").delete().eq("product_id",e),await ve.from("products").delete().eq("id",e),Ln.publish("notifications_updated")},addCategory:async e=>{const t=await ve.from("categories").insert({nom:e}).select("id, nom").single(),n=Be(t);return Ln.publish("notifications_updated"),WA(n)},deleteCategory:async e=>{await ve.from("categories").delete().eq("id",e),Ln.publish("notifications_updated")}},JA=b.createContext(void 0),wz=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const f=localStorage.getItem("oui-oui-tacos-role"),p=localStorage.getItem("oui-oui-tacos-session");if(!f||!p){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session");return}const g=JSON.parse(f),v=JSON.parse(p);if(!(g!=null&&g.id)||v.roleId!==g.id){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null);return}const w=await je.getRoleById(g.id);w?(n(w),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(w)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:w.id,authenticatedAt:Date.now()}))):(localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null))}catch(f){console.error("Failed to restore role:",f),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null)}finally{i(!1)}})()},[]);const o=b.useCallback(async d=>{i(!0);try{const f=await je.loginWithPin(d);if(!f)throw new Error("PIN invalide");return n(f),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(f)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:f.id,authenticatedAt:Date.now()})),f}finally{i(!1)}},[]),l=b.useCallback(()=>{n(null),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session")},[]),u=b.useCallback(async()=>{if(t!=null&&t.id)try{const d=await je.getRoleById(t.id);d?(n(d),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(d)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:d.id,authenticatedAt:Date.now()}))):l()}catch(d){console.error("Failed to refresh role:",d)}},[l,t==null?void 0:t.id]);return m.jsx(JA.Provider,{value:{role:t,loading:r,login:o,logout:l,refreshRole:u},children:e})},ma=()=>{const e=b.useContext(JA);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},_z=["a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),Sz=({isOpen:e,onClose:t,notifications:n,onReportClick:r})=>{const{role:i,logout:o}=ma(),l=qi(),u=b.useRef(null),d=b.useRef(null),f=()=>{o(),l("/")},p=i==null?void 0:i.permissions,g=b.useMemo(()=>Qn.filter(_=>(p==null?void 0:p[_.permissionKey])&&(p==null?void 0:p[_.permissionKey])!=="none"),[p]),v=b.useMemo(()=>g.find(_=>_.permissionKey===Fa),[g]),w=b.useMemo(()=>g.filter(_=>_.permissionKey!==Fa),[g]);b.useEffect(()=>{var C;if(!e||typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches)return;d.current=document.activeElement;const j=u.current,N=j==null?void 0:j.querySelectorAll(_z);(C=N==null?void 0:N[0])==null||C.focus();const E=A=>{if(A.key==="Escape"&&(A.preventDefault(),t()),A.key==="Tab"&&N&&N.length>0){const T=N[0],P=N[N.length-1];A.shiftKey?document.activeElement===T&&(A.preventDefault(),P.focus()):document.activeElement===P&&(A.preventDefault(),T.focus())}};return document.addEventListener("keydown",E),()=>{var A,T;document.removeEventListener("keydown",E),(T=(A=d.current)==null?void 0:A.focus)==null||T.call(A)}},[e,t]);const S=()=>{typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches||t()};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 md:hidden ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!e,onClick:t}),m.jsxs("aside",{ref:u,className:`app-sidebar fixed inset-y-0 left-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out md:static md:z-auto md:w-64 md:translate-x-0 ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,"aria-label":"Navegación principal",children:[m.jsxs("div",{className:"app-sidebar__header",children:[m.jsx("span",{className:"app-sidebar__brand",children:"OUIOUI"}),m.jsx("button",{onClick:t,className:"app-sidebar__close md:hidden","aria-label":"Cerrar el menú",children:m.jsx(jl,{size:20})})]}),m.jsxs("div",{className:"app-sidebar__content",children:[m.jsx("div",{className:"app-sidebar__scroll-region",children:m.jsx("nav",{className:"app-sidebar__nav",children:w.map(_=>{let j=null;return n&&(_.href==="/para-llevar"&&(n.pendingTakeaway>0||n.readyTakeaway>0)?j=m.jsxs("span",{className:"app-sidebar__badge-group",children:[n.pendingTakeaway>0&&m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.pendingTakeaway} por validar`,children:n.pendingTakeaway}),n.readyTakeaway>0&&m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--success",title:`${n.readyTakeaway} listo(s)`,children:n.readyTakeaway})]}):_.href==="/ventes"&&n.readyForService>0?j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.readyForService} pedido(s) listo(s)`,children:n.readyForService})}):_.href==="/cocina"&&n.kitchenOrders>0?j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.kitchenOrders})}):_.href==="/ingredients"&&n.lowStockIngredients>0&&(j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.lowStockIngredients})}))),m.jsxs(zC,{to:_.href,onClick:S,className:({isActive:N})=>`app-sidebar__nav-link${N?" is-active":""}`,children:[m.jsx(_.icon,{size:22}),m.jsx("span",{children:_.name}),j]},_.name)})})}),m.jsxs("div",{className:"app-sidebar__section",children:[v&&m.jsxs("button",{onClick:()=>{S(),l(v.href)},className:"app-sidebar__action",children:[m.jsx(v.icon,{size:22}),m.jsx("span",{className:"font-semibold",children:v.name})]}),m.jsxs("button",{onClick:()=>{r(),S()},className:"app-sidebar__action",children:[m.jsx(_A,{size:22}),m.jsx("span",{className:"font-semibold",children:"Reporte"})]}),m.jsxs("button",{onClick:f,className:"app-sidebar__action app-sidebar__action--logout",children:[m.jsx(A6,{size:22}),m.jsx("span",{className:"font-semibold",children:"Cerrar sesión"})]})]})]})]})]})},yn=({isOpen:e,onClose:t,title:n,children:r,size:i="md"})=>{const o={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=b.useId();return b.useEffect(()=>{if(!e)return;const u=d=>{d.key==="Escape"&&(d.preventDefault(),t())};return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[e,t]),e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-4 sm:px-6 sm:py-8",onClick:t,children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:`relative flex w-full flex-col overflow-hidden rounded-2xl bg-white shadow-2xl ${o[i]} max-h-[calc(100vh-2rem)] sm:max-h-[90vh] focus:outline-none`,onClick:u=>u.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 px-4 py-3 sm:px-6",children:[m.jsx("h3",{id:l,className:"text-lg font-semibold text-slate-900 sm:text-xl",children:n}),m.jsx("button",{type:"button",onClick:t,className:"rounded-full p-1.5 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500","aria-label":"Fermer la fenêtre modale",children:m.jsx(jl,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 sm:px-6 sm:py-6",children:r})]})}):null},jz=new Intl.NumberFormat("es-CO",{maximumFractionDigits:0}),Ez=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});function ZA(e){return Number.isFinite(e)?Math.round(e):0}function Oz(e){return jz.format(ZA(e))}function Re(e){return Ez.format(ZA(e))}const Ig=({icon:e,label:t,value:n})=>m.jsxs("div",{className:"bg-gray-100 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row sm:items-center items-start gap-3",children:[m.jsx("div",{className:"p-2 sm:p-3 bg-brand-primary/20 text-brand-primary rounded-full",children:e}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-semibold",children:t}),m.jsx("p",{className:"font-bold text-gray-800 text-[clamp(1.1rem,2.5vw,1.5rem)]",children:n})]})]}),Nz=({isOpen:e,onClose:t})=>{const[n,r]=b.useState(null),[i,o]=b.useState(!0),[l,u]=b.useState(null);b.useEffect(()=>{e&&(async()=>{o(!0),u(null);try{const v=await je.generateDailyReport();r(v)}catch(v){console.error("Error al generar el informe diario",v),r(null),u("No fue posible generar el informe diario. Intenta nuevamente más tarde.")}finally{o(!1)}})()},[e]);const d=g=>{const v=new Map;return g.forEach(w=>{const S=new Date(w.loginAt).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),_=v.get(w.roleName)??[];_.push(S),v.set(w.roleName,_)}),v},f=g=>{const v=[];if(v.push("*REPORTE OUIOUITACOS*"),v.push(`Generado el: ${new Date(g.generatedAt).toLocaleString("es-CO")}`),v.push(`Periodo: desde ${new Date(g.startDate).toLocaleString("es-CO")}`),v.push("---"),v.push("*Estadísticas del día*"),v.push(`- Ventas: *${Re(g.ventesDuJour)}*`),v.push(`- Clientes: *${g.clientsDuJour}*`),v.push(`- Ticket promedio: *${Re(g.panierMoyen)}*`),v.push("---"),v.push("*Productos vendidos*"),g.soldProducts.length===0?v.push("Ningún producto vendido."):g.soldProducts.forEach(w=>{v.push(`
_${w.categoryName}_`),w.products.forEach(S=>{v.push(`  - ${S.quantity}x ${S.name} (${Re(S.totalSales)})`)})}),v.push("---"),v.push("*Inicios de sesión desde las 05:00*"),g.roleLoginsUnavailable)v.push("Inicios de sesión no disponibles en este dispositivo.");else{const w=d(g.roleLogins);w.size===0?v.push("No hay inicios de sesión registrados."):w.forEach((S,_)=>{v.push(`- ${_}: ${S.join(", ")}`)})}return v.push("---"),v.push("*Inventario bajo*"),g.lowStockIngredients.length===0?v.push("No hay ingredientes con inventario bajo."):g.lowStockIngredients.forEach(w=>{v.push(`- ${w.nom} (${w.stock_actuel} / ${w.stock_minimum} ${w.unite})`)}),encodeURIComponent(v.join(`
`))},p=()=>{if(!n)return;const v=`https://wa.me/?text=${f(n)}`;window.open(v,"_blank"),t()};return m.jsx(yn,{isOpen:e,onClose:t,title:"Reporte diario",size:"xl",children:m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[i&&m.jsx("p",{children:"Generando el reporte..."}),!i&&l&&m.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:l}),!i&&!n&&!l&&m.jsx("p",{className:"text-red-500",children:"No fue posible generar el reporte."}),!i&&n&&m.jsxs("div",{className:"space-y-6",children:[n.roleLoginsUnavailable&&m.jsxs("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3 text-sm text-yellow-800 flex items-start gap-2",children:[m.jsx(ca,{className:"mt-0.5 h-4 w-4"}),m.jsx("span",{children:"Los inicios de sesión de los roles no están disponibles en este dispositivo (almacenamiento local inaccesible)."})]}),m.jsxs("div",{className:"text-center border-b pb-4",children:[m.jsx("h2",{className:"font-bold text-brand-secondary text-[clamp(1.75rem,4vw,2.75rem)]",children:"Reporte OUIOUITACOS"}),m.jsxs("p",{className:"text-gray-500",children:["Generado el ",new Date(n.generatedAt).toLocaleString("es-CO")]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Datos desde ",new Date(n.startDate).toLocaleString("es-CO")]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[m.jsx(Ig,{icon:m.jsx(Zc,{}),label:"Ventas del día",value:Re(n.ventesDuJour)}),m.jsx(Ig,{icon:m.jsx(ky,{}),label:"Clientes del día",value:n.clientsDuJour}),m.jsx(Ig,{icon:m.jsx(TA,{}),label:"Ticket promedio",value:Re(n.panierMoyen)})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(OA,{})," Productos vendidos"]}),m.jsx("div",{className:"space-y-4",children:n.soldProducts.map(g=>m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-brand-primary",children:g.categoryName}),m.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:g.products.map(v=>m.jsxs("li",{children:[v.quantity,"x ",v.name," - ",m.jsx("span",{className:"font-semibold",children:Re(v.totalSales)})]},v.id))})]},g.categoryName))})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(N6,{})," Inicios de sesión desde las 05:00"]}),n.roleLoginsUnavailable?m.jsx("p",{className:"text-gray-500",children:"Inicios de sesión no disponibles: no es posible acceder al almacenamiento local."}):(()=>{const g=d(n.roleLogins);return g.size===0?m.jsx("p",{className:"text-gray-500",children:"No hay inicios de sesión registrados desde las 05:00."}):m.jsx("ul",{className:"space-y-2",children:Array.from(g.entries()).map(([v,w])=>m.jsxs("li",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{className:"font-semibold text-gray-800",children:v}),m.jsx("span",{className:"text-sm text-gray-600",children:w.join(", ")})]},v))})})()]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(ca,{className:"text-orange-500"})," Ingredientes con inventario bajo"]}),n.lowStockIngredients.length>0?m.jsx("ul",{className:"space-y-1",children:n.lowStockIngredients.map(g=>m.jsxs("li",{className:"flex justify-between items-center bg-orange-50 p-2 rounded-md text-orange-800",children:[m.jsx("span",{children:g.nom}),m.jsxs("span",{className:"font-bold",children:[g.stock_actuel," / ",g.stock_minimum," ",g.unite]})]},g.id))}):m.jsx("p",{className:"text-gray-500",children:"No hay ingredientes con inventario bajo."})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 border-t",children:[m.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"}),m.jsxs("button",{onClick:p,disabled:i||!n,className:"w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:[m.jsx(EA,{size:20})," Enviar por WhatsApp"]})]})]})})},Cz=()=>{const[e,t]=b.useState(!1),{role:n}=ma(),[r,i]=b.useState(null),[o,l]=b.useState(!1),u=()=>t(!0),d=()=>t(!1);return b.useEffect(()=>{const f=async()=>{try{const g=await je.getNotificationCounts();i(g)}catch(g){console.error("Failed to fetch notifications",g)}};f();const p=je.notifications.subscribe("notifications_updated",f);return()=>{p()}},[]),b.useEffect(()=>{if(typeof window>"u")return;const f=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"app-shell",children:[m.jsx(Sz,{isOpen:e,onClose:d,notifications:r,onReportClick:()=>l(!0)}),m.jsxs("div",{className:"app-main",children:[m.jsxs("header",{className:"app-header",children:[m.jsx("button",{type:"button",onClick:u,className:"app-header__menu-button md:hidden","aria-label":"Abrir el menú",children:m.jsx(jA,{size:24})}),m.jsxs("h1",{className:"app-header__title",children:["Bienvenido, ",n==null?void 0:n.name]}),m.jsx("div",{className:"app-header__spacer md:hidden","aria-hidden":"true"})]}),m.jsx("main",{className:"app-content",children:m.jsx("div",{className:"app-content__inner",children:m.jsx(pL,{})})})]})]}),m.jsx(Nz,{isOpen:o,onClose:()=>l(!1)})]})},Dy="active-customer-order",Ly="active-customer-order-id",Az=1440*60*1e3,Tz=e=>{if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t.orderId=="string"&&t.orderId.trim().length>0)return t}catch(t){console.error("Failed to parse stored active order",t)}return null},eu=e=>{if(!(typeof window>"u"))try{if(!e){window.localStorage.removeItem(Dy),window.localStorage.removeItem(Ly);return}window.localStorage.setItem(Dy,JSON.stringify(e)),window.localStorage.removeItem(Ly)}catch(t){console.error("Failed to persist active order",t)}},ob=()=>{if(typeof window>"u")return null;const e=Tz(window.localStorage.getItem(Dy));if(e)return e.expiresAt&&e.expiresAt<=Date.now()?(eu(null),null):e;const t=window.localStorage.getItem(Ly);if(t&&t.trim().length>0){const n={orderId:t};return eu(n),n}return null},lb=(e,t)=>{if(!e){eu(null);return}eu(t?{orderId:e,expiresAt:t}:{orderId:e})},cb=()=>{eu(null)},kz=e=>{try{const t=localStorage.getItem("customer-order-history"),n=t?JSON.parse(t):[],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1),n.unshift(e);const i=n.slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(i))}catch(t){console.error("Failed to save order to history:",t)}},eT=({orderId:e,onNewOrderClick:t,variant:n="page"})=>{var _,j,N;const[r,i]=b.useState(null),[o,l]=b.useState(!0),[u,d]=b.useState(!1),f=[{name:"Enviado",icon:_A},{name:"Validado",icon:Df},{name:"En preparacion",icon:yA},{name:"Listo",icon:U6}],p=b.useCallback(E=>E?E.statut==="finalisee"||E.estado_cocina==="servido"||E.estado_cocina==="entregada"||E.estado_cocina==="listo"?3:E.estado_cocina==="recibido"?2:E.statut==="en_cours"?1:E.statut==="pendiente_validacion"||E.estado_cocina==="no_enviado"?0:-1:-1,[]),g=b.useMemo(()=>p(r),[r,p]);b.useEffect(()=>{let E=!0,C;const A=async()=>{try{const T=await je.getCustomerOrderStatus(e);if(E){if(i(T),(T==null?void 0:T.statut)==="finalisee"||(T==null?void 0:T.estado_cocina)==="servido"||(T==null?void 0:T.estado_cocina)==="entregada"){C&&clearInterval(C),kz(T);const P=T.date_servido??Date.now();lb(T.id,P+Az)}if(!T){const P=ob();(P==null?void 0:P.orderId)===e&&cb()}}}catch(T){console.error("Failed to fetch order status",T)}finally{E&&l(!1)}};return A(),C=setInterval(A,5e3),()=>{E=!1,clearInterval(C)}},[e]);const v=(r==null?void 0:r.statut)==="finalisee"||(r==null?void 0:r.estado_cocina)==="servido"||(r==null?void 0:r.estado_cocina)==="entregada"||(r==null?void 0:r.estado_cocina)==="listo",w=n==="page"?"container mx-auto p-4 lg:p-8":"flex-1 flex flex-col justify-center items-center text-center text-white p-4 bg-black bg-opacity-60 w-full",S=n==="page"?"bg-white/95 p-6 rounded-xl shadow-2xl max-w-2xl mx-auto":"max-w-4xl mx-auto";return o?m.jsx("div",{className:w,children:"Chargement du suivi de commande..."}):r?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:w,children:m.jsxs("div",{className:S,children:[m.jsx("h2",{className:`text-3xl font-bold text-center mb-2 ${n==="hero"?"text-white":"text-gray-800"}`,children:"Suivi de votre commande"}),m.jsxs("p",{className:`text-center font-semibold mb-8 ${n==="hero"?"text-gray-300":"text-gray-500"}`,children:["Commande #",r.id.slice(-6)]}),m.jsx("div",{className:"flex justify-between items-start mb-10 px-2",children:f.map((E,C)=>{const A=C===g,T=C===f.length-1,P=C<g||T&&v,D=["w-16 h-16 rounded-full flex items-center justify-center border-4 transition-all duration-300",P?"bg-green-500 border-green-500 text-white":"",!P&&A&&C===0?"waiting-status-indicator":"",!P&&A&&C!==0?"bg-brand-primary border-brand-primary text-brand-secondary animate-pulse":"",!P&&!A?"bg-gray-200 border-gray-300 text-gray-500":""].filter(Boolean).join(" ");return m.jsxs(sn.Fragment,{children:[m.jsxs("div",{className:"flex flex-col items-center text-center w-24",children:[m.jsx("div",{className:D,children:m.jsx(E.icon,{size:32})}),m.jsx("p",{className:`mt-2 text-sm md:text-base font-semibold break-words ${A?"font-bold text-brand-primary":`${n==="hero"?"text-gray-300":"text-gray-600"}`}`,children:E.name})]}),C<f.length-1&&m.jsx("div",{className:`flex-1 h-2 mt-8 transition-colors duration-500 ${P?"bg-green-500":"bg-gray-300"}`})]},E.name)})}),m.jsxs("div",{className:`${n==="hero"?"bg-black/20 p-4 rounded-lg":"border-t pt-6 mt-6"} space-y-4`,children:[m.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"}`,children:"Résumé de la commande"}),m.jsx("div",{className:"space-y-2",children:r.items.map(E=>m.jsxs("div",{className:`flex justify-between ${n==="hero"?"text-gray-200":"text-gray-600"}`,children:[m.jsxs("span",{children:[E.quantite,"x ",E.nom_produit]}),m.jsx("span",{children:Re(E.prix_unitaire*E.quantite)})]},E.id))}),m.jsxs("div",{className:`flex justify-between font-bold text-lg border-t pt-2 ${n==="hero"?"text-white border-gray-500":"text-gray-800"}`,children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Re(r.total)})]}),m.jsxs("div",{className:`border-t pt-4 space-y-2 ${n==="hero"?"border-gray-500":""}`,children:[m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(rb,{size:16,className:"mr-2"}),(_=r.clientInfo)==null?void 0:_.nom]}),m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(NA,{size:16,className:"mr-2"}),(j=r.clientInfo)==null?void 0:j.telephone]}),m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(Eh,{size:16,className:"mr-2"}),(N=r.clientInfo)==null?void 0:N.adresse]}),r.receipt_url&&m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center text-blue-400 hover:underline",children:[m.jsx(X6,{size:16,className:"mr-2"}),"Voir le justificatif"]})]})]}),m.jsxs("div",{className:"mt-8 text-center space-y-4",children:[v&&m.jsx("div",{className:"flex justify-center",children:m.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-700",children:[m.jsx(Df,{size:16})," Pedido listo"]})}),r.statut==="finalisee"?m.jsx("button",{onClick:t,className:`${n==="hero"?"bg-gray-200 text-gray-800":"bg-brand-primary text-brand-secondary"} font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition`,children:"Passer une nouvelle commande"}):m.jsx("p",{className:`text-sm ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Le statut de votre commande est mis à jour automatiquement."})]})]})}),m.jsx(yn,{isOpen:u,onClose:()=>d(!1),title:"Justificatif de Paiement",children:r.receipt_url?m.jsx("img",{src:r.receipt_url,alt:"Justificatif",className:"w-full h-auto rounded-md"}):m.jsx("p",{children:"Aucun justificatif fourni."})})]}):m.jsx("div",{className:w,children:m.jsxs("div",{className:S,children:[m.jsx("h2",{className:`text-2xl font-bold mb-4 ${n==="hero"?"text-red-400":"text-red-600"}`,children:"Commande non trouvée"}),m.jsx("p",{className:`${n==="hero"?"text-gray-200":"text-gray-600"} mb-6`,children:"Nous n'avons pas pu retrouver votre commande."}),m.jsx("button",{onClick:t,className:"bg-brand-primary text-brand-secondary font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 transition",children:"Passer une nouvelle commande"})]})})};let ef=null;const ub=()=>{const[e,t]=b.useState(ef),[n,r]=b.useState(!0),[i,o]=b.useState(null),l=b.useCallback(async()=>{r(!0);try{const d=await je.getSiteContent(),f=My(d??void 0);ef=f,t(f),o(null)}catch(d){console.error("Failed to fetch site content",d),ef=Lf,t(Lf),o(d instanceof Error?d.message:"Impossible de charger le contenu du site.")}finally{r(!1)}},[]),u=b.useCallback(async d=>{const f=await je.updateSiteContent(d),p=My(f);return t(p),ef=p,p},[]);return b.useEffect(()=>{l()},[l]),{content:e,loading:n,error:i,refresh:l,updateContent:u}},Mz={"font/woff2":"woff2","application/font-woff2":"woff2","application/x-font-woff2":"woff2","font/woff":"woff","application/font-woff":"woff","application/x-font-woff":"woff","application/x-font-ttf":"truetype","font/ttf":"truetype","application/x-font-otf":"opentype","font/otf":"opentype","application/vnd.ms-fontobject":"embedded-opentype","application/x-font-eot":"embedded-opentype","image/svg+xml":"svg"},Pz={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg"},db=e=>{const t=e.trim();return(t.length>0?t:"Custom Font").replace(/"|'/g,"")},Rz=e=>{if(!e)return null;const t=e.toLowerCase();for(const[n,r]of Object.entries(Mz))if(t.includes(n))return r;return null},Dz=e=>{const n=e.toLowerCase().match(/\.([a-z0-9]+)(?:\?|#|$)/);if(!n)return null;const r=n[1];return Pz[r]??null},Lz=e=>{const t=Rz(e.format);return t||Dz(e.url)},Iz=e=>{const t=db(e.name),n=Lz(e),r=n?` format("${n}")`:"",i=`url("${e.url}")${r}`;return`@font-face {
  font-family: "${t}";
  src: ${i};
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}`},Uz="data-custom-font-faces",fb=e=>{b.useEffect(()=>{if(typeof document>"u")return;const t=e.filter(o=>o.type==="font");if(t.length===0)return;const n=[],r=new Set;if(t.forEach(o=>{const l=Iz(o),u=l.match(/font-family: "([^"]+)";/),d=u?u[1]:o.name;r.has(d)||(r.add(d),n.push(l))}),n.length===0)return;const i=document.createElement("style");return i.setAttribute(Uz,"true"),i.textContent=n.join(`
`),document.head.appendChild(i),()=>{i.remove()}},[e])},tT=e=>{if(!e)return e??void 0;const t=e.trim();return t.length===0||t.includes(",")?t.length===0?void 0:t:/^(['"]).*\1$/.test(t)||!/[^a-zA-Z0-9-]/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`},Mr=e=>e.background.type==="image"&&e.background.image?{backgroundImage:`url('${e.background.image}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:e.background.color}:{backgroundColor:e.background.color},hb=(e,t)=>{const n=Mr(e);if(e.background.type==="image"){const r=e.background.image??t;return r?{...n,backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n}return t?{...n,backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n},Pr=e=>({color:e.textColor,fontFamily:tT(e.fontFamily)}),Ri=e=>({...Pr(e),fontSize:e.fontSize}),mb=(e,t)=>{const n={color:(t==null?void 0:t.textColor)??e.textColor,fontFamily:tT((t==null?void 0:t.fontFamily)??e.fontFamily)};return t!=null&&t.backgroundColor&&t.backgroundColor.trim().length>0&&(n.backgroundColor=t.backgroundColor),n},nT=(e,t)=>({...mb(e,t),fontSize:(t==null?void 0:t.fontSize)??e.fontSize}),rT=(e,t)=>t!=null&&t.backgroundColor?{backgroundColor:t.backgroundColor}:{},aT=(e,t,n)=>{if(!e)return e;try{const r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch{const i=e.includes("?")?"&":"?",o=encodeURIComponent(t),l=encodeURIComponent(n);return`${e}${i}${o}=${l}`}},hE="/logo-brand.svg",Ba=e=>{if(e.startsWith("navigation."))return"navigation";if(e.startsWith("hero."))return"hero";if(e.startsWith("about."))return"about";if(e.startsWith("menu."))return"menu";if(e.startsWith("instagramReviews."))return"instagramReviews";if(e.startsWith("findUs."))return"findUs";if(e.startsWith("footer."))return"footer";throw new Error(`Zone introuvable pour l'élément modifiable "${e}"`)},iT=sn.createContext(!0),We=({id:e,onEdit:t,children:n,label:r,className:i,buttonClassName:o,as:l="div"})=>{const u=["group relative",i].filter(Boolean).join(" "),d=sn.useContext(iT),[f,p]=b.useState(!1);if(!d)return m.jsx(l,{className:u,children:n});const g=["customization-edit-button absolute z-30 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-white shadow-lg transition-all duration-200","opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 focus-visible:opacity-100","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500","hover:scale-110 hover:bg-blue-600 active:scale-95",o??"right-2 top-2"].filter(Boolean).join(" "),v=w=>{w.preventDefault(),w.stopPropagation();const S=Ba(e),_=w.currentTarget.getBoundingClientRect(),j=w.currentTarget.closest(`[data-zone="${S}"]`)??w.currentTarget.parentElement,N=(j==null?void 0:j.getBoundingClientRect())??null;t(e,{zone:S,anchor:_??N})};return m.jsxs(l,{className:u,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[m.jsx("button",{type:"button",onClick:v,className:g,"aria-label":r,"data-element-id":e,title:r,children:m.jsx(K6,{className:"h-4 w-4","aria-hidden":"true"})}),f&&m.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-blue-500 border-dashed rounded-lg opacity-50 animate-pulse"}),f&&m.jsxs("div",{className:"absolute z-40 bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap",children:[r,m.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]}),n]})},Wo=({children:e,className:t,zone:n,activeZone:r})=>{const o=["customization-section-card relative overflow-hidden rounded-3xl border bg-white shadow-sm transition-all",r===n?"active border-brand-primary/70 shadow-brand-primary/20 ring-2 ring-brand-primary/10":"border-gray-200",t].filter(Boolean).join(" ");return m.jsx("div",{className:o,"data-zone":n,children:e})},mE=({content:e,bestSellerProducts:t,onEdit:n,activeZone:r,showEditButtons:i=!0})=>{const o=Mr(e.navigation.style),l=Pr(e.navigation.style);Ri(e.navigation.style);const u=e.navigation.brandLogo??hE,d=e.navigation.staffLogo??e.navigation.brandLogo??hE,f=hb(e.hero.style,e.hero.backgroundImage),p=Pr(e.hero.style),g=Ri(e.hero.style),v=Mr(e.about.style),w=Pr(e.about.style);Ri(e.about.style);const S=Mr(e.menu.style),_=Pr(e.menu.style),j=Ri(e.menu.style),N=Mr(e.findUs.style),E=Pr(e.findUs.style),C=Mr(e.footer.style),A=Ri(e.footer.style);fb(e.assets.library);const T=e.elementStyles??{},P=e.elementRichText??{},R=F=>{var G;const Y=P[F],J=(G=Y==null?void 0:Y.html)==null?void 0:G.trim();return J&&J.length>0?J:null},D=(F,Y,J,G)=>{const de=R(F);return de?sn.createElement(Y,{...J,dangerouslySetInnerHTML:{__html:de}}):sn.createElement(Y,J,G)},H={navigation:e.navigation.style,hero:e.hero.style,about:e.about.style,menu:e.menu.style,instagramReviews:e.instagramReviews.style,findUs:e.findUs.style,footer:e.footer.style},z=F=>T[F],B=F=>{const Y=Ba(F);return mb(H[Y],z(F))},$=F=>{const Y=Ba(F);return nT(H[Y],z(F))},ne=F=>{const Y=Ba(F);return rT(H[Y],z(F))},Q=e.findUs.address.trim(),re=e.findUs.mapUrl,I=typeof re=="string"?re.trim():"",V=I.length>0,ie=!V&&Q.length>0?encodeURIComponent(Q):"",pe=V?I:ie?`https://www.google.com/maps?q=${ie}`:"https://www.google.com/maps",se=V?aT(I,"output","embed"):ie?`https://www.google.com/maps?q=${ie}&output=embed`:"about:blank",M=V||ie.length>0,L=Q.length>0?Q:e.findUs.title;return m.jsx(iT.Provider,{value:i,children:m.jsxs("div",{className:"space-y-6 rounded-[2.5rem] border border-gray-200 bg-slate-50 p-6 shadow-inner",children:[m.jsx(Wo,{zone:"navigation",activeZone:r,children:m.jsx(We,{id:"navigation.style.background",label:"Modifier le fond de la navigation",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:m.jsx("header",{className:"login-header",style:o,children:m.jsxs("div",{className:"layout-container login-header__inner",style:l,children:[m.jsxs("div",{className:"login-brand",style:l,children:[m.jsx(We,{id:"navigation.brandLogo",label:"Modifier le logo principal",onEdit:n,as:"span",className:"inline-flex items-center",children:m.jsx("img",{src:u,alt:`Logo ${e.navigation.brand}`,className:"login-brand__logo"})}),m.jsx(We,{id:"navigation.brand",label:"Modifier le nom de la marque",onEdit:n,as:"span",className:"ml-3 inline-flex items-center",buttonClassName:"-right-3 -top-3",children:D("navigation.brand","span",{className:"login-brand__name",style:B("navigation.brand")},e.navigation.brand)})]}),m.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[m.jsx(We,{id:"navigation.links.home",label:"Modifier le lien Accueil",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.home","span",{className:"login-nav__link",style:$("navigation.links.home")},e.navigation.links.home)}),m.jsx(We,{id:"navigation.links.about",label:"Modifier le lien À propos",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.about","span",{className:"login-nav__link",style:$("navigation.links.about")},e.navigation.links.about)}),m.jsx(We,{id:"navigation.links.menu",label:"Modifier le lien Menu",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.menu","span",{className:"login-nav__link",style:$("navigation.links.menu")},e.navigation.links.menu)}),m.jsx(We,{id:"navigation.links.loginCta",label:"Modifier le bouton personnel",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:m.jsx("div",{className:"login-nav__staff-btn","aria-label":e.navigation.links.loginCta,role:"img",children:m.jsx(We,{id:"navigation.staffLogo",label:"Modifier le logo d'accès staff",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:m.jsx("img",{src:d,alt:"",className:"login-brand__logo","aria-hidden":"true"})})})})]})]})})})}),m.jsx(Wo,{zone:"hero",activeZone:r,children:m.jsx(We,{id:"hero.backgroundImage",label:"Modifier le visuel de fond du hero",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:m.jsx("section",{className:"section section-hero",style:{...f,...p},children:m.jsx("div",{className:"section-hero__inner",children:m.jsxs("div",{className:"hero-content",style:p,children:[m.jsx(We,{id:"hero.title",label:"Modifier le titre du hero",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.title","h2",{className:"hero-title",style:B("hero.title")},e.hero.title)}),m.jsx(We,{id:"hero.subtitle",label:"Modifier le sous-titre du hero",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("hero.subtitle","p",{className:"hero-subtitle",style:$("hero.subtitle")},e.hero.subtitle)}),m.jsx(We,{id:"hero.ctaLabel",label:"Modifier le texte du bouton principal",onEdit:n,className:"mt-6 inline-flex",buttonClassName:"-right-3 -top-3",children:m.jsx("button",{type:"button",className:"ui-btn ui-btn-accent hero-cta",style:{...$("hero.ctaLabel"),...ne("hero.ctaLabel")},disabled:!0,children:D("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:$("hero.ctaLabel")},e.hero.ctaLabel)})}),m.jsxs("div",{className:"hero-history mt-6",children:[m.jsx(We,{id:"hero.historyTitle",label:"Modifier le titre de l'historique",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.historyTitle","p",{className:"hero-history__title",style:$("hero.historyTitle")},e.hero.historyTitle)}),m.jsx(We,{id:"hero.reorderCtaLabel",label:"Modifier le bouton de réassort",onEdit:n,className:"hero-history__list",buttonClassName:"right-2 top-2",children:m.jsx(m.Fragment,{children:[0,1,2].map(F=>m.jsxs("div",{className:"hero-history__item",children:[m.jsxs("div",{className:"hero-history__meta",children:[m.jsx("p",{className:"hero-history__date",style:g,children:"Pedido del 12/03/2024"}),m.jsxs("p",{className:"hero-history__details",style:g,children:["2 article(s) • ",Re(32e3)]})]}),m.jsx("button",{type:"button",className:"hero-history__cta",style:{...$("hero.reorderCtaLabel"),...ne("hero.reorderCtaLabel")},disabled:!0,children:D("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:$("hero.reorderCtaLabel")},e.hero.reorderCtaLabel)})]},F))})})]})]})})})})}),m.jsx(Wo,{zone:"about",activeZone:r,children:m.jsx(We,{id:"about.style.background",label:"Modifier le fond de la section À propos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:m.jsx("section",{className:"section section-surface",style:{...v,...w},children:m.jsxs("div",{className:"section-inner section-inner--center",style:w,children:[m.jsx(We,{id:"about.title",label:"Modifier le titre À propos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("about.title","h2",{className:"section-title",style:B("about.title")},e.about.title)}),m.jsx(We,{id:"about.description",label:"Modifier la description À propos",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("about.description","p",{className:"section-text section-text--muted",style:$("about.description")},e.about.description)}),e.about.image&&m.jsx(We,{id:"about.image",label:"Modifier l'image À propos",onEdit:n,className:"mt-6 block",buttonClassName:"right-4 top-4",children:m.jsx("img",{src:e.about.image,alt:e.about.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})})]})})})}),m.jsx(Wo,{zone:"menu",activeZone:r,children:m.jsx(We,{id:"menu.style.background",label:"Modifier le fond de la section Menu",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:m.jsx("section",{className:"section section-muted",style:{...S,..._},children:m.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:_,children:[m.jsx(We,{id:"menu.title",label:"Modifier le titre du menu",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("menu.title","h2",{className:"section-title",style:B("menu.title")},e.menu.title)}),e.menu.image&&m.jsx(We,{id:"menu.image",label:"Modifier l'image du menu",onEdit:n,className:"mb-8 block",buttonClassName:"right-4 top-4",children:m.jsx("img",{src:e.menu.image,alt:e.menu.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})}),m.jsx("div",{className:"menu-grid",children:t.length>0?t.map(F=>{const Y=!!F.image;return m.jsxs("article",{className:"ui-card menu-card",children:[Y?m.jsx("img",{src:F.image,alt:F.nom_produit,className:"h-40 w-full rounded-t-xl object-cover"}):m.jsx("div",{className:"h-40 w-full rounded-t-xl bg-gradient-to-br from-orange-200 via-amber-100 to-orange-50"}),m.jsxs("div",{className:"menu-card__body",children:[m.jsx("h3",{className:"menu-card__title",style:_,children:F.nom_produit}),F.description&&m.jsx("p",{className:"menu-card__description",style:j,children:F.description}),m.jsx("p",{className:"menu-card__price",style:j,children:Re(F.prix_vente)})]})]},F.id)}):m.jsx("div",{className:"col-span-full rounded-2xl border border-dashed border-slate-300 bg-white/70 p-6 text-center",children:m.jsx("p",{className:"text-sm text-slate-500",style:j,children:"Aucun best seller sélectionné pour le moment."})})}),m.jsx(We,{id:"menu.ctaLabel",label:"Modifier le bouton de commande",onEdit:n,className:"section-actions mt-8",buttonClassName:"right-2 top-2",children:m.jsxs("div",{className:"section-actions",children:[m.jsx("button",{type:"button",className:"ui-btn ui-btn-primary hero-cta",style:{...$("menu.ctaLabel"),...ne("menu.ctaLabel")},disabled:!0,children:D("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:$("menu.ctaLabel")},e.menu.ctaLabel)}),m.jsx(We,{id:"menu.loadingLabel",label:"Modifier le texte de chargement",onEdit:n,className:"ml-4 inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("menu.loadingLabel","p",{className:"section-text section-text--muted",style:$("menu.loadingLabel")},e.menu.loadingLabel)})]})})]})})})}),m.jsx(Wo,{zone:"findUs",activeZone:r,children:m.jsx(We,{id:"findUs.style.background",label:"Modifier le fond de la section Encuéntranos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:m.jsx("section",{className:"section section-surface",style:{...N,...E},children:m.jsxs("div",{className:"find-us-grid",style:E,children:[m.jsxs("div",{className:"find-us-panel",style:E,children:[m.jsx(We,{id:"findUs.title",label:"Modifier le titre Encuéntranos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.title","h2",{className:"section-title",style:B("findUs.title")},e.findUs.title)}),m.jsxs("div",{className:"find-us-details",children:[m.jsxs("div",{className:"find-us-detail",style:E,children:[m.jsx(Eh,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[m.jsx(We,{id:"findUs.addressLabel",label:"Modifier le libellé de l'adresse",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.addressLabel","h3",{className:"find-us-detail__title",style:B("findUs.addressLabel")},e.findUs.addressLabel)}),m.jsx(We,{id:"findUs.address",label:"Modifier l'adresse",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.address","p",{className:"find-us-detail__text",style:$("findUs.address")},e.findUs.address)})]})]}),m.jsxs("div",{className:"find-us-detail",style:E,children:[m.jsx(jh,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[m.jsx(We,{id:"findUs.hoursLabel",label:"Modifier le libellé des horaires",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:B("findUs.hoursLabel")},e.findUs.hoursLabel)}),m.jsx(We,{id:"findUs.hours",label:"Modifier les horaires",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.hours","p",{className:"find-us-detail__text",style:$("findUs.hours")},e.findUs.hours)})]})]}),m.jsxs("div",{className:"find-us-detail",style:E,children:[m.jsx(SA,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[m.jsx(We,{id:"findUs.cityLabel",label:"Modifier le libellé de l'email",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.cityLabel","h3",{className:"find-us-detail__title",style:B("findUs.cityLabel")},e.findUs.cityLabel)}),m.jsx(We,{id:"findUs.city",label:"Modifier l'email",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.city","p",{className:"find-us-detail__text",style:$("findUs.city")},e.findUs.city)})]})]})]})]}),m.jsx("div",{className:"find-us-map",style:E,children:M?m.jsxs("div",{className:"find-us-map__frame",children:[m.jsx("iframe",{title:`Carte Google Maps pour ${L}`,src:se,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),m.jsx("a",{className:"find-us-map__link",href:pe,target:"_blank",rel:"noopener noreferrer",children:m.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libellé du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:$("findUs.mapLabel")},e.findUs.mapLabel)})})]}):m.jsx("div",{className:"find-us-map__placeholder",children:m.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libellé du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:$("findUs.mapLabel")},e.findUs.mapLabel)})})})]})})})}),m.jsx(Wo,{zone:"footer",activeZone:r,children:m.jsx(We,{id:"footer.style.background",label:"Modifier le fond du pied de page",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:m.jsx("footer",{className:"site-footer",style:{...C,...A},children:m.jsx("div",{className:"layout-container site-footer__inner",style:A,children:m.jsx(We,{id:"footer.text",label:"Modifier le texte du pied de page",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:m.jsxs("p",{style:$("footer.text"),children:["© ",new Date().getFullYear()," ",e.navigation.brand,"."," ",D("footer.text","span",{style:$("footer.text")},e.footer.text)]})})})})})})]})})},Iy=e=>e==="editor"||e==="readonly",pb=e=>{if(!e)return null;const{homePage:t,permissions:n}=e;if(t&&Iy(n==null?void 0:n[t]))return t;const r=Qn.find(i=>Iy(n==null?void 0:n[i.permissionKey]));return r?r.href:null},Uy="/logo-brand.svg",Xo=()=>({background:{type:"color",color:"#ffffff",image:null},fontFamily:"inherit",fontSize:"16px",textColor:"#000000"}),$z={navigation:{brand:"",brandLogo:Uy,links:{home:"",about:"",menu:"",loginCta:""},style:Xo()},hero:{title:"",subtitle:"",ctaLabel:"",backgroundImage:null,historyTitle:"",reorderCtaLabel:"",style:Xo()},about:{title:"",description:"",image:null,style:Xo()},menu:{title:"",ctaLabel:"",loadingLabel:"",image:null,style:Xo()},instagramReviews:JSON.parse(JSON.stringify(Lf.instagramReviews)),findUs:{title:"",addressLabel:"",address:"",cityLabel:"",city:"",hoursLabel:"",hours:"",mapLabel:"",mapUrl:"",style:Xo()},footer:{text:"",style:Xo()},elementStyles:{},elementRichText:{},assets:{library:[]}},sT=sn.forwardRef(({pin:e,onPinChange:t,pinLength:n,describedBy:r,disabled:i},o)=>{const l=g=>{e.length<n&&!i&&t(e+g)},u=()=>{e.length>0&&!i&&t(e.slice(0,-1))},d=g=>{if(i)return;const v=g.target.value.replace(/\D/g,"").slice(0,n);t(v)},f=g=>{if(/^\d$/.test(g.key)){g.preventDefault(),l(g.key);return}if(g.key==="Backspace"){g.preventDefault(),u();return}g.key==="Escape"&&(g.preventDefault(),t(""))},p=e.length===0?`Aucun chiffre saisi. Vous pouvez entrer ${n} chiffres.`:`${e.length} ${e.length>1?"chiffres saisis":"chiffre saisi"} sur ${n}.`;return m.jsxs("div",{className:"pin-input","aria-label":"Clavier numérique sécurisé",children:[m.jsx("input",{ref:o,id:"staff-pin-field",type:"password",inputMode:"numeric",autoComplete:"one-time-code",className:"pin-input__field",value:e,onChange:d,onKeyDown:f,"aria-describedby":r,"aria-label":`Code PIN à ${n} chiffres`,disabled:i,"aria-disabled":i,"aria-busy":i}),m.jsx("div",{className:"pin-indicator",role:"presentation",children:Array.from({length:n}).map((g,v)=>m.jsx("div",{className:"pin-indicator__slot","aria-hidden":"true",children:e[v]?"•":""},v))}),m.jsx("div",{className:"pin-input__live","aria-live":"polite",children:p}),m.jsxs("div",{className:"pin-pad",children:[[...Array(9)].map((g,v)=>m.jsx("button",{type:"button",onClick:()=>l(String(v+1)),className:"pin-pad__button",disabled:i,children:v+1},v+1)),m.jsx("div",{"aria-hidden":"true"}),m.jsx("button",{type:"button",onClick:()=>l("0"),className:"pin-pad__button",disabled:i,children:"0"}),m.jsx("button",{type:"button",onClick:u,className:"pin-pad__button pin-pad__button--muted",disabled:i,children:"DEL"})]})]})});sT.displayName="PinInput";const zz=e=>e===1?"menu-grid menu-grid--single":e===2?"menu-grid menu-grid--double":e===3?"menu-grid menu-grid--triple":e>=6?"menu-grid menu-grid--six":e>0?"menu-grid menu-grid--multi":"menu-grid",Bz=e=>{const t="ui-card menu-card";return e===1?`${t} menu-card--single`:e===2?`${t} menu-card--double`:e===3?`${t} menu-card--triple`:e>=6?`${t} menu-card--compact`:t},qz=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(""),[i,o]=b.useState(""),[l,u]=b.useState(!1),d=b.useRef(null),{login:f}=ma(),p=qi(),{content:g}=ub(),[v,w]=b.useState(()=>g);b.useEffect(()=>{g&&w(g)},[g]);const S=v??$z;fb(S.assets.library);const{navigation:_,hero:j,about:N,menu:E,findUs:C,footer:A}=S,T=_.brandLogo??Uy,P=_.brandLogo??Uy,R=Mr(_.style),D=Pr(_.style),H=hb(j.style,j.backgroundImage),z=Pr(j.style),B=Ri(j.style),$=Mr(N.style),ne=Pr(N.style),Q=Mr(E.style),re=Pr(E.style),I=Ri(E.style),V=Mr(C.style),ie=Pr(C.style),pe=Mr(A.style),se=Ri(A.style),M=S.elementStyles??{},L={navigation:_.style,hero:j.style,about:N.style,menu:E.style,instagramReviews:S.instagramReviews.style,findUs:C.style,footer:A.style},F=Te=>M[Te],Y=Te=>{const it=Ba(Te);return mb(L[it],F(Te))},J=Te=>{const it=Ba(Te);return nT(L[it],F(Te))},G=Te=>{const it=Ba(Te);return rT(L[it],F(Te))},de=S.elementRichText??{},be=Te=>{var dn;const it=de[Te],$t=(dn=it==null?void 0:it.html)==null?void 0:dn.trim();return $t&&$t.length>0?$t:null},Z=(Te,it,$t,dn)=>{const zr=be(Te);return zr?sn.createElement(it,{...$t,dangerouslySetInnerHTML:{__html:zr}}):sn.createElement(it,$t,dn)},[ye,Se]=b.useState([]),[ue,mt]=b.useState([]),[De,pt]=b.useState(!0),[yt,Tt]=b.useState(!1),[An,Dt]=b.useState(()=>ob()),Lt=b.useCallback(async Te=>{u(!0),o("");try{const it=await f(Te),$t=pb(it)??"/dashboard";t(!1),r(""),p($t)}catch(it){console.error("Failed to authenticate with PIN",it);const $t=it instanceof Error&&it.message?it.message:"PIN invalide";o($t),r(""),requestAnimationFrame(()=>{var dn;(dn=d.current)==null||dn.focus()})}finally{u(!1)}},[f,p]);b.useEffect(()=>{if(!e)return;const Te=window.setTimeout(()=>{var it;(it=d.current)==null||it.focus()},0);return()=>window.clearTimeout(Te)},[e]),b.useEffect(()=>{n.length===6&&!l&&Lt(n)},[n,l,Lt]),b.useEffect(()=>{if(!(typeof window>"u"))try{const Te=window.localStorage.getItem("customer-order-history");if(!Te)return;const it=JSON.parse(Te);Array.isArray(it)&&mt(it)}catch(Te){console.error("Could not load order history",Te)}},[]),b.useEffect(()=>{let Te=!0;return(async()=>{try{const $t=await je.getBestSellerProducts();Te&&Se($t)}catch($t){console.error("Could not load best seller products",$t)}finally{Te&&pt(!1)}})(),()=>{Te=!1}},[]);const Kt=C.address.trim(),fe=C.mapUrl,me=typeof fe=="string"?fe.trim():"",Pe=me.length>0,at=!Pe&&Kt.length>0?encodeURIComponent(Kt):"",Ft=Pe?me:at?`https://www.google.com/maps?q=${at}`:"https://www.google.com/maps",zn=Pe?aT(me,"output","embed"):at?`https://www.google.com/maps?q=${at}&output=embed`:"about:blank",he=Pe||at.length>0,ge=Kt.length>0?Kt:C.title,Ae=(An==null?void 0:An.orderId)??null,rt=ye.slice(0,6),Xe=rt.length,kt=zz(Xe),Ue=Bz(Xe),tt=Te=>{Te.preventDefault(),n.length===6&&!l&&Lt(n)},bt=()=>{cb(),Dt(null)},Mt=Te=>{localStorage.setItem("customer-order-reorder-id",Te),p("/commande-client")};return m.jsxs("div",{className:"login-page",children:[m.jsx("header",{className:"login-header",style:R,children:m.jsxs("div",{className:"layout-container login-header__inner",style:D,children:[m.jsxs("div",{className:"login-brand",style:D,children:[m.jsx("img",{src:T,alt:`Logo ${_.brand}`,className:"login-brand__logo"}),Z("navigation.brand","span",{className:"login-brand__name",style:Y("navigation.brand")},_.brand)]}),m.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[Z("navigation.links.home","a",{href:"#accueil",className:"login-nav__link",style:J("navigation.links.home")},_.links.home),Z("navigation.links.about","a",{href:"#apropos",className:"login-nav__link",style:J("navigation.links.about")},_.links.about),Z("navigation.links.menu","a",{href:"#menu",className:"login-nav__link",style:J("navigation.links.menu")},_.links.menu),m.jsx("button",{type:"button",onClick:()=>t(!0),className:"login-nav__staff-btn","aria-label":_.links.loginCta,children:m.jsx("img",{src:P,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]}),m.jsx("button",{type:"button",onClick:()=>Tt(!0),className:"login-header__menu","aria-label":"Ouvrir le menu",children:m.jsx(jA,{size:24})})]})}),yt&&m.jsxs("div",{className:"login-menu-overlay",role:"dialog","aria-modal":"true",style:R,children:[m.jsx("button",{type:"button",onClick:()=>Tt(!1),className:"login-menu-overlay__close","aria-label":"Fermer le menu",children:m.jsx(jl,{size:28})}),m.jsxs("nav",{className:"login-menu-overlay__nav","aria-label":"Navigation mobile",style:D,children:[Z("navigation.links.home","a",{href:"#accueil",onClick:()=>Tt(!1),className:"login-menu-overlay__link",style:J("navigation.links.home")},_.links.home),Z("navigation.links.about","a",{href:"#apropos",onClick:()=>Tt(!1),className:"login-menu-overlay__link",style:J("navigation.links.about")},_.links.about),Z("navigation.links.menu","a",{href:"#menu",onClick:()=>Tt(!1),className:"login-menu-overlay__link",style:J("navigation.links.menu")},_.links.menu),m.jsx("button",{type:"button",onClick:()=>{t(!0),Tt(!1)},className:"login-nav__staff-btn login-menu-overlay__staff-btn","aria-label":_.links.loginCta,children:m.jsx("img",{src:P,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]})]}),m.jsxs("main",{children:[m.jsx("section",{id:"accueil",className:"section section-hero",style:{...H,...z},children:m.jsx("div",{className:"section-hero__inner",children:Ae?m.jsx(eT,{orderId:Ae,onNewOrderClick:bt,variant:"hero"}):m.jsxs("div",{className:"hero-content",style:z,children:[Z("hero.title","h2",{className:"hero-title",style:Y("hero.title")},j.title),Z("hero.subtitle","p",{className:"hero-subtitle",style:J("hero.subtitle")},j.subtitle),m.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-accent hero-cta",style:{...J("hero.ctaLabel"),...G("hero.ctaLabel")},children:Z("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:J("hero.ctaLabel")},j.ctaLabel)}),ue.length>0&&m.jsxs("div",{className:"hero-history",children:[Z("hero.historyTitle","p",{className:"hero-history__title",style:J("hero.historyTitle")},j.historyTitle),m.jsx("div",{className:"hero-history__list",children:ue.slice(0,3).map(Te=>m.jsxs("div",{className:"hero-history__item",children:[m.jsxs("div",{className:"hero-history__meta",children:[m.jsxs("p",{className:"hero-history__date",style:B,children:["Pedido del ",new Date(Te.date_creation).toLocaleDateString()]}),m.jsxs("p",{className:"hero-history__details",style:B,children:[Te.items.length," article(s) • ",Re(Te.total)]})]}),m.jsx("button",{type:"button",onClick:()=>Mt(Te.id),className:"hero-history__cta",style:{...J("hero.reorderCtaLabel"),...G("hero.reorderCtaLabel")},children:Z("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:J("hero.reorderCtaLabel")},j.reorderCtaLabel)})]},Te.id))})]})]})})}),m.jsx("section",{id:"apropos",className:"section section-surface",style:{...$,...ne},children:m.jsxs("div",{className:"section-inner section-inner--center",style:ne,children:[Z("about.title","h2",{className:"section-title",style:Y("about.title")},N.title),Z("about.description","p",{className:"section-text section-text--muted",style:J("about.description")},N.description),N.image&&m.jsx("img",{src:N.image,alt:N.title,className:"mt-6 h-64 w-full rounded-xl object-cover shadow-lg"})]})}),m.jsx("section",{id:"menu",className:"section section-muted",style:{...Q,...re},children:m.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:re,children:[Z("menu.title","h2",{className:"section-title",style:Y("menu.title")},E.title),E.image&&m.jsx("img",{src:E.image,alt:E.title,className:"mb-8 h-64 w-full rounded-xl object-cover shadow-lg"}),De?Z("menu.loadingLabel","p",{className:"section-text section-text--muted",style:J("menu.loadingLabel")},E.loadingLabel):rt.length>0?m.jsx("div",{className:kt,children:rt.map(Te=>m.jsxs("article",{className:Ue,children:[m.jsx("img",{src:Te.image,alt:Te.nom_produit,className:"menu-card__media"}),m.jsxs("div",{className:"menu-card__body",children:[m.jsx("h3",{className:"menu-card__title",style:re,children:Te.nom_produit}),m.jsx("p",{className:"menu-card__description",style:I,children:Te.description}),m.jsx("p",{className:"menu-card__price",style:I,children:Re(Te.prix_vente)})]})]},Te.id))}):m.jsx("p",{className:"section-text section-text--muted",style:I,children:"Aucun produit best seller n'est disponible pour le moment."}),m.jsx("div",{className:"section-actions",children:m.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-primary hero-cta",style:{...J("menu.ctaLabel"),...G("menu.ctaLabel")},children:Z("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:J("menu.ctaLabel")},E.ctaLabel)})})]})}),m.jsx("section",{id:"find-us",className:"section section-surface",style:{...V,...ie},children:m.jsxs("div",{className:"section-inner section-inner--wide find-us-grid",style:ie,children:[m.jsxs("div",{className:"find-us-panel",style:ie,children:[Z("findUs.title","h2",{className:"section-title",style:Y("findUs.title")},C.title),m.jsxs("div",{className:"find-us-details",children:[m.jsxs("div",{className:"find-us-detail",style:ie,children:[m.jsx(Eh,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[Z("findUs.addressLabel","h3",{className:"find-us-detail__title",style:Y("findUs.addressLabel")},C.addressLabel),Z("findUs.address","p",{className:"find-us-detail__text",style:J("findUs.address")},C.address)]})]}),m.jsxs("div",{className:"find-us-detail",style:ie,children:[m.jsx(jh,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[Z("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:Y("findUs.hoursLabel")},C.hoursLabel),Z("findUs.hours","p",{className:"find-us-detail__text",style:J("findUs.hours")},C.hours)]})]}),m.jsxs("div",{className:"find-us-detail",style:ie,children:[m.jsx(SA,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[Z("findUs.cityLabel","h3",{className:"find-us-detail__title",style:Y("findUs.cityLabel")},C.cityLabel),Z("findUs.city","p",{className:"find-us-detail__text",style:J("findUs.city")},C.city)]})]})]})]}),m.jsx("div",{className:"find-us-map",style:ie,children:he?m.jsxs("div",{className:"find-us-map__frame",children:[m.jsx("iframe",{title:`Carte Google Maps pour ${ge}`,src:zn,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),m.jsx("a",{className:"find-us-map__link",href:Ft,target:"_blank",rel:"noopener noreferrer",children:Z("findUs.mapLabel","span",{className:"find-us-map__label",style:J("findUs.mapLabel")},C.mapLabel)})]}):m.jsx("div",{className:"find-us-map__placeholder",children:Z("findUs.mapLabel","span",{className:"find-us-map__label",style:J("findUs.mapLabel")},C.mapLabel)})})]})})]}),m.jsx("footer",{className:"site-footer",style:{...pe,...se},children:m.jsx("div",{className:"layout-container site-footer__inner",style:se,children:m.jsxs("p",{style:J("footer.text"),children:["© ",new Date().getFullYear()," ",_.brand,"."," ",Z("footer.text","span",{style:J("footer.text")},A.text)]})})}),m.jsx(yn,{isOpen:e,onClose:()=>{t(!1),r(""),o("")},title:"Connexion du personnel",size:"lg",children:m.jsx("div",{className:"login-modal",children:m.jsx("form",{onSubmit:tt,className:"login-modal__form","aria-describedby":i?"staff-pin-error":void 0,children:m.jsxs("div",{className:"login-modal__panel",children:[m.jsx(sT,{ref:d,pin:n,onPinChange:r,pinLength:6,describedBy:i?"staff-pin-error":void 0,disabled:l}),i&&m.jsx("p",{id:"staff-pin-error",className:"login-modal__error",role:"alert","aria-live":"assertive",children:i})]})})})})]})};function oT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oT(e))&&(r&&(r+=" "),r+=t);return r}var Ug={},$g={},pE;function Hz(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})($g)),$g}var zg={},gE;function lT(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(zg)),zg}var Bg={},vE;function cT(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Bg)),Bg}var qg={},yE;function gb(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,l="",u="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const f=n[o];u?f==="\\"&&o+1<i?(o++,l+=n[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,r.push(l),l=""):l+=f:f==="["?(d=!0,l&&(r.push(l),l="")):f==="."?l&&(r.push(l),l=""):l+=f,o++}return l&&r.push(l),r}e.toPath=t})(qg)),qg}var bE;function vb(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz(),n=lT(),r=cT(),i=gb();function o(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?n.isDeepKey(d)?o(u,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?f:p}}}function l(u,d,f){if(d.length===0)return f;let p=u;for(let g=0;g<d.length;g++){if(p==null||t.isUnsafeProperty(d[g]))return f;p=p[d[g]]}return p===void 0?f:p}e.get=o})(Ug)),Ug}var Hg,xE;function Kz(){return xE||(xE=1,Hg=vb().get),Hg}var Fz=Kz();const Is=Xr(Fz);var Kg={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function Gz(){if(wE)return ht;wE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function S(_){if(typeof _=="object"&&_!==null){var j=_.$$typeof;switch(j){case e:switch(_=_.type,_){case n:case i:case r:case d:case f:case v:return _;default:switch(_=_&&_.$$typeof,_){case l:case u:case g:case p:return _;case o:return _;default:return j}}case t:return j}}}return ht.ContextConsumer=o,ht.ContextProvider=l,ht.Element=e,ht.ForwardRef=u,ht.Fragment=n,ht.Lazy=g,ht.Memo=p,ht.Portal=t,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(_){return S(_)===o},ht.isContextProvider=function(_){return S(_)===l},ht.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},ht.isForwardRef=function(_){return S(_)===u},ht.isFragment=function(_){return S(_)===n},ht.isLazy=function(_){return S(_)===g},ht.isMemo=function(_){return S(_)===p},ht.isPortal=function(_){return S(_)===t},ht.isProfiler=function(_){return S(_)===i},ht.isStrictMode=function(_){return S(_)===r},ht.isSuspense=function(_){return S(_)===d},ht.isSuspenseList=function(_){return S(_)===f},ht.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===d||_===f||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===l||_.$$typeof===o||_.$$typeof===u||_.$$typeof===w||_.getModuleId!==void 0)},ht.typeOf=S,ht}var _E;function Yz(){return _E||(_E=1,Kg.exports=Gz()),Kg.exports}var Vz=Yz(),gn=e=>e===0?0:e>0?1:-1,hr=e=>typeof e=="number"&&e!=+e,Cs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ne=e=>(typeof e=="number"||e instanceof Number)&&!hr(e),fa=e=>Ne(e)||typeof e=="string",Wz=0,tu=e=>{var t=++Wz;return"".concat(e||"").concat(t)},Pn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&typeof t!="string")return r;var o;if(Cs(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return hr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},uT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Cn(e,t,n){return Ne(e)&&Ne(t)?e+n*(t-e):t}function Xz(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Is(r,t))===n)}var vn=e=>e===null||typeof e>"u",yu=e=>vn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Qz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yb(e){if(typeof e!="string")return!1;var t=Qz;return t.includes(e)}var Jz=["viewBox","children"],SE=["points","pathLength"],Fg={svg:Jz,polygon:SE,polyline:SE},Zz=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{yb(i)&&(r[i]=(o=>n[i](n,o)))}),r},e8=(e,t,n)=>r=>(e(t,n,r),null),bu=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];yb(i)&&typeof o=="function"&&(r||(r={}),r[i]=e8(o,t,n))}),r},t8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dT(e){if(typeof e!="string")return!1;var t=t8;return t.includes(e)}function Ki(e){var t=Object.entries(e).filter(n=>{var[r]=n;return dT(r)});return Object.fromEntries(t)}var jE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",EE=null,Gg=null,fT=e=>{if(e===EE&&Array.isArray(Gg))return Gg;var t=[];return b.Children.forEach(e,n=>{vn(n)||(Vz.isFragment(n)?t=t.concat(fT(n.props.children)):t.push(n))}),Gg=t,EE=e,t};function bb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>jE(i)):r=[jE(t)],fT(e).forEach(i=>{var o=Is(i,"type.displayName")||Is(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var n8=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&(Fg==null?void 0:Fg[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&o.includes(t)||dT(t)),d=!!n&&yb(t);return l||u||d},on=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var l;n8((l=r)===null||l===void 0?void 0:l[o],o,t,n)&&(i[o]=r[o])}),i},r8=["children","width","height","viewBox","className","style","title","desc"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(null,arguments)}function a8(e,t){if(e==null)return{};var n,r,i=i8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xb=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:d,desc:f}=e,p=a8(e,r8),g=o||{width:r,height:i,x:0,y:0},v=ct("recharts-surface",l);return b.createElement("svg",$y({},on(p,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),b.createElement("title",null,d),b.createElement("desc",null,f),n)}),s8=["children","className"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}function o8(e,t){if(e==null)return{};var n,r,i=l8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=o8(e,s8),o=ct("recharts-layer",r);return b.createElement("g",zy({className:o},on(i,!0),{ref:t}),n)}),hT=b.createContext(null),c8=()=>b.useContext(hT);function wt(e){return function(){return e}}const mT=Math.cos,If=Math.sin,Jr=Math.sqrt,Uf=Math.PI,Nh=2*Uf,By=Math.PI,qy=2*By,ys=1e-6,u8=qy-ys;function pT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function d8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pT;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class f8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pT:d8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,p=l-t,g=u-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ys)if(!(Math.abs(g*d-f*p)>ys)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-l,S=i-u,_=d*d+f*f,j=w*w+S*S,N=Math.sqrt(_),E=Math.sqrt(v),C=o*Math.tan((By-Math.acos((_+v-j)/(2*N*E)))/2),A=C/E,T=C/N;Math.abs(A-1)>ys&&this._append`L${t+A*p},${n+A*g}`,this._append`A${o},${o},0,0,${+(g*w>p*S)},${this._x1=t+T*d},${this._y1=n+T*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,p=n+d,g=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ys||Math.abs(this._y1-p)>ys)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%qy+qy),v>u8?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:v>ys&&this._append`A${r},${r},0,${+(v>=By)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new f8(t)}function _b(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gT(e){this._context=e}gT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ch(e){return new gT(e)}function vT(e){return e[0]}function yT(e){return e[1]}function bT(e,t){var n=wt(!0),r=null,i=Ch,o=null,l=wb(u);e=typeof e=="function"?e:e===void 0?vT:wt(e),t=typeof t=="function"?t:t===void 0?yT:wt(t);function u(d){var f,p=(d=_b(d)).length,g,v=!1,w;for(r==null&&(o=i(w=l())),f=0;f<=p;++f)!(f<p&&n(g=d[f],f,d))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(g,f,d),+t(g,f,d));if(w)return o=null,w+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:wt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:wt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:wt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function tf(e,t,n){var r=null,i=wt(!0),o=null,l=Ch,u=null,d=wb(f);e=typeof e=="function"?e:e===void 0?vT:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?yT:wt(+n);function f(g){var v,w,S,_=(g=_b(g)).length,j,N=!1,E,C=new Array(_),A=new Array(_);for(o==null&&(u=l(E=d())),v=0;v<=_;++v){if(!(v<_&&i(j=g[v],v,g))===N)if(N=!N)w=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=w;--S)u.point(C[S],A[S]);u.lineEnd(),u.areaEnd()}N&&(C[v]=+e(j,v,g),A[v]=+t(j,v,g),u.point(r?+r(j,v,g):C[v],n?+n(j,v,g):A[v]))}if(E)return u=null,E+""||null}function p(){return bT().defined(i).curve(l).context(o)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:wt(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:wt(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:wt(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:wt(+g),n=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:wt(+g),f):t},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:wt(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:wt(!!g),f):i},f.curve=function(g){return arguments.length?(l=g,o!=null&&(u=l(o)),f):l},f.context=function(g){return arguments.length?(g==null?o=u=null:u=l(o=g),f):o},f}class xT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function h8(e){return new xT(e,!0)}function m8(e){return new xT(e,!1)}const Sb={draw(e,t){const n=Jr(t/Uf);e.moveTo(n,0),e.arc(0,0,n,0,Nh)}},p8={draw(e,t){const n=Jr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wT=Jr(1/3),g8=wT*2,v8={draw(e,t){const n=Jr(t/g8),r=n*wT;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},y8={draw(e,t){const n=Jr(t),r=-n/2;e.rect(r,r,n,n)}},b8=.8908130915292852,_T=If(Uf/10)/If(7*Uf/10),x8=If(Nh/10)*_T,w8=-mT(Nh/10)*_T,_8={draw(e,t){const n=Jr(t*b8),r=x8*n,i=w8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=Nh*o/5,u=mT(l),d=If(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},Yg=Jr(3),S8={draw(e,t){const n=-Jr(t/(Yg*3));e.moveTo(0,n*2),e.lineTo(-Yg*n,-n),e.lineTo(Yg*n,-n),e.closePath()}},Nr=-.5,Cr=Jr(3)/2,Hy=1/Jr(12),j8=(Hy/2+1)*3,E8={draw(e,t){const n=Jr(t/j8),r=n/2,i=n*Hy,o=r,l=n*Hy+n,u=-o,d=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(Nr*r-Cr*i,Cr*r+Nr*i),e.lineTo(Nr*o-Cr*l,Cr*o+Nr*l),e.lineTo(Nr*u-Cr*d,Cr*u+Nr*d),e.lineTo(Nr*r+Cr*i,Nr*i-Cr*r),e.lineTo(Nr*o+Cr*l,Nr*l-Cr*o),e.lineTo(Nr*u+Cr*d,Nr*d-Cr*u),e.closePath()}};function O8(e,t){let n=null,r=wb(i);e=typeof e=="function"?e:wt(e||Sb),t=typeof t=="function"?t:wt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:wt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:wt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function $f(){}function zf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ST(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N8(e){return new ST(e)}function jT(e){this._context=e}jT.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C8(e){return new jT(e)}function ET(e){this._context=e}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A8(e){return new ET(e)}function OT(e){this._context=e}OT.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T8(e){return new OT(e)}function OE(e){return e<0?-1:1}function NE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(OE(o)+OE(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function CE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Vg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function Bf(e){this._context=e}Bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vg(this,this._t0,CE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vg(this,CE(this,n=NE(this,e,t)),n);break;default:Vg(this,this._t0,n=NE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function NT(e){this._context=new CT(e)}(NT.prototype=Object.create(Bf.prototype)).point=function(e,t){Bf.prototype.point.call(this,t,e)};function CT(e){this._context=e}CT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function k8(e){return new Bf(e)}function M8(e){return new NT(e)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=AE(e),i=AE(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AE(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function P8(e){return new AT(e)}function Ah(e,t){this._context=e,this._t=t}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function R8(e){return new Ah(e,.5)}function D8(e){return new Ah(e,0)}function L8(e){return new Ah(e,1)}function ol(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ky(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function I8(e,t){return e[t]}function U8(e){const t=[];return t.key=e,t}function $8(){var e=wt([]),t=Ky,n=ol,r=I8;function i(o){var l=Array.from(e.apply(this,arguments),U8),u,d=l.length,f=-1,p;for(const g of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(g,l[u].key,f,o)]).data=g;for(u=0,p=_b(t(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:wt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:wt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Ky:typeof o=="function"?o:wt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ol,i):n},i}function z8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ol(e,t)}}function B8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}ol(e,t)}}function q8(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],g=p[r][1]||0,v=p[r-1][1]||0,w=(g-v)/2,S=0;S<u;++S){var _=e[t[S]],j=_[r][1]||0,N=_[r-1][1]||0;w+=j-N}d+=g,f+=w*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,ol(e,t)}}var H8=["type","size","sizeType"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){K8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K8(e,t,n){return(t=F8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y8(e,t){if(e==null)return{};var n,r,i=V8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TT={symbolCircle:Sb,symbolCross:p8,symbolDiamond:v8,symbolSquare:y8,symbolStar:_8,symbolTriangle:S8,symbolWye:E8},W8=Math.PI/180,X8=e=>{var t="symbol".concat(yu(e));return TT[t]||Sb},Q8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*W8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},J8=(e,t)=>{TT["symbol".concat(yu(e))]=t},jb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Y8(e,H8),o=kE(kE({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=X8(l),w=O8().type(v).size(Q8(n,r,l));return w()},{className:d,cx:f,cy:p}=o,g=on(o,!0);return f===+f&&p===+p&&n===+n?b.createElement("path",Fy({},g,{className:ct("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};jb.registerSymbol=J8;function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(r){Eb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eb(e,t,n){return(t=eB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ar=32;class Ob extends b.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Ar/2,o=Ar/6,l=Ar/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Ar,y2:i,className:"recharts-legend-icon"});if(d==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ar,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return b.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ar/8,"h").concat(Ar,"v").concat(Ar*3/4,"h").concat(-Ar,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var f=Z8({},t);return delete f.legendIcon,b.cloneElement(t.legendIcon,f)}return b.createElement(jb,{fill:u,cx:i,cy:i,size:Ar,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,u={x:0,y:0,width:Ar,height:Ar},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,w=ct({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?o:p.color,_=v?v(p.value,p,g):p.value;return b.createElement("li",Gy({className:w,style:d,key:"legend-item-".concat(g)},bu(this.props,p,g)),b.createElement(xb,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(_," legend icon")},this.renderIcon(p,l)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},_))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Eb(Ob,"displayName","Legend");Eb(Ob,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Wg={},Xg={},PE;function nB(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Xg)),Xg}var Qg={},RE;function kT(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Qg)),Qg}var Jg={},Zg={},ev={},DE;function rB(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ev)),ev}var LE;function Nb(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rB();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Zg)),Zg}var tv={},IE;function aB(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(tv)),tv}var UE;function iB(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nb(),n=aB();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Jg)),Jg}var nv={},rv={},$E;function sB(){return $E||($E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(rv)),rv}var av={},iv={},sv={},ov={},zE;function MT(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ov)),ov}var lv={},BE;function PT(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(lv)),lv}var cv={},qE;function RT(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(cv)),cv}var HE;function oB(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb(),n=MT(),r=PT(),i=RT();function o(g,v,w){return typeof w!="function"?t.isMatch(g,v):l(g,v,function S(_,j,N,E,C,A){const T=w(_,j,N,E,C,A);return T!==void 0?!!T:l(_,j,S,A)},new Map)}function l(g,v,w,S){if(v===g)return!0;switch(typeof v){case"object":return u(g,v,w,S);case"function":return Object.keys(v).length>0?l(g,{...v},w,S):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function u(g,v,w,S){if(v==null)return!0;if(Array.isArray(v))return f(g,v,w,S);if(v instanceof Map)return d(g,v,w,S);if(v instanceof Set)return p(g,v,w,S);const _=Object.keys(v);if(g==null)return _.length===0;if(_.length===0)return!0;if(S&&S.has(v))return S.get(v)===g;S&&S.set(v,g);try{for(let j=0;j<_.length;j++){const N=_[j];if(!r.isPrimitive(g)&&!(N in g)||v[N]===void 0&&g[N]!==void 0||v[N]===null&&g[N]!==null||!w(g[N],v[N],N,g,v,S))return!1}return!0}finally{S&&S.delete(v)}}function d(g,v,w,S){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[_,j]of v.entries()){const N=g.get(_);if(w(N,j,_,g,v,S)===!1)return!1}return!0}function f(g,v,w,S){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const _=new Set;for(let j=0;j<v.length;j++){const N=v[j];let E=!1;for(let C=0;C<g.length;C++){if(_.has(C))continue;const A=g[C];let T=!1;if(w(A,N,j,g,v,S)&&(T=!0),T){_.add(C),E=!0;break}}if(!E)return!1}return!0}function p(g,v,w,S){return v.size===0?!0:g instanceof Set?f([...g],[...v],w,S):!1}e.isMatchWith=o,e.isSetMatch=p})(sv)),sv}var KE;function Cb(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oB();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(iv)),iv}var uv={},dv={},fv={},FE;function lB(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(fv)),fv}var hv={},GE;function DT(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(hv)),hv}var mv={},YE;function LT(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",w="[object Object]",S="[object Error]",_="[object DataView]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",C="[object Uint32Array]",A="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",D="[object BigInt64Array]",H="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=A,e.booleanTag=i,e.dataViewTag=_,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=H,e.float64ArrayTag=z,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=R,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=r,e.objectTag=w,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=C,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=N})(mv)),mv}var pv={},VE;function cB(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(pv)),pv}var WE;function IT(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lB(),n=DT(),r=LT(),i=PT(),o=cB();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,v,w=new Map,S=void 0){const _=S==null?void 0:S(p,g,v,w);if(_!==void 0)return _;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const j=new Array(p.length);w.set(p,j);for(let N=0;N<p.length;N++)j[N]=u(p[N],N,v,w,S);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;w.set(p,j);for(const[N,E]of p)j.set(N,u(E,N,v,w,S));return j}if(p instanceof Set){const j=new Set;w.set(p,j);for(const N of p)j.add(u(N,void 0,v,w,S));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,j);for(let N=0;N<p.length;N++)j[N]=u(p[N],N,v,w,S);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,j),d(j,p,v,w,S),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return w.set(p,j),d(j,p,v,w,S),j}if(p instanceof Blob){const j=new Blob([p],{type:p.type});return w.set(p,j),d(j,p,v,w,S),j}if(p instanceof Error){const j=new p.constructor;return w.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,d(j,p,v,w,S),j}if(typeof p=="object"&&f(p)){const j=Object.create(Object.getPrototypeOf(p));return w.set(p,j),d(j,p,v,w,S),j}return p}function d(p,g,v=p,w,S){const _=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<_.length;j++){const N=_[j],E=Object.getOwnPropertyDescriptor(p,N);(E==null||E.writable)&&(p[N]=u(g[N],N,v,w,S))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(dv)),dv}var XE;function uB(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(uv)),uv}var QE;function dB(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb(),n=uB();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(av)),av}var gv={},vv={},yv={},JE;function fB(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),n=LT();function r(i,o){return t.cloneDeepWith(i,(l,u,d,f)=>{const p=o==null?void 0:o(l,u,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(yv)),yv}var ZE;function hB(){return ZE||(ZE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fB();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(vv)),vv}var bv={},xv={},eO;function UT(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(xv)),xv}var wv={},tO;function mB(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(wv)),wv}var nO;function pB(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT(),n=UT(),r=mB(),i=gb();function o(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const g=d[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=o})(bv)),bv}var rO;function gB(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb(),n=cT(),r=hB(),i=vb(),o=pB();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,u);return p===void 0?o.has(f,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(gv)),gv}var aO;function vB(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),n=sB(),r=dB(),i=gB();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(nv)),nv}var iO;function yB(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nB(),n=kT(),r=iB(),i=vB();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(Wg)),Wg}var _v,sO;function bB(){return sO||(sO=1,_v=yB().uniqBy),_v}var xB=bB();const oO=Xr(xB);function $T(e,t,n){return t===!0?oO(e,n):typeof t=="function"?oO(e,t):e}var Sv={exports:{}},jv={},Ev={exports:{}},Ov={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lO;function wB(){if(lO)return Ov;lO=1;var e=yl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var w=v(),S=r({inst:{value:w,getSnapshot:v}}),_=S[0].inst,j=S[1];return o(function(){_.value=w,_.getSnapshot=v,d(_)&&j({inst:_})},[g,w,v]),i(function(){return d(_)&&j({inst:_}),g(function(){d(_)&&j({inst:_})})},[g]),l(w),w}function d(g){var v=g.getSnapshot;g=g.value;try{var w=v();return!n(g,w)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Ov.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Ov}var cO;function _B(){return cO||(cO=1,Ev.exports=wB()),Ev.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO;function SB(){if(uO)return jv;uO=1;var e=yl(),t=_B();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return jv.useSyncExternalStoreWithSelector=function(f,p,g,v,w){var S=o(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=u(function(){function N(P){if(!E){if(E=!0,C=P,P=v(P),w!==void 0&&_.hasValue){var R=_.value;if(w(R,P))return A=R}return A=P}if(R=A,r(C,P))return R;var D=v(P);return w!==void 0&&w(R,D)?(C=P,R):(C=P,A=D)}var E=!1,C,A,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,v,w]);var j=i(f,S[0],S[1]);return l(function(){_.hasValue=!0,_.value=j},[j]),d(j),j},jv}var dO;function jB(){return dO||(dO=1,Sv.exports=SB()),Sv.exports}var EB=jB(),Ab=b.createContext(null),OB=e=>e,Rt=()=>{var e=b.useContext(Ab);return e?e.store.dispatch:OB},Of=()=>{},NB=()=>Of,CB=(e,t)=>e===t;function Oe(e){var t=b.useContext(Ab);return EB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:NB,t?t.store.getState:Of,t?t.store.getState:Of,t?e:Of,CB)}function AB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function TB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var fO=e=>Array.isArray(e)?e:[e];function MB(e){const t=Array.isArray(e[0])?e[0]:e;return kB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function PB(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var RB=class{constructor(e){this.value=e}deref(){return this.value}},DB=typeof WeakRef<"u"?WeakRef:RB,LB=0,hO=1;function nf(){return{s:LB,v:void 0,o:null,p:null}}function zT(e,t={}){let n=nf();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let u=n;const{length:d}=arguments;for(let v=0,w=d;v<w;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const j=_.get(S);j===void 0?(u=nf(),_.set(S,u)):u=j}else{let _=u.p;_===null&&(u.p=_=new Map);const j=_.get(S);j===void 0?(u=nf(),_.set(S,u)):u=j}}const f=u;let p;if(u.s===hO)p=u.v;else if(p=e.apply(null,arguments),o++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new DB(p):p}return f.s=hO,f.v=p,p}return l.clearCache=()=>{n=nf(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function IB(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),AB(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:w=zT,argsMemoizeOptions:S=[]}=p,_=fO(v),j=fO(S),N=MB(i),E=g(function(){return o++,f.apply(null,arguments)},..._),C=w(function(){l++;const T=PB(N,arguments);return u=E.apply(null,T),u},...j);return Object.assign(C,{resultFunc:f,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var te=IB(zT),UB=Object.assign((e,t=te)=>{TB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>UB}),Nv={},Cv={},Av={},mO;function $B(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Av)),Av}var Tv={},kv={},pO;function BT(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(kv)),kv}var gO;function zB(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Tv)),Tv}var vO;function BB(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$B(),n=zB(),r=gb();function i(o,l,u,d){if(o==null)return[];u=d?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const f=(w,S)=>{let _=w;for(let j=0;j<S.length&&_!=null;++j)_=_[S[j]];return _},p=(w,S)=>S==null||w==null?S:typeof w=="object"&&"key"in w?Object.hasOwn(S,w.key)?S[w.key]:f(S,w.path):typeof w=="function"?w(S):Array.isArray(w)?f(S,w):typeof S=="object"?S[w]:S,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:g.map(S=>p(S,w))})).slice().sort((w,S)=>{for(let _=0;_<g.length;_++){const j=t.compareValues(w.criteria[_],S.criteria[_],u[_]);if(j!==0)return j}return 0}).map(w=>w.original)}e.orderBy=i})(Cv)),Cv}var Mv={},yO;function qB(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&d<o?l(p,d+1):i.push(p)}};return l(n,0),i}e.flatten=t})(Mv)),Mv}var Pv={},bO;function qT(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),n=Nb(),r=MT(),i=RT();function o(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=o})(Pv)),Pv}var xO;function HB(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BB(),n=qB(),r=qT();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Nv)),Nv}var Rv,wO;function KB(){return wO||(wO=1,Rv=HB().sortBy),Rv}var FB=KB();const Th=Xr(FB);var HT=e=>e.legend.settings,GB=e=>e.legend.size,YB=e=>e.legend.payload,VB=te([YB,HT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Th(r,n):r});function WB(){return Oe(VB)}var rf=1;function KT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>rf||Math.abs(l.left-t.left)>rf||Math.abs(l.top-t.top)>rf||Math.abs(l.width-t.width)>rf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function On(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XB=typeof Symbol=="function"&&Symbol.observable||"@@observable",_O=XB,Dv=()=>Math.random().toString(36).substring(7).split("").join("."),QB={INIT:`@@redux/INIT${Dv()}`,REPLACE:`@@redux/REPLACE${Dv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dv()}`},qf=QB;function Tb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function FT(e,t,n){if(typeof e!="function")throw new Error(On(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(On(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(On(1));return n(FT)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((j,N)=>{l.set(N,j)}))}function p(){if(d)throw new Error(On(3));return i}function g(j){if(typeof j!="function")throw new Error(On(4));if(d)throw new Error(On(5));let N=!0;f();const E=u++;return l.set(E,j),function(){if(N){if(d)throw new Error(On(6));N=!1,f(),l.delete(E),o=null}}}function v(j){if(!Tb(j))throw new Error(On(7));if(typeof j.type>"u")throw new Error(On(8));if(typeof j.type!="string")throw new Error(On(17));if(d)throw new Error(On(9));try{d=!0,i=r(i,j)}finally{d=!1}return(o=l).forEach(E=>{E()}),j}function w(j){if(typeof j!="function")throw new Error(On(10));r=j,v({type:qf.REPLACE})}function S(){const j=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(On(11));function E(){const A=N;A.next&&A.next(p())}return E(),{unsubscribe:j(E)}},[_O](){return this}}}return v({type:qf.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:w,[_O]:S}}function JB(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:qf.INIT})>"u")throw new Error(On(12));if(typeof n(void 0,{type:qf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(On(13))})}function GT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{JB(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],w=l[g],S=v(w,u);if(typeof S>"u")throw u&&u.type,new Error(On(14));f[g]=S,d=d||S!==w}return d=d||r.length!==Object.keys(l).length,d?f:l}}function Hf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function ZB(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(On(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},u=e.map(d=>d(l));return o=Hf(...u)(i.dispatch),{...i,dispatch:o}}}function YT(e){return Tb(e)&&"type"in e&&typeof e.type=="string"}var VT=Symbol.for("immer-nothing"),SO=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ll=Object.getPrototypeOf;function Us(e){return!!e&&!!e[mr]}function Ga(e){var t;return e?WT(e)||Array.isArray(e)||!!e[SO]||!!((t=e.constructor)!=null&&t[SO])||xu(e)||Mh(e):!1}var eq=Object.prototype.constructor.toString();function WT(e){if(!e||typeof e!="object")return!1;const t=ll(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===eq}function Kf(e,t){kh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function kh(e){const t=e[mr];return t?t.type_:Array.isArray(e)?1:xu(e)?2:Mh(e)?3:0}function Yy(e,t){return kh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XT(e,t,n){const r=kh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function tq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xu(e){return e instanceof Map}function Mh(e){return e instanceof Set}function bs(e){return e.copy_||e.base_}function Vy(e,t){if(xu(e))return new Map(e);if(Mh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=WT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[mr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(ll(e),r)}else{const r=ll(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function kb(e,t=!1){return Ph(e)||Us(e)||!Ga(e)||(kh(e)>1&&Object.defineProperties(e,{set:{value:af},add:{value:af},clear:{value:af},delete:{value:af}}),Object.freeze(e),t&&Object.values(e).forEach(n=>kb(n,!0))),e}function af(){Gr(2)}function Ph(e){return Object.isFrozen(e)}var nq={};function $s(e){const t=nq[e];return t||Gr(0,e),t}var nu;function QT(){return nu}function rq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jO(e,t){t&&($s("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wy(e){Xy(e),e.drafts_.forEach(aq),e.drafts_=null}function Xy(e){e===nu&&(nu=e.parent_)}function EO(e){return nu=rq(nu,e)}function aq(e){const t=e[mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[mr].modified_&&(Wy(t),Gr(4)),Ga(e)&&(e=Ff(t,e),t.parent_||Gf(t,e)),t.patches_&&$s("Patches").generateReplacementPatches_(n[mr].base_,e,t.patches_,t.inversePatches_)):e=Ff(t,n,[]),Wy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VT?e:void 0}function Ff(e,t,n){if(Ph(t))return t;const r=t[mr];if(!r)return Kf(t,(i,o)=>NO(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Gf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,l=!1;r.type_===3&&(o=new Set(i),i.clear(),l=!0),Kf(o,(u,d)=>NO(e,r,i,u,d,n,l)),Gf(e,i,!1),n&&e.patches_&&$s("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function NO(e,t,n,r,i,o,l){if(Us(i)){const u=o&&t&&t.type_!==3&&!Yy(t.assigned_,r)?o.concat(r):void 0,d=Ff(e,i,u);if(XT(n,r,d),Us(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ga(i)&&!Ph(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ff(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(xu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Gf(e,i)}}function Gf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kb(t,n)}function iq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:QT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Mb;n&&(i=[r],o=ru);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var Mb={get(e,t){if(t===mr)return e;const n=bs(e);if(!Yy(n,t))return sq(e,n,t);const r=n[t];return e.finalized_||!Ga(r)?r:r===Lv(e.base_,t)?(Iv(e),e.copy_[t]=Jy(r,e)):r},has(e,t){return t in bs(e)},ownKeys(e){return Reflect.ownKeys(bs(e))},set(e,t,n){const r=JT(bs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Lv(bs(e),t),o=i==null?void 0:i[mr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tq(n,i)&&(n!==void 0||Yy(e.base_,t)))return!0;Iv(e),Qy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Lv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Iv(e),Qy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=bs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return ll(e.base_)},setPrototypeOf(){Gr(12)}},ru={};Kf(Mb,(e,t)=>{ru[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ru.deleteProperty=function(e,t){return ru.set.call(this,e,t,void 0)};ru.set=function(e,t,n){return Mb.set.call(this,e[0],t,n,e[0])};function Lv(e,t){const n=e[mr];return(n?bs(n):e)[t]}function sq(e,t,n){var i;const r=JT(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function JT(e,t){if(!(t in e))return;let n=ll(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ll(n)}}function Qy(e){e.modified_||(e.modified_=!0,e.parent_&&Qy(e.parent_))}function Iv(e){e.copy_||(e.copy_=Vy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(d=o,...f){return l.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&Gr(6),r!==void 0&&typeof r!="function"&&Gr(7);let i;if(Ga(t)){const o=EO(this),l=Jy(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Wy(o):Xy(o)}return jO(o,r),OO(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===VT&&(i=void 0),this.autoFreeze_&&kb(i,!0),r){const o=[],l=[];$s("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Gr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||Gr(8),Us(e)&&(e=qa(e));const t=EO(this),n=Jy(e,void 0);return n[mr].isManual_=!0,Xy(t),n}finishDraft(e,t){const n=e&&e[mr];(!n||!n.isManual_)&&Gr(9);const{scope_:r}=n;return jO(r,t),OO(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=$s("Patches").applyPatches_;return Us(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Jy(e,t){const n=xu(e)?$s("MapSet").proxyMap_(e,t):Mh(e)?$s("MapSet").proxySet_(e,t):iq(e,t);return(t?t.scope_:QT()).drafts_.push(n),n}function qa(e){return Us(e)||Gr(10,e),ZT(e)}function ZT(e){if(!Ga(e)||Ph(e))return e;const t=e[mr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Vy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Vy(e,!0);return Kf(n,(r,i)=>{XT(n,r,ZT(i))}),t&&(t.finalized_=!1),n}var lq=new oq,ek=lq.produce;function tk(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var cq=tk(),uq=tk,dq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hf:Hf.apply(null,arguments)};function Dr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(fr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>YT(r)&&r.type===e,n}var nk=class zc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zc.prototype)}static get[Symbol.species](){return zc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zc(...t[0].concat(this)):new zc(...t.concat(this))}};function CO(e){return Ga(e)?ek(e,()=>{}):e}function sf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function fq(e){return typeof e=="boolean"}var hq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new nk;return n&&(fq(n)?l.push(cq):l.push(uq(n.extraArgument))),l},mq="RTK_autoBatch",AO=e=>t=>{setTimeout(t,e)},pq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AO(10):e.type==="callback"?e.queueNotification:AO(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[mq]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},gq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new nk(e);return r&&i.push(pq(typeof r=="object"?r:void 0)),i};function vq(e){const t=hq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(Tb(n))u=GT(n);else throw new Error(fr(1));let d;typeof r=="function"?d=r(t):d=t();let f=Hf;i&&(f=dq({trace:!1,...typeof i=="object"&&i}));const p=ZB(...d),g=gq(p);let v=typeof l=="function"?l(g):g();const w=f(...v);return FT(u,o,w)}function rk(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(fr(28));if(u in t)throw new Error(fr(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function yq(e){return typeof e=="function"}function bq(e,t){let[n,r,i]=rk(t),o;if(yq(e))o=()=>CO(e());else{const u=CO(e);o=()=>u}function l(u=o(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,g)=>{if(g)if(Us(p)){const w=g(p,d);return w===void 0?p:w}else{if(Ga(p))return ek(p,v=>g(v,d));{const v=g(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=o,l}var xq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wq=(e=21)=>{let t="",n=e;for(;n--;)t+=xq[Math.random()*64|0];return t},_q=Symbol.for("rtk-slice-createasyncthunk");function Sq(e,t){return`${e}/${t}`}function jq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[_q];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(fr(11));const u=(typeof i.reducers=="function"?i.reducers(Oq()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(A,T){const P=typeof A=="string"?A:A.type;if(!P)throw new Error(fr(12));if(P in f.sliceCaseReducersByType)throw new Error(fr(13));return f.sliceCaseReducersByType[P]=T,p},addMatcher(A,T){return f.sliceMatchers.push({matcher:A,reducer:T}),p},exposeAction(A,T){return f.actionCreators[A]=T,p},exposeCaseReducer(A,T){return f.sliceCaseReducersByName[A]=T,p}};d.forEach(A=>{const T=u[A],P={reducerName:A,type:Sq(o,A),createNotation:typeof i.reducers=="function"};Cq(T)?Tq(P,T,p,t):Nq(P,T,p)});function g(){const[A={},T=[],P=void 0]=typeof i.extraReducers=="function"?rk(i.extraReducers):[i.extraReducers],R={...A,...f.sliceCaseReducersByType};return bq(i.initialState,D=>{for(let H in R)D.addCase(H,R[H]);for(let H of f.sliceMatchers)D.addMatcher(H.matcher,H.reducer);for(let H of T)D.addMatcher(H.matcher,H.reducer);P&&D.addDefaultCase(P)})}const v=A=>A,w=new Map,S=new WeakMap;let _;function j(A,T){return _||(_=g()),_(A,T)}function N(){return _||(_=g()),_.getInitialState()}function E(A,T=!1){function P(D){let H=D[A];return typeof H>"u"&&T&&(H=sf(S,P,N)),H}function R(D=v){const H=sf(w,T,()=>new WeakMap);return sf(H,D,()=>{const z={};for(const[B,$]of Object.entries(i.selectors??{}))z[B]=Eq($,D,()=>sf(S,D,N),T);return z})}return{reducerPath:A,getSelectors:R,get selectors(){return R(P)},selectSlice:P}}const C={name:o,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...E(l),injectInto(A,{reducerPath:T,...P}={}){const R=T??l;return A.inject({reducerPath:R,reducer:j},P),{...C,...E(R,!0)}}};return C}}function Eq(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var gr=jq();function Oq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Nq({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!Aq(r))throw new Error(fr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?Dr(e,l):Dr(e))}function Cq(e){return e._reducerDefinitionType==="asyncThunk"}function Aq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Tq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=n,g=i(e,o,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:l||of,pending:u||of,rejected:d||of,settled:f||of})}function of(){}var kq="task",ak="listener",ik="completed",Pb="cancelled",Mq=`task-${Pb}`,Pq=`task-${ik}`,Zy=`${ak}-${Pb}`,Rq=`${ak}-${ik}`,Rh=class{constructor(e){yg(this,"name","TaskAbortError");yg(this,"message");this.code=e,this.message=`${kq} ${Pb} (reason: ${e})`}},Rb=(e,t)=>{if(typeof e!="function")throw new TypeError(fr(32))},Yf=()=>{},sk=(e,t=Yf)=>(e.catch(t),e),ok=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ps=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Rs=e=>{if(e.aborted){const{reason:t}=e;throw new Rh(t)}};function lk(e,t){let n=Yf;return new Promise((r,i)=>{const o=()=>i(new Rh(e.reason));if(e.aborted){o();return}n=ok(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Yf})}var Dq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Rh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Vf=e=>t=>sk(lk(e,t).then(n=>(Rs(e),n))),ck=e=>{const t=Vf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:rl}=Object,TO={},Dh="listenerMiddleware",Lq=(e,t)=>{const n=r=>ok(e,()=>Ps(r,e.reason));return(r,i)=>{Rb(r);const o=new AbortController;n(o);const l=Dq(async()=>{Rs(e),Rs(o.signal);const u=await r({pause:Vf(o.signal),delay:ck(o.signal),signal:o.signal});return Rs(o.signal),u},()=>Ps(o,Pq));return i!=null&&i.autoJoin&&t.push(l.catch(Yf)),{result:Vf(e)(l),cancel(){Ps(o,Mq)}}}},Iq=(e,t)=>{const n=async(r,i)=>{Rs(t);let o=()=>{};const u=[new Promise((d,f)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});o=()=>{p(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await lk(t,Promise.race(u));return Rs(t),d}finally{o()}};return(r,i)=>sk(n(r,i))},uk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Dr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fr(21));return Rb(o),{predicate:i,type:t,effect:o}},dk=rl(e=>{const{type:t,predicate:n,effect:r}=uk(e);return{id:wq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>dk}),kO=(e,t)=>{const{type:n,effect:r,predicate:i}=uk(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},e0=e=>{e.pending.forEach(t=>{Ps(t,Zy)})},Uq=e=>()=>{e.forEach(e0),e.clear()},MO=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},fk=rl(Dr(`${Dh}/add`),{withTypes:()=>fk}),$q=Dr(`${Dh}/removeAll`),hk=rl(Dr(`${Dh}/remove`),{withTypes:()=>hk}),zq=(...e)=>{console.error(`${Dh}/error`,...e)},wu=(e={})=>{const t=new Map,{extra:n,onError:r=zq}=e;Rb(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&e0(p)}),o=p=>{const g=kO(t,p)??dk(p);return i(g)};rl(o,{withTypes:()=>o});const l=p=>{const g=kO(t,p);return g&&(g.unsubscribe(),p.cancelActive&&e0(g)),!!g};rl(l,{withTypes:()=>l});const u=async(p,g,v,w)=>{const S=new AbortController,_=Iq(o,S.signal),j=[];try{p.pending.add(S),await Promise.resolve(p.effect(g,rl({},v,{getOriginalState:w,condition:(N,E)=>_(N,E).then(Boolean),take:_,delay:ck(S.signal),pause:Vf(S.signal),extra:n,signal:S.signal,fork:Lq(S.signal,j),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,E,C)=>{N!==S&&(Ps(N,Zy),C.delete(N))})},cancel:()=>{Ps(S,Zy),p.pending.delete(S)},throwIfCancelled:()=>{Rs(S.signal)}})))}catch(N){N instanceof Rh||MO(r,N,{raisedBy:"effect"})}finally{await Promise.all(j),Ps(S,Rq),p.pending.delete(S)}},d=Uq(t);return{middleware:p=>g=>v=>{if(!YT(v))return g(v);if(fk.match(v))return o(v.payload);if($q.match(v)){d();return}if(hk.match(v))return l(v.payload);let w=p.getState();const S=()=>{if(w===TO)throw new Error(fr(23));return w};let _;try{if(_=g(v),t.size>0){const j=p.getState(),N=Array.from(t.values());for(const E of N){let C=!1;try{C=E.predicate(v,j,w)}catch(A){C=!1,MO(r,A,{raisedBy:"predicate"})}C&&u(E,v,p,S)}}}finally{w=TO}return _},startListening:o,stopListening:l,clearListeners:d}};function fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Bq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},mk=gr({name:"chartLayout",initialState:Bq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qq,setLayout:Hq,setChartSize:Kq,setScale:Fq}=mk.actions,Gq=mk.reducer;function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(r){Yq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yq(e,t,n){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf=Math.PI/180,Xq=e=>e*180/Math.PI,Zt=(e,t,n,r)=>({x:e+Math.cos(-Wf*r)*n,y:t+Math.sin(-Wf*r)*n}),pk=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Qq=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},Jq=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=Qq({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>o&&(d=2*Math.PI-d),{radius:l,angle:Xq(d),angleInRadian:d}},Zq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},e7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},t7=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=Jq({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=Zq(t),p=o,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?RO(RO({},t),{},{radius:i,angle:e7(p,t)}):null};function gk(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(n),!0).forEach(function(r){n7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n7(e,t,n){return(t=r7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pt(e,t,n){return vn(e)||vn(t)?n:fa(t)?Is(e,t,n):typeof t=="function"?t(e):n}var i7=(e,t,n,r,i)=>{var o,l=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(gn(p-f)!==gn(g-p)){var w=[];if(gn(g-p)===gn(i[1]-i[0])){v=g;var S=p+i[1]-i[0];w[0]=Math.min(S,(S+f)/2),w[1]=Math.max(S,(S+f)/2)}else{v=f;var _=g+i[1]-i[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var j=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>j[0]&&e<=j[1]||e>=w[0]&&e<=w[1]){({index:l}=n[d]);break}}else{var N=Math.min(f,g),E=Math.max(f,g);if(e>(N+p)/2&&e<=(E+p)/2){({index:l}=n[d]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:l}=t[C]);break}}return l},s7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Ne(e[o]))return kr(kr({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Ne(e[l]))return kr(kr({},e),{},{[l]:e[l]+(i||0)})}return e},Fs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",vk=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},yk=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:v,axisType:w}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,_=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(_=w==="angleAxis"&&o&&o.length>=2?gn(o[0]-o[1])*2*_:_,g||v){var j=(g||v||[]).map((N,E)=>{var C=r?r.indexOf(N):N;return{coordinate:l(C)+_,value:N,offset:_,index:E}});return j.filter(N=>!hr(N.coordinate))}return d&&f?f.map((N,E)=>({coordinate:l(N)+_,value:N,index:E,offset:_})):l.ticks&&p!=null?l.ticks(p).map((N,E)=>({coordinate:l(N)+_,value:N,offset:_,index:E})):l.domain().map((N,E)=>({coordinate:l(N)+_,value:r?r[N]:N,index:E,offset:_}))},LO=1e-4,o7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-LO,o=Math.max(r[0],r[1])+LO,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},l7=(e,t)=>{if(!t||t.length!==2||!Ne(t[0])||!Ne(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ne(e[0])||e[0]<n)&&(i[0]=n),(!Ne(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},c7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var u=hr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},u7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=hr(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},d7={sign:c7,expand:z8,none:ol,silhouette:B8,wiggle:q8,positive:u7},f7=(e,t,n)=>{var r=d7[n],i=$8().keys(t).value((o,l)=>+Pt(o,l,0)).order(Ky).offset(r);return i(e)};function h7(e){return e==null?void 0:String(e)}var IO=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=Pt(o,t.dataKey,t.scale.domain()[l]);return vn(u)?null:t.scale(u)-i/2+r},m7=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},p7=e=>{var t=e.flat(2).filter(Ne);return[Math.min(...t),Math.max(...t)]},g7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],v7=(e,t,n)=>{if(e!=null)return g7(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,u=l.reduce((d,f)=>{var p=gk(f,t,n),g=p7(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},UO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Db=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Th(t,p=>p.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function zO(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return kr(kr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Lh(e,t){if(e)return String(e);if(typeof t=="string")return t}function y7(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?t7({x:e,y:t},r):null}var b7=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:l}=r;return kr(kr(kr({},r),Zt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:d}=r;return kr(kr(kr({},r),Zt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},x7=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Xa=e=>e.layout.width,Qa=e=>e.layout.height,w7=e=>e.layout.scale,bk=e=>e.layout.margin,Ih=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Uh=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xk="data-recharts-item-index",wk="data-recharts-item-data-key",_u=60;function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(r){_7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7=e=>e.brush.height;function O7(e){var t=Uh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_u;return n+i}return n},0)}function N7(e){var t=Uh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_u;return n+i}return n},0)}function C7(e){var t=Ih(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function A7(e){var t=Ih(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ln=te([Xa,Qa,bk,E7,O7,N7,C7,A7,HT,GB],(e,t,n,r,i,o,l,u,d,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=lf(lf({},g),p),w=v.bottom;v.bottom+=r,v=s7(v,d,f);var S=e-v.left-v.right,_=t-v.top-v.bottom;return lf(lf({brushBottom:w},v),{},{width:Math.max(S,0),height:Math.max(_,0)})}),T7=te(ln,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Lb=te(Xa,Qa,(e,t)=>({x:0,y:0,width:e,height:t})),k7=b.createContext(null),Ur=()=>b.useContext(k7)!=null,$h=e=>e.brush,zh=te([$h,ln,bk],(e,t,n)=>({height:e.height,x:Ne(e.x)?e.x:t.left,y:Ne(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ne(e.width)?e.width:t.width})),Ib=()=>{var e,t=Ur(),n=Oe(T7),r=Oe(zh),i=(e=Oe($h))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},M7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_k=()=>{var e;return(e=Oe(ln))!==null&&e!==void 0?e:M7},Ub=()=>Oe(Xa),$b=()=>Oe(Qa),P7=()=>Oe(e=>e.layout.margin),et=e=>e.layout.layoutType,zb=()=>Oe(et),R7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Sk=gr({name:"legend",initialState:R7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=qa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:qO,setLegendSettings:D7,addLegendPayload:jk,removeLegendPayload:Ek}=Sk.actions,L7=Sk.reducer,I7=["contextPayload"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(n),!0).forEach(function(r){Bb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bb(e,t,n){return(t=U7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=$7(e,"string");return typeof t=="symbol"?t:t+""}function $7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z7(e,t){if(e==null)return{};var n,r,i=B7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function q7(e){return e.value}function H7(e){var{contextPayload:t}=e,n=z7(e,I7),r=$T(t,e.payloadUniqBy,q7),i=cl(cl({},n),{},{payload:r});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(Ob,i)}function K7(e,t,n,r,i,o){var{layout:l,align:u,verticalAlign:d}=t,f,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((i||0)-o.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),cl(cl({},f),p)}function F7(e){var t=Rt();return b.useEffect(()=>{t(D7(e))},[t,e]),null}function G7(e){var t=Rt();return b.useEffect(()=>(t(qO(e)),()=>{t(qO({width:0,height:0}))}),[t,e]),null}function Y7(e){var t=WB(),n=c8(),r=P7(),{width:i,height:o,wrapperStyle:l,portal:u}=e,[d,f]=KT([t]),p=Ub(),g=$b();if(p==null||g==null)return null;var v=p-(r.left||0)-(r.right||0),w=au.getWidthOrHeight(e.layout,o,i,v),S=u?l:cl(cl({position:"absolute",width:(w==null?void 0:w.width)||i||"auto",height:(w==null?void 0:w.height)||o||"auto"},K7(l,e,r,p,g,d)),l),_=u??n;if(_==null)return null;var j=b.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:f},b.createElement(F7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),b.createElement(G7,{width:d.width,height:d.height}),b.createElement(H7,t0({},e,w,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return B0.createPortal(j,_)}class au extends b.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Ne(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return b.createElement(Y7,this.props)}}Bb(au,"displayName","Legend");Bb(au,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){V7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V7(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e){return Array.isArray(e)&&fa(e[0])&&fa(e[1])?e.join(" ~ "):e}var J7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,w=()=>{if(o&&o.length){var T={padding:0,margin:0},P=(u?Th(o,u):o).map((R,D)=>{if(R.type==="none")return null;var H=R.formatter||l||Q7,{value:z,name:B}=R,$=z,ne=B;if(H){var Q=H(z,B,R,D,o);if(Array.isArray(Q))[$,ne]=Q;else if(Q!=null)$=Q;else return null}var re=Uv({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:re},fa(ne)?b.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,fa(ne)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},$),b.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},S=Uv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=Uv({margin:0},i),j=!vn(p),N=j?p:"",E=ct("recharts-default-tooltip",d),C=ct("recharts-tooltip-label",f);j&&g&&o!==void 0&&o!==null&&(N=g(p,o));var A=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",n0({className:E,style:S},A),b.createElement("p",{className:C,style:_},b.isValidElement(N)?N:"".concat(N)),w())},kc="recharts-tooltip-wrapper",Z7={visibility:"hidden"};function e9(e){var{coordinate:t,translateX:n,translateY:r}=e;return ct(kc,{["".concat(kc,"-right")]:Ne(n)&&t&&Ne(t.x)&&n>=t.x,["".concat(kc,"-left")]:Ne(n)&&t&&Ne(t.x)&&n<t.x,["".concat(kc,"-bottom")]:Ne(r)&&t&&Ne(t.y)&&r>=t.y,["".concat(kc,"-top")]:Ne(r)&&t&&Ne(t.y)&&r<t.y})}function FO(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(o&&Ne(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=d[r];if(v==null)return 0;if(l[r]){var w=p,S=v;return w<S?Math.max(g,v):Math.max(p,v)}if(f==null)return 0;var _=g+u,j=v+f;return _>j?Math.max(p,v):Math.max(g,v)}function t9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function n9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,g;return l.height>0&&l.width>0&&n?(p=FO({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=FO({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=t9({translateX:p,translateY:g,useTranslate3d:u})):f=Z7,{cssProperties:f,cssClasses:e9({translateX:p,translateY:g,coordinate:n})}}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){r0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r0(e,t,n){return(t=r9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class i9 extends b.PureComponent{constructor(){super(...arguments),r0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),r0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:w,wrapperStyle:S,lastBoundingBox:_,innerRef:j,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:C}=n9({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:v,viewBox:w}),A=N?{}:cf(cf({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=cf(cf({},A),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:j},o)}}var s9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gs={devToolsEnabled:!1,isSsr:s9()},Ok=()=>Oe(e=>e.rootProps.accessibilityLayer);function pr(e){return Number.isFinite(e)}function ul(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){o9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o9(e,t,n){return(t=l9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WO={curveBasisClosed:C8,curveBasisOpen:A8,curveBasis:N8,curveBumpX:h8,curveBumpY:m8,curveLinearClosed:T8,curveLinear:Ch,curveMonotoneX:k8,curveMonotoneY:M8,curveNatural:P8,curveStep:R8,curveStepAfter:L8,curveStepBefore:D8},uf=e=>pr(e.x)&&pr(e.y),Mc=e=>e.x,Pc=e=>e.y,u9=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(yu(e));return(n==="curveMonotone"||n==="curveBump")&&t?WO["".concat(n).concat(t==="vertical"?"Y":"X")]:WO[n]||Ch},d9=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=u9(t,i),u=o?n.filter(uf):n,d;if(Array.isArray(r)){var f=o?r.filter(g=>uf(g)):r,p=u.map((g,v)=>VO(VO({},g),{},{base:f[v]}));return i==="vertical"?d=tf().y(Pc).x1(Mc).x0(g=>g.base.x):d=tf().x(Mc).y1(Pc).y0(g=>g.base.y),d.defined(uf).curve(l),d(p)}return i==="vertical"&&Ne(r)?d=tf().y(Pc).x1(Mc).x0(r):Ne(r)?d=tf().x(Mc).y1(Pc).y0(r):d=bT().x(Mc).y(Pc),d.defined(uf).curve(l),d(u)},Nk=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?d9(e):r;return b.createElement("path",a0({},Ki(e),Zz(e),{className:ct("recharts-curve",t),d:o===null?void 0:o,ref:i}))},f9=["x","y","top","left","width","height","className"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v9(e,t){if(e==null)return{};var n,r,i=y9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var b9=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),x9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,d=v9(e,f9),f=h9({x:t,y:n,top:r,left:i,width:o,height:l},d);return!Ne(t)||!Ne(n)||!Ne(o)||!Ne(l)||!Ne(r)||!Ne(i)?null:b.createElement("path",i0({},on(f,!0),{className:ct("recharts-cross",u),d:b9(t,n,o,l,r,i)}))};function w9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(r){S9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S9(e,t,n){return(t=j9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j9(e){var t=E9(e,"string");return typeof t=="symbol"?t:t+""}function E9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t){var n=_9({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function O9(){}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){N9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N9(e,t,n){return(t=C9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ck=(e,t,n)=>e.map(r=>"".concat(T9(r)," ").concat(t,"ms ").concat(n)).join(","),k9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),iu=(e,t)=>Object.keys(t).reduce((n,r)=>ZO(ZO({},n),{},{[r]:e(r,t[r])}),{});function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(r){M9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M9(e,t,n){return(t=P9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xf=(e,t,n)=>e+(t-e)*n,s0=e=>{var{from:t,to:n}=e;return t!==n},Ak=(e,t,n)=>{var r=iu((i,o)=>{if(s0(o)){var[l,u]=e(o.from,o.to,o.velocity);return Nn(Nn({},o),{},{from:l,velocity:u})}return o},t);return n<1?iu((i,o)=>s0(o)?Nn(Nn({},o),{},{velocity:Xf(o.velocity,r[i].velocity,n),from:Xf(o.from,r[i].from,n)}):o,t):Ak(e,r,n-1)};function D9(e,t,n,r,i,o){var l,u=r.reduce((v,w)=>Nn(Nn({},v),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),d=()=>iu((v,w)=>w.from,u),f=()=>!Object.values(u).filter(s0).length,p=null,g=v=>{l||(l=v);var w=v-l,S=w/n.dt;u=Ak(n,u,S),i(Nn(Nn(Nn({},e),t),d())),l=v,f()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{p()})}function L9(e,t,n,r,i,o,l){var u=null,d=i.reduce((g,v)=>Nn(Nn({},g),{},{[v]:[e[v],t[v]]}),{}),f,p=g=>{f||(f=g);var v=(g-f)/r,w=iu((_,j)=>Xf(...j,n(v)),d);if(o(Nn(Nn(Nn({},e),t),w)),v<1)u=l.setTimeout(p);else{var S=iu((_,j)=>Xf(...j,n(1)),d);o(Nn(Nn(Nn({},e),t),S))}};return()=>(u=l.setTimeout(p),()=>{u()})}const I9=(e,t,n,r,i,o)=>{var l=k9(e,t);return n.isStepper===!0?D9(e,t,n,l,i,o):L9(e,t,n,r,l,i,o)};var Qf=1e-4,Tk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),t2=(e,t)=>n=>{var r=Tk(e,t);return kk(r,n)},U9=(e,t)=>n=>{var r=Tk(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return kk(i,n)},n2=function(){for(var t,n,r,i,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,i]=d[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else l.length===4&&([t,r,n,i]=l);var f=t2(t,n),p=t2(r,i),g=U9(t,n),v=S=>S>1?1:S<0?0:S,w=S=>{for(var _=S>1?1:S,j=_,N=0;N<8;++N){var E=f(j)-_,C=g(j);if(Math.abs(E-_)<Qf||C<Qf)return p(j);j=v(j-E/C)}return p(j)};return w.isStepper=!1,w},$9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,d)=>{var f=-(l-u)*n,p=d*r,g=d+(f-p)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<Qf&&Math.abs(g)<Qf?[u,0]:[v,g]};return o.isStepper=!0,o.dt=i,o},z9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n2(e);case"spring":return $9();default:if(e.split("(")[0]==="cubic-bezier")return n2(e)}return typeof e=="function"?e:null};function B9(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(o.bind(null,f),d);return}o(d),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class q9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function H9(){return B9(new q9)}var K9=b.createContext(H9);function F9(e,t){var n=b.useContext(K9);return b.useMemo(()=>t??n(e),[e,t,n])}var G9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},r2={t:0},$v={t:1};function Bh(e){var t=$n(e,G9),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,p=F9(t.animationId,t.animationManager),[g,v]=b.useState(n?r2:$v),w=b.useRef(null);return b.useEffect(()=>{n||v($v)},[n]),b.useEffect(()=>{if(!n||!r)return O9;var S=I9(r2,$v,z9(o),i,v,p.getTimeoutController()),_=()=>{w.current=S()};return p.start([d,l,_,i,u]),()=>{p.stop(),w.current&&w.current(),u()}},[n,r,i,o,l,d,u,p]),f(g.t)}function qh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(tu(t)),r=b.useRef(e);return r.current!==e&&(n.current=tu(t),r.current=e),n.current}function a2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(n),!0).forEach(function(r){Y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y9(e,t,n){return(t=V9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(null,arguments)}var s2=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>o?o:i[g];f="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),f+="L ".concat(e+n-u*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+l*p[1])),f+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-u*p[2],",").concat(t+r)),f+="L ".concat(e+u*p[3],",").concat(t+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-l*p[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f="M ".concat(e,",").concat(t+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+u*w,",").concat(t,`
            L `).concat(e+n-u*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n,",").concat(t+l*w,`
            L `).concat(e+n,",").concat(t+r-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n-u*w,",").concat(t+r,`
            L `).concat(e+u*w,",").concat(t+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(t+r-l*w," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},X9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mk=e=>{var t=$n(e,X9),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:o,y:l,width:u,height:d,radius:f,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:w,isAnimationActive:S,isUpdateAnimationActive:_}=t,j=b.useRef(u),N=b.useRef(d),E=b.useRef(o),C=b.useRef(l),A=b.useMemo(()=>({x:o,y:l,width:u,height:d,radius:f}),[o,l,u,d,f]),T=qh(A,"rectangle-");if(o!==+o||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var P=ct("recharts-rectangle",p);if(!_)return b.createElement("path",Jf({},on(t,!0),{className:P,d:s2(o,l,u,d,f)}));var R=j.current,D=N.current,H=E.current,z=C.current,B="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),ne=Ck(["strokeDasharray"],v,typeof g=="string"?g:void 0);return b.createElement(Bh,{animationId:T,key:T,canBegin:r>0,duration:v,easing:g,isActive:_,begin:w},Q=>{var re=Cn(R,u,Q),I=Cn(D,d,Q),V=Cn(H,o,Q),ie=Cn(z,l,Q);n.current&&(j.current=re,N.current=I,E.current=V,C.current=ie);var pe;return S?Q>0?pe={transition:ne,strokeDasharray:$}:pe={strokeDasharray:B}:pe={strokeDasharray:$},b.createElement("path",Jf({},on(t,!0),{className:P,d:s2(V,ie,re,I,f),ref:n,style:i2(i2({},pe),t.style)}))})};function Pk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Zt(t,n,r,i),u=Zt(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o0.apply(null,arguments)}var Q9=(e,t)=>{var n=gn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},df=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,p=Math.asin(u/f)/Wf,g=d?i:i+o*p,v=Zt(t,n,f,g),w=Zt(t,n,r,g),S=d?i-o*p:i,_=Zt(t,n,f*Math.cos(p*Wf),S);return{center:v,circleTangency:w,lineTangency:_,theta:p}},Rk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=Q9(o,l),d=o+u,f=Zt(t,n,i,o),p=Zt(t,n,i,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Zt(t,n,r,o),w=Zt(t,n,r,d);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},J9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,p=gn(f-d),{circleTangency:g,lineTangency:v,theta:w}=df({cx:t,cy:n,radius:i,angle:d,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:_,theta:j}=df({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:u}),N=u?Math.abs(d-f):Math.abs(d-f)-w-j;if(N<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Rk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:A,theta:T}=df({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:P,lineTangency:R,theta:D}=df({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),H=u?Math.abs(d-f):Math.abs(d-f)-T-D;if(H<0&&o===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},Z9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dk=e=>{var t=$n(e,Z9),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p,className:g}=t;if(o<i||f===p)return null;var v=ct("recharts-sector",g),w=o-i,S=Pn(l,w,0,!0),_;return S>0&&Math.abs(f-p)<360?_=J9({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,w/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):_=Rk({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),b.createElement("path",o0({},on(t,!0),{className:v,d:_}))};function eH(e,t,n){var r,i,o,l;if(e==="horizontal")r=t.x,o=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:f,outerRadius:p,angle:g}=t,v=Zt(u,d,f,g),w=Zt(u,d,p,g);r=v.x,i=v.y,o=w.x,l=w.y}else return Pk(t);return[{x:r,y:i},{x:o,y:l}]}var zv={},Bv={},qv={},o2;function tH(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(qv)),qv}var l2;function nH(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Bv)),Bv}var c2;function rH(){return c2||(c2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),n=nH();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(zv)),zv}var Hv,u2;function aH(){return u2||(u2=1,Hv=rH().range),Hv}var iH=aH();const Lk=Xr(iH);function Ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qb(e){let t,n,r;e.length!==2?(t=Ii,n=(u,d)=>Ii(e(u),d),r=(u,d)=>e(u)-d):(t=e===Ii||e===sH?e:oH,n=e,r=e);function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function o(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function l(u,d,f=0,p=u.length){const g=i(u,d,f,p-1);return g>f&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:o}}function oH(){return 0}function Ik(e){return e===null?NaN:+e}function*lH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const cH=qb(Ii),Su=cH.right;qb(Ik).center;class d2 extends Map{constructor(t,n=fH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(f2(this,t))}has(t){return super.has(f2(this,t))}set(t,n){return super.set(uH(this,t),n)}delete(t){return super.delete(dH(this,t))}}function f2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hH(e=Ii){if(e===Ii)return Uk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Uk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mH=Math.sqrt(50),pH=Math.sqrt(10),gH=Math.sqrt(2);function Zf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=mH?10:o>=pH?5:o>=gH?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Zf(e,t,n*2):[u,d,f]}function l0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Zf(t,e,n):Zf(e,t,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function c0(e,t,n){return t=+t,e=+e,n=+n,Zf(e,t,n)[2]}function u0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?c0(t,e,n):c0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function h2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function m2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $k(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Uk:hH(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(t-f*g/d+v)),S=Math.min(r,Math.floor(t+(d-f)*g/d+v));$k(e,t,w,S,i)}const o=e[t];let l=n,u=r;for(Rc(e,n,t),i(e[r],o)>0&&Rc(e,n,r);l<u;){for(Rc(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?Rc(e,n,u):(++u,Rc(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Rc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vH(e,t,n){if(e=Float64Array.from(lH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return m2(e);if(t>=1)return h2(e);var r,i=(r-1)*t,o=Math.floor(i),l=h2($k(e,o).subarray(0,o+1)),u=m2(e.subarray(o+1));return l+(u-l)*(i-o)}}function yH(e,t,n=Ik){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function bH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const d0=Symbol("implicit");function Hb(){var e=new d2,t=[],n=[],r=d0;function i(o){let l=e.get(o);if(l===void 0){if(r!==d0)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new d2;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Hb(t,n).unknown(r)},$r.apply(i,arguments),i}function Kb(){var e=Hb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function g(){var v=t().length,w=i<r,S=w?i:r,_=w?r:i;o=(_-S)/Math.max(1,v-d+f*2),u&&(o=Math.floor(o)),S+=(_-S-o*(v-d))*p,l=o*(1-d),u&&(S=Math.round(S),l=Math.round(l));var j=bH(v).map(function(N){return S+o*N});return n(w?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return Kb(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},$r.apply(g(),arguments)}function zk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zk(t())},e}function xH(){return zk(Kb.apply(null,arguments).paddingInner(1))}function Fb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ju(){}var su=.7,eh=1/su,al="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wH=/^#([0-9a-f]{3,8})$/,_H=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),SH=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),jH=new RegExp(`^rgba\\(${al},${al},${al},${ou}\\)$`),EH=new RegExp(`^rgba\\(${da},${da},${da},${ou}\\)$`),OH=new RegExp(`^hsl\\(${ou},${da},${da}\\)$`),NH=new RegExp(`^hsla\\(${ou},${da},${da},${ou}\\)$`),p2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fb(ju,lu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:g2,formatHex:g2,formatHex8:CH,formatHsl:AH,formatRgb:v2,toString:v2});function g2(){return this.rgb().formatHex()}function CH(){return this.rgb().formatHex8()}function AH(){return qk(this).formatHsl()}function v2(){return this.rgb().formatRgb()}function lu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?y2(t):n===3?new Jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ff(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ff(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_H.exec(e))?new Jn(t[1],t[2],t[3],1):(t=SH.exec(e))?new Jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jH.exec(e))?ff(t[1],t[2],t[3],t[4]):(t=EH.exec(e))?ff(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OH.exec(e))?w2(t[1],t[2]/100,t[3]/100,1):(t=NH.exec(e))?w2(t[1],t[2]/100,t[3]/100,t[4]):p2.hasOwnProperty(e)?y2(p2[e]):e==="transparent"?new Jn(NaN,NaN,NaN,0):null}function y2(e){return new Jn(e>>16&255,e>>8&255,e&255,1)}function ff(e,t,n,r){return r<=0&&(e=t=n=NaN),new Jn(e,t,n,r)}function TH(e){return e instanceof ju||(e=lu(e)),e?(e=e.rgb(),new Jn(e.r,e.g,e.b,e.opacity)):new Jn}function f0(e,t,n,r){return arguments.length===1?TH(e):new Jn(e,t,n,r??1)}function Jn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Fb(Jn,f0,Bk(ju,{brighter(e){return e=e==null?eh:Math.pow(eh,e),new Jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jn(Ds(this.r),Ds(this.g),Ds(this.b),th(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b2,formatHex:b2,formatHex8:kH,formatRgb:x2,toString:x2}));function b2(){return`#${As(this.r)}${As(this.g)}${As(this.b)}`}function kH(){return`#${As(this.r)}${As(this.g)}${As(this.b)}${As((isNaN(this.opacity)?1:this.opacity)*255)}`}function x2(){const e=th(this.opacity);return`${e===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${e===1?")":`, ${e})`}`}function th(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function As(e){return e=Ds(e),(e<16?"0":"")+e.toString(16)}function w2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yr(e,t,n,r)}function qk(e){if(e instanceof Yr)return new Yr(e.h,e.s,e.l,e.opacity);if(e instanceof ju||(e=lu(e)),!e)return new Yr;if(e instanceof Yr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Yr(l,u,d,e.opacity)}function MH(e,t,n,r){return arguments.length===1?qk(e):new Yr(e,t,n,r??1)}function Yr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Fb(Yr,MH,Bk(ju,{brighter(e){return e=e==null?eh:Math.pow(eh,e),new Yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Jn(Kv(e>=240?e-240:e+120,i,r),Kv(e,i,r),Kv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Yr(_2(this.h),hf(this.s),hf(this.l),th(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=th(this.opacity);return`${e===1?"hsl(":"hsla("}${_2(this.h)}, ${hf(this.s)*100}%, ${hf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _2(e){return e=(e||0)%360,e<0?e+360:e}function hf(e){return Math.max(0,Math.min(1,e||0))}function Kv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Gb=e=>()=>e;function PH(e,t){return function(n){return e+n*t}}function RH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function DH(e){return(e=+e)==1?Hk:function(t,n){return n-t?RH(t,n,e):Gb(isNaN(t)?n:t)}}function Hk(e,t){var n=t-e;return n?PH(e,n):Gb(isNaN(e)?t:e)}const S2=(function e(t){var n=DH(t);function r(i,o){var l=n((i=f0(i)).r,(o=f0(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=Hk(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function LH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function IH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=El(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function $H(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function nh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=El(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var h0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fv=new RegExp(h0.source,"g");function BH(e){return function(){return e}}function qH(e){return function(t){return e(t)+""}}function HH(e,t){var n=h0.lastIndex=Fv.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=h0.exec(e))&&(i=Fv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:nh(r,i)})),n=Fv.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?qH(d[0].x):BH(t):(t=d.length,function(f){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function El(e,t){var n=typeof t,r;return t==null||n==="boolean"?Gb(t):(n==="number"?nh:n==="string"?(r=lu(t))?(t=r,S2):HH:t instanceof lu?S2:t instanceof Date?$H:IH(t)?LH:Array.isArray(t)?UH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zH:nh)(e,t)}function Yb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function KH(e,t){t===void 0&&(t=e,e=El);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function FH(e){return function(){return e}}function rh(e){return+e}var j2=[0,1];function Un(e){return e}function m0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:FH(isNaN(t)?NaN:.5)}function GH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function YH(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=m0(i,r),o=n(l,o)):(r=m0(r,i),o=n(o,l)),function(u){return o(r(u))}}function VH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=m0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var d=Su(e,u,1,r)-1;return o[d](i[d](u))}}function Eu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hh(){var e=j2,t=j2,n=El,r,i,o,l=Un,u,d,f;function p(){var v=Math.min(e.length,t.length);return l!==Un&&(l=GH(e[0],e[v-1])),u=v>2?VH:YH,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?o:(d||(d=u(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((f||(f=u(t,e.map(r),nh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,rh),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=Yb,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Un,p()):l!==Un},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(o=v,g):o},function(v,w){return r=v,i=w,p()}}function Vb(){return Hh()(Un,Un)}function WH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ah(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dl(e){return e=ah(Math.abs(e)),e?e[1]:NaN}function XH(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function QH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var JH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cu(e){if(!(t=JH.exec(e)))throw new Error("invalid format: "+e);var t;return new Wb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cu.prototype=Wb.prototype;function Wb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZH(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Kk;function eK(e,t){var n=ah(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Kk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ah(e,Math.max(0,t+o-1))[0]}function E2(e,t){var n=ah(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const O2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>E2(e*100,t),r:E2,s:eK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N2(e){return e}var C2=Array.prototype.map,A2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tK(e){var t=e.grouping===void 0||e.thousands===void 0?N2:XH(C2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?N2:QH(C2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=cu(g);var v=g.fill,w=g.align,S=g.sign,_=g.symbol,j=g.zero,N=g.width,E=g.comma,C=g.precision,A=g.trim,T=g.type;T==="n"?(E=!0,T="g"):O2[T]||(C===void 0&&(C=12),A=!0,T="g"),(j||v==="0"&&w==="=")&&(j=!0,v="0",w="=");var P=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",R=_==="$"?r:/[%p]/.test(T)?l:"",D=O2[T],H=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(B){var $=P,ne=R,Q,re,I;if(T==="c")ne=D(B)+ne,B="";else{B=+B;var V=B<0||1/B<0;if(B=isNaN(B)?d:D(Math.abs(B),C),A&&(B=ZH(B)),V&&+B==0&&S!=="+"&&(V=!1),$=(V?S==="("?S:u:S==="-"||S==="("?"":S)+$,ne=(T==="s"?A2[8+Kk/3]:"")+ne+(V&&S==="("?")":""),H){for(Q=-1,re=B.length;++Q<re;)if(I=B.charCodeAt(Q),48>I||I>57){ne=(I===46?i+B.slice(Q+1):B.slice(Q))+ne,B=B.slice(0,Q);break}}}E&&!j&&(B=t(B,1/0));var ie=$.length+B.length+ne.length,pe=ie<N?new Array(N-ie+1).join(v):"";switch(E&&j&&(B=t(pe+B,pe.length?N-ne.length:1/0),pe=""),w){case"<":B=$+B+ne+pe;break;case"=":B=$+pe+B+ne;break;case"^":B=pe.slice(0,ie=pe.length>>1)+$+B+ne+pe.slice(ie);break;default:B=pe+$+B+ne;break}return o(B)}return z.toString=function(){return g+""},z}function p(g,v){var w=f((g=cu(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(dl(v)/3)))*3,_=Math.pow(10,-S),j=A2[8+S/3];return function(N){return w(_*N)+j}}return{format:f,formatPrefix:p}}var mf,Xb,Fk;nK({thousands:",",grouping:[3],currency:["$",""]});function nK(e){return mf=tK(e),Xb=mf.format,Fk=mf.formatPrefix,mf}function rK(e){return Math.max(0,-dl(Math.abs(e)))}function aK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dl(t)/3)))*3-dl(Math.abs(e)))}function iK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dl(t)-dl(e))+1}function Gk(e,t,n,r){var i=u0(e,t,n),o;switch(r=cu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=aK(i,l))&&(r.precision=o),Fk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=iK(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=rK(i))&&(r.precision=o-(r.type==="%")*2);break}}return Xb(r)}function Fi(e){var t=e.domain;return e.ticks=function(n){var r=t();return l0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Gk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);p-- >0;){if(f=c0(l,u,n),f===d)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Yk(){var e=Vb();return e.copy=function(){return Eu(e,Yk())},$r.apply(e,arguments),Fi(e)}function Vk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,rh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Vk(e).unknown(t)},e=arguments.length?Array.from(e,rh):[0,1],Fi(n)}function Wk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function T2(e){return Math.log(e)}function k2(e){return Math.exp(e)}function sK(e){return-Math.log(-e)}function oK(e){return-Math.exp(-e)}function lK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cK(e){return e===10?lK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function M2(e){return(t,n)=>-e(-t,n)}function Qb(e){const t=e(T2,k2),n=t.domain;let r=10,i,o;function l(){return i=uK(r),o=cK(r),n()[0]<0?(i=M2(i),o=M2(o),e(sK,oK)):e(T2,k2),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let v=i(f),w=i(p),S,_;const j=u==null?10:+u;let N=[];if(!(r%1)&&w-v<j){if(v=Math.floor(v),w=Math.ceil(w),f>0){for(;v<=w;++v)for(S=1;S<r;++S)if(_=v<0?S/o(-v):S*o(v),!(_<f)){if(_>p)break;N.push(_)}}else for(;v<=w;++v)for(S=r-1;S>=1;--S)if(_=v>0?S/o(-v):S*o(v),!(_<f)){if(_>p)break;N.push(_)}N.length*2<j&&(N=l0(f,p,j))}else N=l0(v,w,Math.min(w-v,j)).map(o);return g?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=cu(d)).precision==null&&(d.trim=!0),d=Xb(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=f?d(p):""}},t.nice=()=>n(Wk(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function Xk(){const e=Qb(Hh()).domain([1,10]);return e.copy=()=>Eu(e,Xk()).base(e.base()),$r.apply(e,arguments),e}function P2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function R2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jb(e){var t=1,n=e(P2(t),R2(t));return n.constant=function(r){return arguments.length?e(P2(t=+r),R2(t)):t},Fi(n)}function Qk(){var e=Jb(Hh());return e.copy=function(){return Eu(e,Qk()).constant(e.constant())},$r.apply(e,arguments)}function D2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fK(e){return e<0?-e*e:e*e}function Zb(e){var t=e(Un,Un),n=1;function r(){return n===1?e(Un,Un):n===.5?e(dK,fK):e(D2(n),D2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Fi(t)}function ex(){var e=Zb(Hh());return e.copy=function(){return Eu(e,ex()).exponent(e.exponent())},$r.apply(e,arguments),e}function hK(){return ex.apply(null,arguments).exponent(.5)}function L2(e){return Math.sign(e)*e*e}function mK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Jk(){var e=Vb(),t=[0,1],n=!1,r;function i(o){var l=mK(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(L2(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,rh)).map(L2)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Jk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},$r.apply(i,arguments),Fi(i)}function Zk(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=yH(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[Su(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ii),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Zk().domain(e).range(t).unknown(r)},$r.apply(o,arguments)}function eM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[Su(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return eM().domain([e,t]).range(i).unknown(o)},$r.apply(Fi(l),arguments)}function tM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Su(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return tM().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}const Gv=new Date,Yv=new Date;function cn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>cn(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Gv.setTime(+o),Yv.setTime(+l),e(Gv),e(Yv),Math.floor(n(Gv,Yv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const ih=cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ih);ih.range;const Ua=1e3,Rr=Ua*60,$a=Rr*60,Ya=$a*24,tx=Ya*7,I2=Ya*30,Vv=Ya*365,Ts=cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCSeconds());Ts.range;const nx=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getMinutes());nx.range;const rx=cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCMinutes());rx.range;const ax=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua-e.getMinutes()*Rr)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getHours());ax.range;const ix=cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCHours());ix.range;const Ou=cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Ya,e=>e.getDate()-1);Ou.range;const Kh=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>e.getUTCDate()-1);Kh.range;const nM=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>Math.floor(e/Ya));nM.range;function Ys(e){return cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/tx)}const Fh=Ys(0),sh=Ys(1),pK=Ys(2),gK=Ys(3),fl=Ys(4),vK=Ys(5),yK=Ys(6);Fh.range;sh.range;pK.range;gK.range;fl.range;vK.range;yK.range;function Vs(e){return cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/tx)}const Gh=Vs(0),oh=Vs(1),bK=Vs(2),xK=Vs(3),hl=Vs(4),wK=Vs(5),_K=Vs(6);Gh.range;oh.range;bK.range;xK.range;hl.range;wK.range;_K.range;const sx=cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sx.range;const ox=cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ox.range;const Va=cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Wa=cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wa.range;function rM(e,t,n,r,i,o){const l=[[Ts,1,Ua],[Ts,5,5*Ua],[Ts,15,15*Ua],[Ts,30,30*Ua],[o,1,Rr],[o,5,5*Rr],[o,15,15*Rr],[o,30,30*Rr],[i,1,$a],[i,3,3*$a],[i,6,6*$a],[i,12,12*$a],[r,1,Ya],[r,2,2*Ya],[n,1,tx],[t,1,I2],[t,3,3*I2],[e,1,Vv]];function u(f,p,g){const v=p<f;v&&([f,p]=[p,f]);const w=g&&typeof g.range=="function"?g:d(f,p,g),S=w?w.range(f,+p+1):[];return v?S.reverse():S}function d(f,p,g){const v=Math.abs(p-f)/g,w=qb(([,,j])=>j).right(l,v);if(w===l.length)return e.every(u0(f/Vv,p/Vv,g));if(w===0)return ih.every(Math.max(u0(f,p,g),1));const[S,_]=l[v/l[w-1][2]<l[w][2]/v?w-1:w];return S.every(_)}return[u,d]}const[SK,jK]=rM(Wa,ox,Gh,nM,ix,rx),[EK,OK]=rM(Va,sx,Fh,Ou,ax,nx);function Wv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function NK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Lc(i),p=Ic(i),g=Lc(o),v=Ic(o),w=Lc(l),S=Ic(l),_=Lc(u),j=Ic(u),N=Lc(d),E=Ic(d),C={a:V,A:ie,b:pe,B:se,c:null,d:H2,e:H2,f:XK,g:sF,G:lF,H:YK,I:VK,j:WK,L:aM,m:QK,M:JK,p:M,q:L,Q:G2,s:Y2,S:ZK,u:eF,U:tF,V:nF,w:rF,W:aF,x:null,X:null,y:iF,Y:oF,Z:cF,"%":F2},A={a:F,A:Y,b:J,B:G,c:null,d:K2,e:K2,f:hF,g:SF,G:EF,H:uF,I:dF,j:fF,L:sM,m:mF,M:pF,p:de,q:be,Q:G2,s:Y2,S:gF,u:vF,U:yF,V:bF,w:xF,W:wF,x:null,X:null,y:_F,Y:jF,Z:OF,"%":F2},T={a:z,A:B,b:$,B:ne,c:Q,d:B2,e:B2,f:HK,g:z2,G:$2,H:q2,I:q2,j:$K,L:qK,m:UK,M:zK,p:H,q:IK,Q:FK,s:GK,S:BK,u:MK,U:PK,V:RK,w:kK,W:DK,x:re,X:I,y:z2,Y:$2,Z:LK,"%":KK};C.x=P(n,C),C.X=P(r,C),C.c=P(t,C),A.x=P(n,A),A.X=P(r,A),A.c=P(t,A);function P(Z,ye){return function(Se){var ue=[],mt=-1,De=0,pt=Z.length,yt,Tt,An;for(Se instanceof Date||(Se=new Date(+Se));++mt<pt;)Z.charCodeAt(mt)===37&&(ue.push(Z.slice(De,mt)),(Tt=U2[yt=Z.charAt(++mt)])!=null?yt=Z.charAt(++mt):Tt=yt==="e"?" ":"0",(An=ye[yt])&&(yt=An(Se,Tt)),ue.push(yt),De=mt+1);return ue.push(Z.slice(De,mt)),ue.join("")}}function R(Z,ye){return function(Se){var ue=Dc(1900,void 0,1),mt=D(ue,Z,Se+="",0),De,pt;if(mt!=Se.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(ye&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(De=Xv(Dc(ue.y,0,1)),pt=De.getUTCDay(),De=pt>4||pt===0?oh.ceil(De):oh(De),De=Kh.offset(De,(ue.V-1)*7),ue.y=De.getUTCFullYear(),ue.m=De.getUTCMonth(),ue.d=De.getUTCDate()+(ue.w+6)%7):(De=Wv(Dc(ue.y,0,1)),pt=De.getDay(),De=pt>4||pt===0?sh.ceil(De):sh(De),De=Ou.offset(De,(ue.V-1)*7),ue.y=De.getFullYear(),ue.m=De.getMonth(),ue.d=De.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),pt="Z"in ue?Xv(Dc(ue.y,0,1)).getUTCDay():Wv(Dc(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(pt+5)%7:ue.w+ue.U*7-(pt+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Xv(ue)):Wv(ue)}}function D(Z,ye,Se,ue){for(var mt=0,De=ye.length,pt=Se.length,yt,Tt;mt<De;){if(ue>=pt)return-1;if(yt=ye.charCodeAt(mt++),yt===37){if(yt=ye.charAt(mt++),Tt=T[yt in U2?ye.charAt(mt++):yt],!Tt||(ue=Tt(Z,Se,ue))<0)return-1}else if(yt!=Se.charCodeAt(ue++))return-1}return ue}function H(Z,ye,Se){var ue=f.exec(ye.slice(Se));return ue?(Z.p=p.get(ue[0].toLowerCase()),Se+ue[0].length):-1}function z(Z,ye,Se){var ue=w.exec(ye.slice(Se));return ue?(Z.w=S.get(ue[0].toLowerCase()),Se+ue[0].length):-1}function B(Z,ye,Se){var ue=g.exec(ye.slice(Se));return ue?(Z.w=v.get(ue[0].toLowerCase()),Se+ue[0].length):-1}function $(Z,ye,Se){var ue=N.exec(ye.slice(Se));return ue?(Z.m=E.get(ue[0].toLowerCase()),Se+ue[0].length):-1}function ne(Z,ye,Se){var ue=_.exec(ye.slice(Se));return ue?(Z.m=j.get(ue[0].toLowerCase()),Se+ue[0].length):-1}function Q(Z,ye,Se){return D(Z,t,ye,Se)}function re(Z,ye,Se){return D(Z,n,ye,Se)}function I(Z,ye,Se){return D(Z,r,ye,Se)}function V(Z){return l[Z.getDay()]}function ie(Z){return o[Z.getDay()]}function pe(Z){return d[Z.getMonth()]}function se(Z){return u[Z.getMonth()]}function M(Z){return i[+(Z.getHours()>=12)]}function L(Z){return 1+~~(Z.getMonth()/3)}function F(Z){return l[Z.getUTCDay()]}function Y(Z){return o[Z.getUTCDay()]}function J(Z){return d[Z.getUTCMonth()]}function G(Z){return u[Z.getUTCMonth()]}function de(Z){return i[+(Z.getUTCHours()>=12)]}function be(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ye=P(Z+="",C);return ye.toString=function(){return Z},ye},parse:function(Z){var ye=R(Z+="",!1);return ye.toString=function(){return Z},ye},utcFormat:function(Z){var ye=P(Z+="",A);return ye.toString=function(){return Z},ye},utcParse:function(Z){var ye=R(Z+="",!0);return ye.toString=function(){return Z},ye}}}var U2={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,CK=/^%/,AK=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function TK(e){return e.replace(AK,"\\$&")}function Lc(e){return new RegExp("^(?:"+e.map(TK).join("|")+")","i")}function Ic(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kK(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function MK(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function PK(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function RK(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function DK(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $2(e,t,n){var r=bn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function z2(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function IK(e,t,n){var r=bn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function UK(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function B2(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $K(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function q2(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function zK(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function BK(e,t,n){var r=bn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qK(e,t,n){var r=bn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function HK(e,t,n){var r=bn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function KK(e,t,n){var r=CK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function FK(e,t,n){var r=bn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function GK(e,t,n){var r=bn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function H2(e,t){return Ze(e.getDate(),t,2)}function YK(e,t){return Ze(e.getHours(),t,2)}function VK(e,t){return Ze(e.getHours()%12||12,t,2)}function WK(e,t){return Ze(1+Ou.count(Va(e),e),t,3)}function aM(e,t){return Ze(e.getMilliseconds(),t,3)}function XK(e,t){return aM(e,t)+"000"}function QK(e,t){return Ze(e.getMonth()+1,t,2)}function JK(e,t){return Ze(e.getMinutes(),t,2)}function ZK(e,t){return Ze(e.getSeconds(),t,2)}function eF(e){var t=e.getDay();return t===0?7:t}function tF(e,t){return Ze(Fh.count(Va(e)-1,e),t,2)}function iM(e){var t=e.getDay();return t>=4||t===0?fl(e):fl.ceil(e)}function nF(e,t){return e=iM(e),Ze(fl.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function rF(e){return e.getDay()}function aF(e,t){return Ze(sh.count(Va(e)-1,e),t,2)}function iF(e,t){return Ze(e.getFullYear()%100,t,2)}function sF(e,t){return e=iM(e),Ze(e.getFullYear()%100,t,2)}function oF(e,t){return Ze(e.getFullYear()%1e4,t,4)}function lF(e,t){var n=e.getDay();return e=n>=4||n===0?fl(e):fl.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function cF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function K2(e,t){return Ze(e.getUTCDate(),t,2)}function uF(e,t){return Ze(e.getUTCHours(),t,2)}function dF(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function fF(e,t){return Ze(1+Kh.count(Wa(e),e),t,3)}function sM(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function hF(e,t){return sM(e,t)+"000"}function mF(e,t){return Ze(e.getUTCMonth()+1,t,2)}function pF(e,t){return Ze(e.getUTCMinutes(),t,2)}function gF(e,t){return Ze(e.getUTCSeconds(),t,2)}function vF(e){var t=e.getUTCDay();return t===0?7:t}function yF(e,t){return Ze(Gh.count(Wa(e)-1,e),t,2)}function oM(e){var t=e.getUTCDay();return t>=4||t===0?hl(e):hl.ceil(e)}function bF(e,t){return e=oM(e),Ze(hl.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function xF(e){return e.getUTCDay()}function wF(e,t){return Ze(oh.count(Wa(e)-1,e),t,2)}function _F(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function SF(e,t){return e=oM(e),Ze(e.getUTCFullYear()%100,t,2)}function jF(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function EF(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hl(e):hl.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function OF(){return"+0000"}function F2(){return"%"}function G2(e){return+e}function Y2(e){return Math.floor(+e/1e3)}var Qo,lM,cM;NF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NF(e){return Qo=NK(e),lM=Qo.format,Qo.parse,cM=Qo.utcFormat,Qo.utcParse,Qo}function CF(e){return new Date(e)}function AF(e){return e instanceof Date?+e:+new Date(+e)}function lx(e,t,n,r,i,o,l,u,d,f){var p=Vb(),g=p.invert,v=p.domain,w=f(".%L"),S=f(":%S"),_=f("%I:%M"),j=f("%I %p"),N=f("%a %d"),E=f("%b %d"),C=f("%B"),A=f("%Y");function T(P){return(d(P)<P?w:u(P)<P?S:l(P)<P?_:o(P)<P?j:r(P)<P?i(P)<P?N:E:n(P)<P?C:A)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?v(Array.from(P,AF)):v().map(CF)},p.ticks=function(P){var R=v();return e(R[0],R[R.length-1],P??10)},p.tickFormat=function(P,R){return R==null?T:f(R)},p.nice=function(P){var R=v();return(!P||typeof P.range!="function")&&(P=t(R[0],R[R.length-1],P??10)),P?v(Wk(R,P)):p},p.copy=function(){return Eu(p,lx(e,t,n,r,i,o,l,u,d,f))},p}function TF(){return $r.apply(lx(EK,OK,Va,sx,Fh,Ou,ax,nx,Ts,lM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kF(){return $r.apply(lx(SK,jK,Wa,ox,Gh,Kh,ix,rx,Ts,cM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yh(){var e=0,t=1,n,r,i,o,l=Un,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function p(g){return function(v){var w,S;return arguments.length?([w,S]=v,l=g(w,S),f):[l(0),l(1)]}}return f.range=p(El),f.rangeRound=p(Yb),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),f}}function Gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uM(){var e=Fi(Yh()(Un));return e.copy=function(){return Gi(e,uM())},Ja.apply(e,arguments)}function dM(){var e=Qb(Yh()).domain([1,10]);return e.copy=function(){return Gi(e,dM()).base(e.base())},Ja.apply(e,arguments)}function fM(){var e=Jb(Yh());return e.copy=function(){return Gi(e,fM()).constant(e.constant())},Ja.apply(e,arguments)}function cx(){var e=Zb(Yh());return e.copy=function(){return Gi(e,cx()).exponent(e.exponent())},Ja.apply(e,arguments)}function MF(){return cx.apply(null,arguments).exponent(.5)}function hM(){var e=[],t=Un;function n(r){if(r!=null&&!isNaN(r=+r))return t((Su(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ii),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>vH(e,o/r))},n.copy=function(){return hM(t).domain(e)},Ja.apply(n,arguments)}function Vh(){var e=0,t=.5,n=1,r=1,i,o,l,u,d,f=Un,p,g=!1,v;function w(_){return isNaN(_=+_)?v:(_=.5+((_=+p(_))-o)*(r*_<r*o?u:d),f(g?Math.max(0,Math.min(1,_)):_))}w.domain=function(_){return arguments.length?([e,t,n]=_,i=p(e=+e),o=p(t=+t),l=p(n=+n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,w):[e,t,n]},w.clamp=function(_){return arguments.length?(g=!!_,w):g},w.interpolator=function(_){return arguments.length?(f=_,w):f};function S(_){return function(j){var N,E,C;return arguments.length?([N,E,C]=j,f=KH(_,[N,E,C]),w):[f(0),f(.5),f(1)]}}return w.range=S(El),w.rangeRound=S(Yb),w.unknown=function(_){return arguments.length?(v=_,w):v},function(_){return p=_,i=_(e),o=_(t),l=_(n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,w}}function mM(){var e=Fi(Vh()(Un));return e.copy=function(){return Gi(e,mM())},Ja.apply(e,arguments)}function pM(){var e=Qb(Vh()).domain([.1,1,10]);return e.copy=function(){return Gi(e,pM()).base(e.base())},Ja.apply(e,arguments)}function gM(){var e=Jb(Vh());return e.copy=function(){return Gi(e,gM()).constant(e.constant())},Ja.apply(e,arguments)}function ux(){var e=Zb(Vh());return e.copy=function(){return Gi(e,ux()).exponent(e.exponent())},Ja.apply(e,arguments)}function PF(){return ux.apply(null,arguments).exponent(.5)}const Bc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kb,scaleDiverging:mM,scaleDivergingLog:pM,scaleDivergingPow:ux,scaleDivergingSqrt:PF,scaleDivergingSymlog:gM,scaleIdentity:Vk,scaleImplicit:d0,scaleLinear:Yk,scaleLog:Xk,scaleOrdinal:Hb,scalePoint:xH,scalePow:ex,scaleQuantile:Zk,scaleQuantize:eM,scaleRadial:Jk,scaleSequential:uM,scaleSequentialLog:dM,scaleSequentialPow:cx,scaleSequentialQuantile:hM,scaleSequentialSqrt:MF,scaleSequentialSymlog:fM,scaleSqrt:hK,scaleSymlog:Qk,scaleThreshold:tM,scaleTime:TF,scaleUtc:kF,tickFormat:Gk},Symbol.toStringTag,{value:"Module"}));var Yi=e=>e.chartData,dx=te([Yi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fx=(e,t,n,r)=>r?dx(e):Yi(e);function ml(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(pr(t)&&pr(n))return!0}return!1}function V2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function RF(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(pr(n))i=n;else if(typeof n=="function")return;if(pr(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ml(l))return l}}function DF(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ml(r))return V2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Ne(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&UO.test(i)){var d=UO.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Ne(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&$O.test(o)){var p=$O.exec(o);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t==null?void 0:t[1];var v=[l,u];if(ml(v))return t==null?v:V2(v,t,n)}}}var Ol=1e9,LF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mx,Nt=!0,Lr="[DecimalError] ",Ls=Lr+"Invalid argument: ",hx=Lr+"Exponent out of range: ",Nl=Math.floor,xs=Math.pow,IF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,pn=1e7,jt=7,vM=9007199254740991,lh=Nl(vM/jt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(e){return Ha(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,n=t.constructor;return vt(Ha(t,new n(e),0,1),n.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return en(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(dr))throw Error(Lr+"NaN");if(n.s<1)throw Error(Lr+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new r(0):(Nt=!1,t=Ha(uu(n,o),uu(e,o),o),Nt=!0,vt(t,i))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xM(t,e):yM(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Lr+"NaN");return n.s?(Nt=!1,t=Ha(n,e,0,1).times(e),Nt=!0,n.minus(t)):vt(new r(n),i)};we.naturalExponential=we.exp=function(){return bM(this)};we.naturalLogarithm=we.ln=function(){return uu(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yM(t,e):xM(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ls+e);if(t=en(i)+1,r=i.d.length-1,n=r*jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};we.squareRoot=we.sqrt=function(){var e,t,n,r,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Lr+"NaN")}for(e=en(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ua(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Nl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(Ha(u,o,l+2)).times(.5),ua(o.d).slice(0,l)===(t=ua(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(vt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return Nt=!0,vt(r,n)};we.times=we.mul=function(e){var t,n,r,i,o,l,u,d,f,p=this,g=p.constructor,v=p.d,w=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,d=v.length,f=w.length,d<f&&(o=v,v=w,w=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=o[i]+w[r]*v[i-r-1]+t,o[i--]=u%pn|0,t=u/pn|0;o[i]=(o[i]+t)%pn|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Nt?vt(e,g.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ha(e,0,Ol),t===void 0?t=r.rounding:ha(t,0,8),vt(n,e+en(n)+1,t))};we.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=zs(r,!0):(ha(e,0,Ol),t===void 0?t=i.rounding:ha(t,0,8),r=vt(new i(r),e+1,t),n=zs(r,!0,e+1)),n};we.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?zs(i):(ha(e,0,Ol),t===void 0?t=o.rounding:ha(t,0,8),r=vt(new o(i),e+en(i)+1,t),n=zs(r.abs(),!1,e+en(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return vt(new t(e),en(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,n,r,i,o,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(dr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(dr))return u;if(r=d.precision,e.eq(dr))return vt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=p<0?-p:p)<=vM){for(i=new d(dr),t=Math.ceil(r/jt+4),Nt=!1;n%2&&(i=i.times(u),X2(i.d,t)),n=Nl(n/2),n!==0;)u=u.times(u),X2(u.d,t);return Nt=!0,e.s<0?new d(dr).div(i):vt(i,r)}}else if(o<0)throw Error(Lr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Nt=!1,i=e.times(uu(u,r+f)),Nt=!0,i=bM(i),i.s=o,i};we.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=en(i),r=zs(i,n<=o.toExpNeg||n>=o.toExpPos)):(ha(e,1,Ol),t===void 0?t=o.rounding:ha(t,0,8),i=vt(new o(i),e,t),n=en(i),r=zs(i,e<=n||n<=o.toExpNeg,e)),r};we.toSignificantDigits=we.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ha(e,1,Ol),t===void 0?t=r.rounding:ha(t,0,8)),vt(new r(n),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=en(e),n=e.constructor;return zs(e,t<=n.toExpNeg||t>=n.toExpPos)};function yM(e,t){var n,r,i,o,l,u,d,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Nt?vt(t,g):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(g/jt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/pn|0,d[o]%=pn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Nt?vt(t,g):t}function ha(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ls+e)}function ua(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=jt-r.length,n&&(o+=ki(n)),o+=r;l=e[t],r=l+"",n=jt-r.length,n&&(o+=ki(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ha=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%pn|0,l=o/pn|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*pn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,d,f,p,g,v,w,S,_,j,N,E,C,A,T,P,R,D,H=r.constructor,z=r.s==i.s?1:-1,B=r.d,$=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(Lr+"Division by zero");for(d=r.e-i.e,R=$.length,T=B.length,w=new H(z),S=w.d=[],f=0;$[f]==(B[f]||0);)++f;if($[f]>(B[f]||0)&&--d,o==null?E=o=H.precision:l?E=o+(en(r)-en(i))+1:E=o,E<0)return new H(0);if(E=E/jt+2|0,f=0,R==1)for(p=0,$=$[0],E++;(f<T||p)&&E--;f++)C=p*pn+(B[f]||0),S[f]=C/$|0,p=C%$|0;else{for(p=pn/($[0]+1)|0,p>1&&($=e($,p),B=e(B,p),R=$.length,T=B.length),A=R,_=B.slice(0,R),j=_.length;j<R;)_[j++]=0;D=$.slice(),D.unshift(0),P=$[0],$[1]>=pn/2&&++P;do p=0,u=t($,_,R,j),u<0?(N=_[0],R!=j&&(N=N*pn+(_[1]||0)),p=N/P|0,p>1?(p>=pn&&(p=pn-1),g=e($,p),v=g.length,j=_.length,u=t(g,_,v,j),u==1&&(p--,n(g,R<v?D:$,v))):(p==0&&(u=p=1),g=$.slice()),v=g.length,v<j&&g.unshift(0),n(_,g,j),u==-1&&(j=_.length,u=t($,_,R,j),u<1&&(p++,n(_,R<j?D:$,j))),j=_.length):u===0&&(p++,_=[0]),S[f++]=p,u&&_[0]?_[j++]=B[A]||0:(_=[B[A]],j=1);while((A++<T||_[0]!==void 0)&&E--)}return S[0]||S.shift(),w.e=d,vt(w,l?o+en(w)+1:o)}})();function bM(e,t){var n,r,i,o,l,u,d=0,f=0,p=e.constructor,g=p.precision;if(en(e)>16)throw Error(hx+en(e));if(!e.s)return new p(dr);for(Nt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(xs(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new p(dr),p.precision=u;;){if(i=vt(i.times(e),u),n=n.times(++d),l=o.plus(Ha(i,n,u)),ua(l.d).slice(0,u)===ua(o.d).slice(0,u)){for(;f--;)o=vt(o.times(o),u);return p.precision=g,t==null?(Nt=!0,vt(o,g)):o}o=l}}function en(e){for(var t=e.e*jt,n=e.d[0];n>=10;n/=10)t++;return t}function Qv(e,t,n){if(t>e.LN10.sd())throw Nt=!0,n&&(e.precision=n),Error(Lr+"LN10 precision limit exceeded");return vt(new e(e.LN10),t)}function ki(e){for(var t="";e--;)t+="0";return t}function uu(e,t){var n,r,i,o,l,u,d,f,p,g=1,v=10,w=e,S=w.d,_=w.constructor,j=_.precision;if(w.s<1)throw Error(Lr+(w.s?"NaN":"-Infinity"));if(w.eq(dr))return new _(0);if(t==null?(Nt=!1,f=j):f=t,w.eq(10))return t==null&&(Nt=!0),Qv(_,f);if(f+=v,_.precision=f,n=ua(S),r=n.charAt(0),o=en(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=ua(w.d),r=n.charAt(0),g++;o=en(w),r>1?(w=new _("0."+n),o++):w=new _(r+"."+n.slice(1))}else return d=Qv(_,f+2,j).times(o+""),w=uu(new _(r+"."+n.slice(1)),f-v).plus(d),_.precision=j,t==null?(Nt=!0,vt(w,j)):w;for(u=l=w=Ha(w.minus(dr),w.plus(dr),f),p=vt(w.times(w),f),i=3;;){if(l=vt(l.times(p),f),d=u.plus(Ha(l,new _(i),f)),ua(d.d).slice(0,f)===ua(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Qv(_,f+2,j).times(o+""))),u=Ha(u,new _(g),f),_.precision=j,t==null?(Nt=!0,vt(u,j)):u;u=d,i+=2}}function W2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Nl(n/jt),e.d=[],r=(n+1)%jt,n<0&&(r+=jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=jt;r<i;)e.d.push(+t.slice(r,r+=jt));t=t.slice(r),r=jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Nt&&(e.e>lh||e.e<-lh))throw Error(hx+n)}else e.s=0,e.e=0,e.d=[0];return e}function vt(e,t,n){var r,i,o,l,u,d,f,p,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=jt,i=t,f=g[p=0];else{if(p=Math.ceil((r+1)/jt),o=g.length,p>=o)return e;for(f=o=g[p],l=1;o>=10;o/=10)l++;r%=jt,i=r-jt+l}if(n!==void 0&&(o=xs(10,l-i-1),u=f/o%10|0,d=t<0||g[p+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/xs(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(o=en(e),g.length=1,t=t-o-1,g[0]=xs(10,(jt-t%jt)%jt),e.e=Nl(-t/jt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=xs(10,jt-r),g[p]=i>0?(f/xs(10,l-i)%xs(10,i)|0)*o:0),d)for(;;)if(p==0){(g[0]+=o)==pn&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=pn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Nt&&(e.e>lh||e.e<-lh))throw Error(hx+en(e));return e}function xM(e,t){var n,r,i,o,l,u,d,f,p,g,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Nt?vt(t,w):t;if(d=e.d,g=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=f,u=d.length),i=Math.max(Math.ceil(w/jt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(o=i;o&&d[--o]===0;)d[o]=pn-1;--d[o],d[i]+=pn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,Nt?vt(t,w):t):new v(0)}function zs(e,t,n){var r,i=en(e),o=ua(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+ki(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ki(-i-1)+o,n&&(r=n-l)>0&&(o+=ki(r))):i>=l?(o+=ki(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+ki(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=ki(r))),e.s<0?"-"+o:o}function X2(e,t){if(e.length>t)return e.length=t,!0}function wM(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ls+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return W2(l,o.toString())}else if(typeof o!="string")throw Error(Ls+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,IF.test(o))W2(l,o);else throw Error(Ls+o)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wM,i.config=i.set=UF,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function UF(e){if(!e||typeof e!="object")throw Error(Lr+"Object expected");var t,n,r,i=["precision",1,Ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Nl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ls+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ls+n+": "+r);return this}var mx=wM(LF);dr=new mx(1);const lt=mx;var $F=e=>e,_M={},SM=e=>e===_M,Q2=e=>function t(){return arguments.length===0||arguments.length===1&&SM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},jM=(e,t)=>e===1?t:Q2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==_M).length;return o>=e?t(...r):jM(e-o,Q2(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(p=>SM(p)?u.shift():p);return t(...f,...u)}))}),Wh=e=>jM(e.length,e),p0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},zF=Wh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),BF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return $F;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),o(...arguments))}},g0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),EM=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,n=e(...i)),n}};function OM(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function NM(e,t,n){for(var r=new lt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Wh((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Wh((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Wh((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var CM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},AM=(e,t,n)=>{if(e.lte(0))return new lt(0);var r=OM(e.toNumber()),i=new lt(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new lt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new lt(d.toNumber()):new lt(Math.ceil(d.toNumber()))},qF=(e,t,n)=>{var r=new lt(1),i=new lt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new lt(10).pow(OM(e)-1),i=new lt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new lt(Math.floor(e)))}else e===0?i=new lt(Math.floor((t-1)/2)):n||(i=new lt(Math.floor(e)));var l=Math.floor((t-1)/2),u=BF(zF(d=>i.add(new lt(d-l).mul(r)).toNumber()),p0);return u(0,t)},TM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var l=AM(new lt(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new lt(0):(u=new lt(t).add(n).div(2),u=u.sub(new lt(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new lt(n).sub(u).div(l).toNumber()),p=d+f+1;return p>r?TM(t,n,r,i,o+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new lt(d).mul(l)),tickMax:u.add(new lt(f).mul(l))})};function HF(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,u]=CM([t,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...p0(0,r-1).map(()=>1/0)]:[...p0(0,r-1).map(()=>-1/0),u];return t>n?g0(d):d}if(l===u)return qF(l,r,i);var{step:f,tickMin:p,tickMax:g}=TM(l,u,o,i,0),v=NM(p,g.add(new lt(.1).mul(f)),f);return t>n?g0(v):v}function KF(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=CM([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var u=Math.max(t,2),d=AM(new lt(l).sub(o).div(u-1),i,0),f=[...NM(new lt(o),new lt(l),d),l];return i===!1&&(f=f.map(p=>Math.round(p))),n>r?g0(f):f}var FF=EM(HF),GF=EM(KF),kM=e=>e.rootProps.maxBarSize,YF=e=>e.rootProps.barGap,MM=e=>e.rootProps.barCategoryGap,VF=e=>e.rootProps.barSize,Nu=e=>e.rootProps.stackOffset,px=e=>e.options.chartName,gx=e=>e.rootProps.syncId,PM=e=>e.rootProps.syncMethod,vx=e=>e.options.eventEmitter,La={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Xh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},WF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:La.angleAxisId,includeHidden:!1,name:void 0,reversed:La.reversed,scale:La.scale,tick:La.tick,tickCount:void 0,ticks:void 0,type:La.type,unit:void 0},XF={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:ur.type,unit:void 0},QF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:La.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:La.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:La.scale,tick:La.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},JF={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:"category",unit:void 0},yx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?QF:WF,bx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?JF:XF,Qh=e=>e.polarOptions,xx=te([Xa,Qa,ln],pk),RM=te([Qh,xx],(e,t)=>{if(e!=null)return Pn(e.innerRadius,t,0)}),DM=te([Qh,xx],(e,t)=>{if(e!=null)return Pn(e.outerRadius,t,t*.8)}),ZF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},LM=te([Qh],ZF);te([yx,LM],Xh);var IM=te([xx,RM,DM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});te([bx,IM],Xh);var UM=te([et,Qh,RM,DM,Xa,Qa],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Pn(l,i,i/2),cy:Pn(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),At=(e,t)=>t,Cu=(e,t,n)=>n;function wx(e){return e==null?void 0:e.id}var un=e=>{var t=et(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Cl=e=>e.tooltip.settings.axisId,xn=e=>{var t=un(e),n=Cl(e);return Au(e,t,n)},$M=te([xn],e=>e==null?void 0:e.dataKey);function zM(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=wx(u);f.forEach((g,v)=>{var w=o==null||i?v:String(Pt(g,o,null)),S=Pt(g,u.dataKey,0),_;l.has(w)?_=l.get(w):_={},Object.assign(_,{[p]:S}),l.set(w,_)})}}),Array.from(l.values())}function Jh(e){return e.stackId!=null&&e.dataKey!=null}function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(r){eG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eG(e,t,n){return(t=tG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v0=[0,"auto"],lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BM=(e,t)=>e.cartesianAxis.xAxis[t],Za=(e,t)=>{var n=BM(e,t);return n??lr},cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:v0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_u},qM=(e,t)=>e.cartesianAxis.yAxis[t],ei=(e,t)=>{var n=qM(e,t);return n??cr},rG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_x=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??rG},Ht=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);case"zAxis":return _x(e,n);case"angleAxis":return yx(e,n);case"radiusAxis":return bx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aG=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Au=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);case"angleAxis":return yx(e,n);case"radiusAxis":return bx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Sx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var jx=e=>e.graphicalItems.cartesianItems,iG=te([At,Cu],Sx),Ex=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Tu=te([jx,Ht,iG],Ex),KM=te([Tu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Jh)),FM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),GM=te([Tu],FM),Ox=e=>e.map(t=>t.data).filter(Boolean).flat(1),sG=te([Tu],Ox),Nx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Cx=te([sG,fx],Nx),Ax=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Pt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Pt(i,r)}))):e.map(r=>({value:r})),Zh=te([Cx,Ht,Tu],Ax);function YM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ws(e){return e.filter(t=>fa(t)||t instanceof Date).map(Number).filter(t=>hr(t)===!1)}function oG(e,t,n){return!n||typeof t!="number"||hr(t)?[]:n.length?Ws(n.flatMap(r=>{var i=Pt(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!pr(o)||!pr(l)))return[t-o,t+l]})):[]}var lG=te([KM,fx,xn],zM),VM=(e,t,n)=>{var r={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,d=u.map(wx);return[l,{stackedData:f7(e,d,n),graphicalItems:u}]}))},y0=te([lG,KM,Nu],VM),WM=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=v7(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},cG=te([y0,Yi,At],WM),XM=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(g=>YM(i,g)),p=Pt(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:p,errorDomain:oG(o,p,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:Pt(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),em=e=>e.errorBars,QM=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>YM(n,r));te([GM,em,At],QM);var uG=te([Cx,Ht,GM,em,At],XM);function dG(e){var{value:t}=e;if(fa(t)||t instanceof Date)return t}var Z2=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Ws(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fG=(e,t,n)=>{var r=e.map(dG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&uT(r))?Lk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Tx=e=>{var t;if(e==null||!("domain"in e))return v0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ws(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:v0},uh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},JM=e=>e.referenceElements.dots,Al=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),hG=te([JM,At,Cu],Al),ZM=e=>e.referenceElements.areas,mG=te([ZM,At,Cu],Al),eP=e=>e.referenceElements.lines,pG=te([eP,At,Cu],Al),tP=(e,t)=>{var n=Ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gG=te(hG,At,tP),nP=(e,t)=>{var n=Ws(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vG=te([mG,At],nP),rP=(e,t)=>{var n=Ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yG=te(pG,At,rP),bG=te(gG,yG,vG,(e,t,n)=>uh(e,n,t)),aP=te([Ht],Tx),kx=(e,t,n,r,i,o,l)=>{var u=RF(t,e.allowDataOverflow);if(u!=null)return u;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=d?uh(n,i,Z2(r)):uh(i,Z2(r));return DF(t,f,e.allowDataOverflow)},xG=te([Ht,aP,cG,uG,bG,et,At],kx),wG=[0,1],Mx=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Fs(t,o);return f&&u==null?Lk(0,n.length):d==="category"?fG(r,e,f):i==="expand"?wG:l}},Px=te([Ht,et,Cx,Zh,Nu,At,xG],Mx),iP=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(yu(o));return u in Bc?u:"point"}}},Tl=te([Ht,et,HM,px,At],iP);function _G(e){if(e!=null){if(e in Bc)return Bc[e]();var t="scale".concat(yu(e));if(t in Bc)return Bc[t]()}}function Rx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=_G(t);if(i!=null){var o=i.domain(n).range(r);return o7(o),o}}}var Dx=(e,t,n)=>{var r=Tx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ml(e))return FF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ml(e))return GF(e,t.tickCount,t.allowDecimals)}},Lx=te([Px,Au,Tl],Dx),Ix=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ml(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},SG=te([Ht,Px,Lx,At],Ix),jG=te(Zh,Ht,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ws(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),sP=te(jG,et,MM,ln,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!pr(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Pn(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),EG=(e,t)=>{var n=Za(e,t);return n==null||typeof n.padding!="string"?0:sP(e,"xAxis",t,n.padding)},OG=(e,t)=>{var n=ei(e,t);return n==null||typeof n.padding!="string"?0:sP(e,"yAxis",t,n.padding)},NG=te(Za,EG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),CG=te(ei,OG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),AG=te([ln,NG,zh,$h,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),TG=te([ln,et,CG,zh,$h,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ku=(e,t,n,r)=>{var i;switch(t){case"xAxis":return AG(e,n,r);case"yAxis":return TG(e,n,r);case"zAxis":return(i=_x(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return LM(e);case"radiusAxis":return IM(e,n);default:return}},oP=te([Ht,ku],Xh),kl=te([Ht,Tl,SG,oP],Rx);te([Tu,em,At],QM);function lP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tm=(e,t)=>t,nm=(e,t,n)=>n,kG=te(Ih,tm,nm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lP)),MG=te(Uh,tm,nm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lP)),cP=(e,t)=>({width:e.width,height:t.height}),PG=(e,t)=>{var n=typeof t.width=="number"?t.width:_u;return{width:n,height:e.height}},uP=te(ln,Za,cP),RG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},DG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},LG=te(Qa,ln,kG,tm,nm,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=cP(t,u);l==null&&(l=RG(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),IG=te(Xa,ln,MG,tm,nm,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=PG(t,u);l==null&&(l=DG(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),UG=(e,t)=>{var n=Za(e,t);if(n!=null)return LG(e,n.orientation,n.mirror)},$G=te([ln,Za,UG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),zG=(e,t)=>{var n=ei(e,t);if(n!=null)return IG(e,n.orientation,n.mirror)},BG=te([ln,ei,zG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),dP=te(ln,ei,(e,t)=>{var n=typeof t.width=="number"?t.width:_u;return{width:n,height:e.height}}),eN=(e,t,n)=>{switch(t){case"xAxis":return uP(e,n).width;case"yAxis":return dP(e,n).height;default:return}},fP=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=Fs(e,r),d=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&uT(d))return d}},Ux=te([et,Zh,Ht,At],fP),hP=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Fs(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},$x=te([et,Zh,Au,At],hP),tN=te([et,aG,Tl,kl,Ux,$x,ku,Lx,At],(e,t,n,r,i,o,l,u,d)=>{if(t==null)return null;var f=Fs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}),qG=(e,t,n,r,i,o,l,u,d)=>{if(!(t==null||r==null)){var f=Fs(e,d),{type:p,ticks:g,tickCount:v}=t,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/w:0;S=d==="angleAxis"&&o!=null&&o.length>=2?gn(o[0]-o[1])*2*S:S;var _=g||i;if(_){var j=_.map((N,E)=>{var C=l?l.indexOf(N):N;return{index:E,coordinate:r(C)+S,value:N,offset:S}});return j.filter(N=>!hr(N.coordinate))}return f&&u?u.map((N,E)=>({coordinate:r(N)+S,value:N,index:E,offset:S})):r.ticks?r.ticks(v).map(N=>({coordinate:r(N)+S,value:N,offset:S})):r.domain().map((N,E)=>({coordinate:r(N)+S,value:l?l[N]:N,index:E,offset:S}))}},mP=te([et,Au,Tl,kl,Lx,ku,Ux,$x,At],qG),HG=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Fs(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?gn(r[0]-r[1])*2*f:f,u&&o?o.map((p,g)=>({coordinate:n(p)+f,value:p,index:g,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,g)=>({coordinate:n(p)+f,value:i?i[p]:p,index:g,offset:f}))}},pl=te([et,Au,kl,ku,Ux,$x,At],HG),gl=te(Ht,kl,(e,t)=>{if(!(e==null||t==null))return ch(ch({},e),{},{scale:t})}),KG=te([Ht,Tl,Px,oP],Rx);te((e,t,n)=>_x(e,n),KG,(e,t)=>{if(!(e==null||t==null))return ch(ch({},e),{},{scale:t})});var FG=te([et,Ih,Uh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pP=e=>e.options.defaultTooltipEventType,gP=e=>e.options.validateTooltipEventTypes;function vP(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function zx(e,t){var n=pP(e),r=gP(e);return vP(t,n,r)}function GG(e){return Oe(t=>zx(t,e))}var yP=(e,t)=>{var n,r=Number(t);if(!(hr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},YG=e=>e.tooltip.settings,Di={active:!1,index:null,dataKey:void 0,coordinate:void 0},VG={itemInteraction:{click:Di,hover:Di},axisInteraction:{click:Di,hover:Di},keyboardInteraction:Di,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bP=gr({name:"tooltip",initialState:VG,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=qa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:WG,removeTooltipEntrySettings:XG,setTooltipSettingsState:QG,setActiveMouseOverItemIndex:xP,mouseLeaveItem:JG,mouseLeaveChart:wP,setActiveClickItemIndex:ZG,setMouseOverAxisIndex:_P,setMouseClickAxisIndex:eY,setSyncInteraction:b0,setKeyboardInteraction:x0}=bP.actions,tY=bP.reducer;function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){nY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nY(e,t,n){return(t=rY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function sY(e){return e.index!=null}var SP=(e,t,n,r)=>{if(t==null)return Di;var i=iY(e,t,n);if(i==null)return Di;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(sY(i)){if(o)return pf(pf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return pf(pf({},Di),{},{coordinate:i.coordinate})},Bx=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!pr(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},jP=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,o);if(f!=null)return f;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},EP=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Mu=e=>e.options.tooltipPayloadSearcher,Ml=e=>e.tooltip;function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){oY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oY(e,t,n){return(t=lY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lY(e){var t=cY(e,"string");return typeof t=="symbol"?t:t+""}function cY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uY(e,t){return e??t}var OP=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,g=[];return e.reduce((v,w)=>{var S,{dataDefinedOnItem:_,settings:j}=w,N=uY(_,u),E=Array.isArray(N)?gk(N,f,p):N,C=(S=j==null?void 0:j.dataKey)!==null&&S!==void 0?S:r,A=j==null?void 0:j.nameKey,T;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?T=Xz(E,r,i):T=o(E,t,d,A),Array.isArray(T))T.forEach(R=>{var D=aN(aN({},j),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(zO({tooltipEntrySettings:D,dataKey:R.dataKey,payload:R.payload,value:Pt(R.payload,R.dataKey),name:R.name}))});else{var P;v.push(zO({tooltipEntrySettings:j,dataKey:C,payload:T,value:Pt(T,C),name:(P=Pt(T,A))!==null&&P!==void 0?P:j==null?void 0:j.name}))}return v},g)}},qx=te([xn,et,HM,px,un],iP),dY=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),fY=te([un,Cl],Sx),Pu=te([dY,xn,fY],Ex),hY=te([Pu],e=>e.filter(Jh)),mY=te([Pu],Ox),Pl=te([mY,Yi],Nx),pY=te([hY,Yi,xn],zM),Hx=te([Pl,xn,Pu],Ax),gY=te([xn],Tx),vY=te([Pu],e=>e.filter(Jh)),yY=te([pY,vY,Nu],VM),bY=te([yY,Yi,un],WM),xY=te([Pu],FM),wY=te([Pl,xn,xY,em,un],XM),_Y=te([JM,un,Cl],Al),SY=te([_Y,un],tP),jY=te([ZM,un,Cl],Al),EY=te([jY,un],nP),OY=te([eP,un,Cl],Al),NY=te([OY,un],rP),CY=te([SY,NY,EY],uh),AY=te([xn,gY,bY,wY,CY,et,un],kx),NP=te([xn,et,Pl,Hx,Nu,un,AY],Mx),TY=te([NP,xn,qx],Dx),kY=te([xn,NP,TY,un],Ix),CP=e=>{var t=un(e),n=Cl(e),r=!1;return ku(e,t,n,r)},AP=te([xn,CP],Xh),TP=te([xn,qx,kY,AP],Rx),MY=te([et,Hx,xn,un],fP),PY=te([et,Hx,xn,un],hP),RY=(e,t,n,r,i,o,l,u)=>{if(t){var{type:d}=t,f=Fs(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?gn(i[0]-i[1])*2*g:g,f&&l?l.map((v,w)=>({coordinate:r(v)+g,value:v,index:w,offset:g})):r.domain().map((v,w)=>({coordinate:r(v)+g,value:o?o[v]:v,index:w,offset:g}))}}},ti=te([et,xn,qx,TP,CP,MY,PY,un],RY),Kx=te([pP,gP,YG],(e,t,n)=>vP(n.shared,e,t)),kP=e=>e.tooltip.settings.trigger,Fx=e=>e.tooltip.settings.defaultIndex,rm=te([Ml,Kx,kP,Fx],SP),Bs=te([rm,Pl],Bx),MP=te([ti,Bs],yP),PP=te([rm],e=>{if(e)return e.dataKey}),RP=te([Ml,Kx,kP,Fx],EP),DY=te([Xa,Qa,et,ln,ti,Fx,RP,Mu],jP),LY=te([rm,DY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),IY=te([rm],e=>e.active),UY=te([RP,Bs,Yi,$M,MP,Mu,Kx],OP);te([UY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){$Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Y(e,t,n){return(t=zY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qY=()=>Oe(xn),HY=()=>{var e=qY(),t=Oe(ti),n=Oe(TP);return Db(sN(sN({},e),{},{scale:n}),t)},KY=()=>Oe(px),Gx=(e,t)=>t,DP=(e,t,n)=>n,Yx=(e,t,n,r)=>r,FY=te(ti,e=>Th(e,t=>t.coordinate)),Vx=te([Ml,Gx,DP,Yx],SP),LP=te([Vx,Pl],Bx),GY=(e,t,n)=>{if(t!=null){var r=Ml(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},IP=te([Ml,Gx,DP,Yx],EP),dh=te([Xa,Qa,et,ln,ti,Yx,IP,Mu],jP),YY=te([Vx,dh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),UP=te(ti,LP,yP),VY=te([IP,LP,Yi,$M,UP,Mu,Gx],OP),WY=te([Vx],e=>({isActive:e.active,activeIndex:e.index})),XY=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o)){var d=y7(e.chartX,e.chartY,t,n,u);if(d){var f=x7(d,t),p=i7(f,l,o,r,i),g=b7(t,o,p,d);return{activeIndex:String(p),activeCoordinate:g}}}};function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){QY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QY(e,t,n){return(t=JY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eV(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,p=t,g=n,v=r;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var w,S;if(f==="ScatterChart")w=p,S=x9;else if(f==="BarChart")w=w9(l,p,i,o),S=Mk;else if(l==="radial"){var{cx:_,cy:j,radius:N,startAngle:E,endAngle:C}=Pk(p);w={cx:_,cy:j,startAngle:E,endAngle:C,innerRadius:N,outerRadius:N},S=Dk}else w={points:eH(l,p,i)},S=Nk;var A=typeof u=="object"&&"className"in u?u.className:void 0,T=gf(gf(gf(gf({stroke:"#ccc",pointerEvents:"none"},i),w),on(u,!1)),{},{payload:g,payloadIndex:v,className:ct("recharts-tooltip-cursor",A)});return b.isValidElement(u)?b.cloneElement(u,T):b.createElement(S,T)}function tV(e){var t=HY(),n=_k(),r=zb(),i=KY();return b.createElement(eV,w0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var $P=b.createContext(null),nV=()=>b.useContext($P),Jv={exports:{}},lN;function rV(){return lN||(lN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function o(d,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||d,v),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],w]:d._events[S].push(w):(d._events[S]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)t.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,w=g.length,S=new Array(w);v<w;v++)S[v]=g[v].fn;return S},u.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,v,w,S){var _=n?n+f:f;if(!this._events[_])return!1;var j=this._events[_],N=arguments.length,E,C;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,v),!0;case 5:return j.fn.call(j.context,p,g,v,w),!0;case 6:return j.fn.call(j.context,p,g,v,w,S),!0}for(C=1,E=new Array(N-1);C<N;C++)E[C-1]=arguments[C];j.fn.apply(j.context,E)}else{var A=j.length,T;for(C=0;C<A;C++)switch(j[C].once&&this.removeListener(f,j[C].fn,void 0,!0),N){case 1:j[C].fn.call(j[C].context);break;case 2:j[C].fn.call(j[C].context,p);break;case 3:j[C].fn.call(j[C].context,p,g);break;case 4:j[C].fn.call(j[C].context,p,g,v);break;default:if(!E)for(T=1,E=new Array(N-1);T<N;T++)E[T-1]=arguments[T];j[C].fn.apply(j[C].context,E)}}return!0},u.prototype.on=function(f,p,g){return o(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return o(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,v){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return l(this,w),this;var S=this._events[w];if(S.fn)S.fn===p&&(!v||S.once)&&(!g||S.context===g)&&l(this,w);else{for(var _=0,j=[],N=S.length;_<N;_++)(S[_].fn!==p||v&&!S[_].once||g&&S[_].context!==g)&&j.push(S[_]);j.length?this._events[w]=j.length===1?j[0]:j:l(this,w)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Jv)),Jv.exports}var aV=rV();const iV=Xr(aV);var du=new iV,_0="recharts.syncEvent.tooltip",cN="recharts.syncEvent.brush";function zP(e,t){if(t){var n=Number.parseInt(t,10);if(!hr(n))return e==null?void 0:e[n]}}var sV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},BP=gr({name:"options",initialState:sV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oV=BP.reducer,{createEventEmitter:lV}=BP.actions;function cV(e){return e.tooltip.syncInteraction}var uV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},qP=gr({name:"chartData",initialState:uV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:uN,setDataStartEndIndexes:dV,setComputedData:jne}=qP.actions,fV=qP.reducer,hV=["x","y"];function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){mV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mV(e,t,n){return(t=pV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vV(e,t){if(e==null)return{};var n,r,i=yV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HP=()=>{};function bV(){var e=Oe(gx),t=Oe(vx),n=Rt(),r=Oe(PM),i=Oe(ti),o=zb(),l=Ib(),u=Oe(d=>d.rootProps.className);b.useEffect(()=>{if(e==null)return HP;var d=(f,p,g)=>{if(t!==g&&e===f){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate){var w=p.payload.coordinate,{x:S,y:_}=w,j=vV(w,hV),N=ps(ps(ps({},j),typeof S=="number"&&{x:Math.max(l.x,Math.min(S,l.x+l.width))}),typeof _=="number"&&{y:Math.max(l.y,Math.min(_,l.y+l.height))}),E=ps(ps({},p),{},{payload:ps(ps({},p.payload),{},{coordinate:N})});n(E)}else n(p);return}if(i!=null){var C;if(typeof r=="function"){var A={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=r(i,A);C=i[T]}else r==="value"&&(C=i.find(ne=>String(ne.value)===p.payload.label));var{coordinate:P}=p.payload;if(C==null||p.payload.active===!1||P==null||l==null){n(b0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:D}=P,H=Math.min(R,l.x+l.width),z=Math.min(D,l.y+l.height),B={x:o==="horizontal"?C.coordinate:H,y:o==="horizontal"?z:C.coordinate},$=b0({active:p.payload.active,coordinate:B,dataKey:p.payload.dataKey,index:String(C.index),label:p.payload.label});n($)}}};return du.on(_0,d),()=>{du.off(_0,d)}},[u,n,t,e,r,i,o,l])}function xV(){var e=Oe(gx),t=Oe(vx),n=Rt();b.useEffect(()=>{if(e==null)return HP;var r=(i,o,l)=>{t!==l&&e===i&&n(dV(o))};return du.on(cN,r),()=>{du.off(cN,r)}},[n,t,e])}function wV(){var e=Rt();b.useEffect(()=>{e(lV())},[e]),bV(),xV()}function _V(e,t,n,r,i,o){var l=Oe(v=>GY(v,e,t)),u=Oe(vx),d=Oe(gx),f=Oe(PM),p=Oe(cV),g=p==null?void 0:p.active;b.useEffect(()=>{if(!g&&d!=null&&u!=null){var v=b0({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});du.emit(_0,d,v,u)}},[g,n,l,i,r,u,d,f,o])}function fN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(n),!0).forEach(function(r){SV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SV(e,t,n){return(t=jV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OV(e){return e.dataKey}function NV(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(J7,t)}var mN=[],CV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Gs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pN(e){var t=$n(e,CV),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:g,reverseDirection:v,useTranslate3d:w,wrapperStyle:S,cursor:_,shared:j,trigger:N,defaultIndex:E,portal:C,axisId:A}=t,T=Rt(),P=typeof E=="number"?String(E):E;b.useEffect(()=>{T(QG({shared:j,trigger:N,axisId:A,active:n,defaultIndex:P}))},[T,j,N,A,n,P]);var R=Ib(),D=Ok(),H=GG(j),{activeIndex:z,isActive:B}=Oe(J=>WY(J,H,N,P)),$=Oe(J=>VY(J,H,N,P)),ne=Oe(J=>UP(J,H,N,P)),Q=Oe(J=>YY(J,H,N,P)),re=$,I=nV(),V=n??B,[ie,pe]=KT([re,V]),se=H==="axis"?ne:void 0;_V(H,N,Q,se,z,V);var M=C??I;if(M==null)return null;var L=re??mN;V||(L=mN),u&&L.length&&(L=$T(re.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),p,OV));var F=L.length>0,Y=b.createElement(i9,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:d,active:V,coordinate:Q,hasPayload:F,offset:f,position:g,reverseDirection:v,useTranslate3d:w,viewBox:R,wrapperStyle:S,lastBoundingBox:ie,innerRef:pe,hasPortalFromProps:!!C},NV(l,hN(hN({},t),{},{payload:L,label:se,active:V,coordinate:Q,accessibilityLayer:D})));return b.createElement(b.Fragment,null,B0.createPortal(Y,M),V&&b.createElement(tV,{cursor:_,tooltipEventType:H,coordinate:Q,payload:re,index:z}))}var Zv={},ey={},ty={},gN;function AV(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{f&&p(),_()};let v=null;const w=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},_=()=>{S(),l=void 0,u=null},j=()=>{p()},N=function(...E){if(i!=null&&i.aborted)return;l=this,u=E;const C=v==null;w(),d&&C&&p()};return N.schedule=w,N.cancel=_,N.flush=j,i==null||i.addEventListener("abort",_,{once:!0}),N}e.debounce=t})(ty)),ty}var vN;function TV(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AV();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,g=null;const v=t.debounce(function(..._){p=r.apply(this,_),g=null},i,{edges:f}),w=function(..._){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,_),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,_),p)},S=()=>(v.flush(),p);return w.cancel=v.cancel,w.flush=S,w}e.debounce=n})(ey)),ey}var yN;function kV(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TV();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Zv)),Zv}var ny,bN;function MV(){return bN||(bN=1,ny=kV().throttle),ny}var PV=MV();const RV=Xr(PV);var Vc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){DV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DV(e,t,n){return(t=LV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wN=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:p=0,id:g,className:v,onResize:w,style:S={}}=e,_=b.useRef(null),j=b.useRef();j.current=w,b.useImperativeHandle(t,()=>_.current);var[N,E]=b.useState({containerWidth:r.width,containerHeight:r.height}),C=b.useCallback((T,P)=>{E(R=>{var D=Math.round(T),H=Math.round(P);return R.containerWidth===D&&R.containerHeight===H?R:{containerWidth:D,containerHeight:H}})},[]);b.useEffect(()=>{var T=H=>{var z,{width:B,height:$}=H[0].contentRect;C(B,$),(z=j.current)===null||z===void 0||z.call(j,B,$)};p>0&&(T=RV(T,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(T),{width:R,height:D}=_.current.getBoundingClientRect();return C(R,D),P.observe(_.current),()=>{P.disconnect()}},[C,p]);var A=b.useMemo(()=>{var{containerWidth:T,containerHeight:P}=N;if(T<0||P<0)return null;Vc(Cs(i)||Cs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Vc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Cs(i)?T:i,D=Cs(o)?P:o;return n&&n>0&&(R?D=R/n:D&&(R=D*n),d&&D>d&&(D=d)),Vc(R>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,D,i,o,l,u,n),b.Children.map(f,H=>b.cloneElement(H,{width:R,height:D,style:ry({width:R,height:D},H.props.style)}))},[n,f,o,d,u,l,N,i]);return b.createElement("div",{id:g?"".concat(g):void 0,className:ct("recharts-responsive-container",v),style:ry(ry({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:d}),ref:_},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),Ru=e=>null;Ru.displayName="Cell";function UV(e,t,n){return(t=$V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $V(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BV{constructor(t){UV(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(r){HV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HV(e,t,n){return(t=KV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GV={cacheSize:2e3,enableCache:!0},KP=qV({},GV),SN=new BV(KP.cacheSize),YV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jN="recharts_measurement_span";function VV(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var EN=(e,t)=>{try{var n=document.getElementById(jN);n||(n=document.createElement("span"),n.setAttribute("id",jN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,YV,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gs.isSsr)return{width:0,height:0};if(!KP.enableCache)return EN(t,n);var r=VV(t,n),i=SN.get(r);if(i)return i;var o=EN(t,n);return SN.set(r,o),o},ON=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QV=Object.keys(FP),el="NaN";function JV(e,t){return e*FP[t]}class Xn{static parse(t){var n,[,r,i]=(n=XV.exec(t))!==null&&n!==void 0?n:[];return new Xn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,hr(t)&&(this.unit=""),n!==""&&!WV.test(n)&&(this.num=NaN,this.unit=""),QV.includes(n)&&(this.num=JV(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xn(NaN,""):new Xn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hr(this.num)}}function GP(e){if(e.includes(el))return el;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=ON.exec(t))!==null&&n!==void 0?n:[],l=Xn.parse(r??""),u=Xn.parse(o??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return el;t=t.replace(ON,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,g,v]=(f=NN.exec(t))!==null&&f!==void 0?f:[],w=Xn.parse(p??""),S=Xn.parse(v??""),_=g==="+"?w.add(S):w.subtract(S);if(_.isNaN())return el;t=t.replace(NN,_.toString())}return t}var CN=/\(([^()]*)\)/;function ZV(e){for(var t=e,n;(n=CN.exec(t))!=null;){var[,r]=n;t=t.replace(CN,GP(r))}return t}function eW(e){var t=e.replace(/\s+/g,"");return t=ZV(t),t=GP(t),t}function tW(e){try{return eW(e)}catch{return el}}function ay(e){var t=tW(e.slice(5,-1));return t===el?"":t}var nW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rW=["dx","dy","angle","className","breakAll"];function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function AN(e,t){if(e==null)return{};var n,r,i=aW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YP=/[ \f\n\r\t\v\u2028\u2029]+/,VP=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];vn(t)||(n?i=t.toString().split(""):i=t.toString().split(YP));var o=i.map(u=>({word:u,width:Wc(u,r).width})),l=n?0:Wc(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},iW=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:d}=e,f=Ne(o),p=l,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(($,ne)=>{var{word:Q,width:re}=ne,I=$[$.length-1];if(I&&(r==null||i||I.width+re+n<Number(r)))I.words.push(Q),I.width+=re+n;else{var V={words:[Q],width:re};$.push(V)}return $},[])},v=g(t),w=z=>z.reduce((B,$)=>B.width>$.width?B:$);if(!f||i)return v;var S=v.length>o||w(v).width>Number(r);if(!S)return v;for(var _="…",j=z=>{var B=p.slice(0,z),$=VP({breakAll:d,style:u,children:B+_}).wordsWithComputedWidth,ne=g($),Q=ne.length>o||w(ne).width>Number(r);return[Q,ne]},N=0,E=p.length-1,C=0,A;N<=E&&C<=p.length-1;){var T=Math.floor((N+E)/2),P=T-1,[R,D]=j(P),[H]=j(T);if(!R&&!H&&(N=T+1),R&&H&&(E=T-1),!R&&H){A=D;break}C++}return A||v},TN=e=>{var t=vn(e)?[]:e.toString().split(YP);return[{words:t}]},sW=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Gs.isSsr){var u,d,f=VP({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;u=p,d=g}else return TN(r);return iW({breakAll:o,children:r,maxLines:l,style:i},u,d,t,n)}return TN(r)},kN="#808080",am=b.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:f=kN}=e,p=AN(e,nW),g=b.useMemo(()=>sW({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:w,angle:S,className:_,breakAll:j}=p,N=AN(p,rW);if(!fa(n)||!fa(r)||g.length===0)return null;var E=n+(Ne(v)?v:0),C=r+(Ne(w)?w:0),A;switch(d){case"start":A=ay("calc(".concat(o,")"));break;case"middle":A=ay("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:A=ay("calc(".concat(g.length-1," * -").concat(i,")"));break}var T=[];if(l){var P=g[0].width,{width:R}=p;T.push("scale(".concat(Ne(R)?R/P:1,")"))}return S&&T.push("rotate(".concat(S,", ").concat(E,", ").concat(C,")")),T.length&&(N.transform=T.join(" ")),b.createElement("text",S0({},on(N,!0),{ref:t,x:E,y:C,className:ct("recharts-text",_),textAnchor:u,fill:f.includes("url")?kN:f}),g.map((D,H)=>{var z=D.words.join(j?"":" ");return b.createElement("tspan",{x:E,dy:H===0?A:i,key:"".concat(z,"-").concat(H)},z)}))});am.displayName="Text";var oW=["labelRef"];function lW(e,t){if(e==null)return{};var n,r,i=cW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(r){uW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uW(e,t,n){return(t=dW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(null,arguments)}var WP=b.createContext(null),hW=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,l=b.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return b.createElement(WP.Provider,{value:l},o)},XP=()=>{var e=b.useContext(WP),t=Ib();return e||t},mW=b.createContext(null),pW=()=>{var e=b.useContext(mW),t=Oe(UM);return e||t},gW=e=>{var{value:t,formatter:n}=e,r=vn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Wx=e=>e!=null&&typeof e=="function",vW=(e,t)=>{var n=gn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},yW=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:v,clockWise:w}=i,S=(f+p)/2,_=vW(g,v),j=_>=0?1:-1,N,E;switch(t){case"insideStart":N=g+j*o,E=w;break;case"insideEnd":N=v-j*o,E=!w;break;case"end":N=v+j*o,E=w;break;default:throw new Error("Unsupported position ".concat(t))}E=_<=0?E:!E;var C=Zt(u,d,S,N),A=Zt(u,d,S,N+(E?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),P=vn(e.id)?tu("recharts-radial-line-"):e.id;return b.createElement("text",Ia({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:P,d:T})),b.createElement("textPath",{xlinkHref:"#".concat(P)},n))},bW=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Zt(r,i,l+t,f);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:w,y:S}=Zt(r,i,v,f);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},QP=e=>"cx"in e&&Ne(e.cx),xW=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!QP(n)&&(o=n);var{x:l,y:u,width:d,height:f}=t,p=f>=0?1:-1,g=p*r,v=p>0?"end":"start",w=p>0?"start":"end",S=d>=0?1:-1,_=S*r,j=S>0?"end":"start",N=S>0?"start":"end";if(i==="top"){var E={x:l+d/2,y:u-p*r,textAnchor:"middle",verticalAnchor:v};return qt(qt({},E),o?{height:Math.max(u-o.y,0),width:d}:{})}if(i==="bottom"){var C={x:l+d/2,y:u+f+g,textAnchor:"middle",verticalAnchor:w};return qt(qt({},C),o?{height:Math.max(o.y+o.height-(u+f),0),width:d}:{})}if(i==="left"){var A={x:l-_,y:u+f/2,textAnchor:j,verticalAnchor:"middle"};return qt(qt({},A),o?{width:Math.max(A.x-o.x,0),height:f}:{})}if(i==="right"){var T={x:l+d+_,y:u+f/2,textAnchor:N,verticalAnchor:"middle"};return qt(qt({},T),o?{width:Math.max(o.x+o.width-T.x,0),height:f}:{})}var P=o?{width:d,height:f}:{};return i==="insideLeft"?qt({x:l+_,y:u+f/2,textAnchor:N,verticalAnchor:"middle"},P):i==="insideRight"?qt({x:l+d-_,y:u+f/2,textAnchor:j,verticalAnchor:"middle"},P):i==="insideTop"?qt({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?qt({x:l+d/2,y:u+f-g,textAnchor:"middle",verticalAnchor:v},P):i==="insideTopLeft"?qt({x:l+_,y:u+g,textAnchor:N,verticalAnchor:w},P):i==="insideTopRight"?qt({x:l+d-_,y:u+g,textAnchor:j,verticalAnchor:w},P):i==="insideBottomLeft"?qt({x:l+_,y:u+f-g,textAnchor:N,verticalAnchor:v},P):i==="insideBottomRight"?qt({x:l+d-_,y:u+f-g,textAnchor:j,verticalAnchor:v},P):i&&typeof i=="object"&&(Ne(i.x)||Cs(i.x))&&(Ne(i.y)||Cs(i.y))?qt({x:l+Pn(i.x,d),y:u+Pn(i.y,f),textAnchor:"end",verticalAnchor:"end"},P):qt({x:l+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},wW={offset:5};function Mi(e){var t=$n(e,wW),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=pW(),g=XP(),v=r==="center"?g:p??g,w=n||v;if(!w||vn(i)&&vn(o)&&!b.isValidElement(l)&&typeof l!="function")return null;var S=qt(qt({},t),{},{viewBox:w});if(b.isValidElement(l)){var{labelRef:_}=S,j=lW(S,oW);return b.cloneElement(l,j)}var N;if(typeof l=="function"){if(N=b.createElement(l,S),b.isValidElement(N))return N}else N=gW(t);var E=QP(w),C=on(t,!0);if(E&&(r==="insideStart"||r==="insideEnd"||r==="end"))return yW(t,r,N,C,w);var A=E?bW(w,t.offset,t.position):xW(t,w);return b.createElement(am,Ia({ref:f,className:ct("recharts-label",u)},C,A,{breakAll:d}),N)}Mi.displayName="Label";var _W=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Mi,Ia({key:"label-implicit"},r)):fa(e)?b.createElement(Mi,Ia({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Mi?b.cloneElement(e,qt({key:"label-implicit"},r)):b.createElement(Mi,Ia({key:"label-implicit",content:e},r)):Wx(e)?b.createElement(Mi,Ia({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Mi,Ia({},e,{key:"label-implicit"},r)):null};function SW(e){var{label:t}=e,n=XP();return _W(t,n)||null}var iy={},sy={},PN;function jW(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(sy)),sy}var oy={},RN;function EW(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(oy)),oy}var DN;function OW(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jW(),n=EW(),r=Nb();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(iy)),iy}var ly,LN;function NW(){return LN||(LN=1,ly=OW().last),ly}var CW=NW();const AW=Xr(CW);var TW=["valueAccessor"],kW=["dataKey","clockWise","id","textBreakAll"];function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fh.apply(null,arguments)}function IN(e,t){if(e==null)return{};var n,r,i=MW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PW=e=>Array.isArray(e.value)?AW(e.value):e.value,JP=b.createContext(void 0),RW=JP.Provider,ZP=b.createContext(void 0),DW=ZP.Provider;function LW(){return b.useContext(JP)}function IW(){return b.useContext(ZP)}function Nf(e){var{valueAccessor:t=PW}=e,n=IN(e,TW),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,u=IN(n,kW),d=LW(),f=IW(),p=d||f;return!p||!p.length?null:b.createElement(Zn,{className:"recharts-label-list"},p.map((g,v)=>{var w,S=vn(r)?t(g,v):Pt(g&&g.payload,r),_=vn(o)?{}:{id:"".concat(o,"-").concat(v)};return b.createElement(Mi,fh({},on(g,!0),u,_,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}Nf.displayName="LabelList";function eR(e){var{label:t}=e;return t?t===!0?b.createElement(Nf,{key:"labelList-implicit"}):b.isValidElement(t)||Wx(t)?b.createElement(Nf,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Nf,fh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var tR=e=>e.graphicalItems.polarItems,UW=te([At,Cu],Sx),Xx=te([tR,Ht,UW],Ex),$W=te([Xx],Ox),Qx=te([$W,dx],Nx),zW=te([Qx,Ht,Xx],Ax),BW=te([Qx,Ht,Xx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=Pt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Pt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),UN=()=>{},qW=te([Ht,aP,UN,BW,UN,et,At],kx),nR=te([Ht,et,Qx,zW,Nu,At,qW],Mx),HW=te([nR,Ht,Tl],Dx);te([Ht,nR,HW,At],Ix);var KW={radiusAxis:{},angleAxis:{}},rR=gr({name:"polarAxis",initialState:KW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ene,removeRadiusAxis:One,addAngleAxis:Nne,removeAngleAxis:Cne}=rR.actions,FW=rR.reducer;function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){GW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GW(e,t,n){return(t=YW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WW=(e,t)=>t,Jx=te([tR,WW],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),XW=[],Zx=(e,t,n)=>(n==null?void 0:n.length)===0?XW:n,aR=te([dx,Jx,Zx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>zN(zN({},t.presentationProps),o.props))),i!=null)return i}}),QW=te([aR,Jx,Zx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=Pt(r,t.nameKey,t.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Lh(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),JW=te([aR,Jx,Zx,ln],(e,t,n,r)=>{if(!(t==null||e==null))return QX({offset:r,pieSettings:t,displayedData:e,cells:n})}),cy={},BN;function ZW(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(cy)),cy}var uy,qN;function eX(){return qN||(qN=1,uy=ZW().isPlainObject),uy}var tX=eX();const nX=Xr(tX);function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(r){rX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rX(e,t,n){return(t=aX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(null,arguments)}var FN=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},sX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oX=e=>{var t=$n(e,sX),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:g}=t,v=b.useRef(),[w,S]=b.useState(-1),_=b.useRef(i),j=b.useRef(o),N=b.useRef(l),E=b.useRef(n),C=b.useRef(r),A=qh(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Q=v.current.getTotalLength();Q&&S(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var T=ct("recharts-trapezoid",u);if(!g)return b.createElement("g",null,b.createElement("path",hh({},on(t,!0),{className:T,d:FN(n,r,i,o,l)})));var P=_.current,R=j.current,D=N.current,H=E.current,z=C.current,B="0px ".concat(w===-1?1:w,"px"),$="".concat(w,"px 0px"),ne=Ck(["strokeDasharray"],f,d);return b.createElement(Bh,{animationId:A,key:A,canBegin:w>0,duration:f,easing:d,isActive:g,begin:p},Q=>{var re=Cn(P,i,Q),I=Cn(R,o,Q),V=Cn(D,l,Q),ie=Cn(H,n,Q),pe=Cn(z,r,Q);v.current&&(_.current=re,j.current=I,N.current=V,E.current=ie,C.current=pe);var se=Q>0?{transition:ne,strokeDasharray:$}:{strokeDasharray:B};return b.createElement("path",hh({},on(t,!0),{className:T,d:FN(ie,pe,re,I,V),ref:v,style:KN(KN({},se),t.style)}))})},lX=["option","shapeType","propTransformer","activeClassName","isActive"];function cX(e,t){if(e==null)return{};var n,r,i=uX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){dX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dX(e,t,n){return(t=fX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e,t){return mh(mh({},t),e)}function pX(e,t){return e==="symbols"}function YN(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(Mk,n);case"trapezoid":return b.createElement(oX,n);case"sector":return b.createElement(Dk,n);case"symbols":if(pX(t))return b.createElement(jb,n);break;default:return null}}function gX(e){return b.isValidElement(e)?e.props:e}function iR(e){var{option:t,shapeType:n,propTransformer:r=mX,activeClassName:i="recharts-active-shape",isActive:o}=e,l=cX(e,lX),u;if(b.isValidElement(t))u=b.cloneElement(t,mh(mh({},l),gX(t)));else if(typeof t=="function")u=t(l);else if(nX(t)&&typeof t!="boolean"){var d=r(t,l);u=b.createElement(YN,{shapeType:n,elementProps:d})}else{var f=l;u=b.createElement(YN,{shapeType:n,elementProps:f})}return o?b.createElement(Zn,{className:i},u):u}var ew=(e,t)=>{var n=Rt();return(r,i)=>o=>{e==null||e(r,i,o),n(xP({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},tw=e=>{var t=Rt();return(n,r)=>i=>{e==null||e(n,r,i),t(JG())}},nw=(e,t)=>{var n=Rt();return(r,i)=>o=>{e==null||e(r,i,o),n(ZG({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function sR(e){var{fn:t,args:n}=e,r=Rt(),i=Ur();return b.useEffect(()=>{if(!i){var o=t(n);return r(WG(o)),()=>{r(XG(o))}}},[t,n,r,i]),null}var oR=()=>{};function vX(e){var{legendPayload:t}=e,n=Rt(),r=Ur();return b.useEffect(()=>r?oR:(n(jk(t)),()=>{n(Ek(t))}),[n,r,t]),null}function yX(e){var{legendPayload:t}=e,n=Rt(),r=Oe(et);return b.useEffect(()=>r!=="centric"&&r!=="radial"?oR:(n(jk(t)),()=>{n(Ek(t))}),[n,r,t]),null}var dy,bX=()=>{var[e]=b.useState(()=>tu("uid-"));return e},xX=(dy=g4.useId)!==null&&dy!==void 0?dy:bX;function wX(e,t){var n=xX();return t||(e?"".concat(e,"-").concat(n):n)}var _X=b.createContext(void 0),lR=e=>{var{id:t,type:n,children:r}=e,i=wX("recharts-".concat(n),t);return b.createElement(_X.Provider,{value:i},r(i))},SX={cartesianItems:[],polarItems:[]},cR=gr({name:"graphicalItems",initialState:SX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=qa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=qa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=qa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:jX,replaceCartesianGraphicalItem:EX,removeCartesianGraphicalItem:OX,addPolarGraphicalItem:NX,removePolarGraphicalItem:CX}=cR.actions,AX=cR.reducer;function TX(e){var t=Rt(),n=b.useRef(null);return b.useEffect(()=>{n.current===null?t(jX(e)):n.current!==e&&t(EX({prev:n.current,next:e})),n.current=e},[t,e]),b.useEffect(()=>()=>{n.current&&(t(OX(n.current)),n.current=null)},[t]),null}function kX(e){var t=Rt();return b.useEffect(()=>(t(NX(e)),()=>{t(CX(e))}),[t,e]),null}var MX=["onMouseEnter","onClick","onMouseLeave"],PX=["id"],RX=["id"];function rw(e,t){if(e==null)return{};var n,r,i=DX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){LX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LX(e,t,n){return(t=IX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function $X(e){var t=b.useMemo(()=>bb(e.children,Ru),[e.children]),n=Oe(r=>QW(r,e.id,t));return n==null?null:b.createElement(yX,{legendPayload:n})}function zX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:u,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:Lh(u,t),hide:d,type:f,color:l,unit:""}}}var BX=(e,t)=>e>t?"start":e<t?"end":"middle",qX=(e,t,n)=>Pn(typeof t=="function"?t(e):t,n,n*.8),HX=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,u=pk(o,l),d=i+Pn(e.cx,o,o/2),f=r+Pn(e.cy,l,l/2),p=Pn(e.innerRadius,u,0),g=qX(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:g,maxRadius:v}},KX=(e,t)=>{var n=gn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function FX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var GX=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ct("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(Nk,$i({},t,{type:"linear",className:n}))},YX=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var i=ct("recharts-pie-label-text",FX(e));return b.createElement(am,$i({},t,{alignmentBaseline:"middle",className:i}),r)};function VX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var u=Ki(n),d=on(i,!1),f=on(o,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,w)=>{var S=(v.startAngle+v.endAngle)/2,_=Zt(v.cx,v.cy,v.outerRadius+p,S),j=Ot(Ot(Ot(Ot({},u),v),{},{stroke:"none"},d),{},{index:w,textAnchor:BX(_.x,v.cx)},_),N=Ot(Ot(Ot(Ot({},u),v),{},{fill:"none",stroke:v.fill},f),{},{index:w,points:[Zt(v.cx,v.cy,v.outerRadius,S),_],key:"line"});return b.createElement(Zn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(w)},o&&GX(o,N),YX(i,j,Pt(v,l)))});return b.createElement(Zn,{className:"recharts-pie-labels"},g)}function WX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(eR,{label:i}):b.createElement(VX,{sectors:t,props:n,showLabels:r})}function XX(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=Oe(Bs),{onMouseEnter:l,onClick:u,onMouseLeave:d}=i,f=rw(i,MX),p=ew(l,i.dataKey),g=tw(d),v=nw(u,i.dataKey);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((w,S)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var _=n&&String(S)===o,j=o?r:null,N=_?n:j,E=Ot(Ot({},w),{},{stroke:w.stroke,tabIndex:-1,[xk]:S,[wk]:i.dataKey});return b.createElement(Zn,$i({tabIndex:-1,className:"recharts-pie-sector"},bu(f,w,S),{onMouseEnter:p(w,S),onMouseLeave:g(w,S),onClick:v(w,S),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(S)}),b.createElement(iR,$i({option:N,isActive:_,shapeType:"sector"},E)))}))}function QX(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:f,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),w=KX(u,d),S=Math.abs(w),_=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(P=>Pt(P,f,0)!==0).length,N=(S>=360?j:j-1)*_,E=S-j*v-N,C=r.reduce((P,R)=>{var D=Pt(R,f,0);return P+(Ne(D)?D:0)},0),A;if(C>0){var T;A=r.map((P,R)=>{var D=Pt(P,f,0),H=Pt(P,p,R),z=HX(n,o,P),B=(Ne(D)?D:0)/C,$,ne=Ot(Ot({},P),i&&i[R]&&i[R].props);R?$=T.endAngle+gn(w)*_*(D!==0?1:0):$=u;var Q=$+gn(w)*((D!==0?v:0)+B*E),re=($+Q)/2,I=(z.innerRadius+z.outerRadius)/2,V=[{name:H,value:D,payload:ne,dataKey:f,type:g}],ie=Zt(z.cx,z.cy,I,re);return T=Ot(Ot(Ot(Ot({},n.presentationProps),{},{percent:B,cornerRadius:l,name:H,tooltipPayload:V,midAngle:re,middleRadius:I,tooltipPosition:ie},ne),z),{},{value:D,startAngle:$,endAngle:Q,payload:ne,paddingAngle:gn(w)*_}),T})}return A}function JX(e){var{showLabels:t,sectors:n,children:r}=e,i=b.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return b.createElement(DW,{value:t?i:void 0},r)}function ZX(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:d,inactiveShape:f,onAnimationStart:p,onAnimationEnd:g}=t,v=qh(t,"recharts-pie-"),w=n.current,[S,_]=b.useState(!1),j=b.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),N=b.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return b.createElement(JX,{showLabels:!S,sectors:r},b.createElement(Bh,{animationId:v,begin:o,duration:l,isActive:i,easing:u,onAnimationStart:N,onAnimationEnd:j,key:v},E=>{var C=[],A=r&&r[0],T=A==null?void 0:A.startAngle;return r==null||r.forEach((P,R)=>{var D=w&&w[R],H=R>0?Is(P,"paddingAngle",0):0;if(D){var z=Cn(D.endAngle-D.startAngle,P.endAngle-P.startAngle,E),B=Ot(Ot({},P),{},{startAngle:T+H,endAngle:T+z+H});C.push(B),T=B.endAngle}else{var{endAngle:$,startAngle:ne}=P,Q=Cn(0,$-ne,E),re=Ot(Ot({},P),{},{startAngle:T+H,endAngle:T+Q+H});C.push(re),T=re.endAngle}}),n.current=C,b.createElement(Zn,null,b.createElement(XX,{sectors:C,activeShape:d,inactiveShape:f,allOtherPieProps:t}))}),b.createElement(WX,{showLabels:!S,sectors:r,props:t}),t.children)}var eQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Gs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function tQ(e){var{id:t}=e,n=rw(e,PX),{hide:r,className:i,rootTabIndex:o}=e,l=b.useMemo(()=>bb(e.children,Ru),[e.children]),u=Oe(p=>JW(p,t,l)),d=b.useRef(null),f=ct("recharts-pie",i);return r||u==null?(d.current=null,b.createElement(Zn,{tabIndex:o,className:f})):b.createElement(b.Fragment,null,b.createElement(sR,{fn:zX,args:Ot(Ot({},e),{},{sectors:u})}),b.createElement(Zn,{tabIndex:o,className:f},b.createElement(ZX,{props:Ot(Ot({},n),{},{sectors:u}),previousSectorsRef:d})))}function uR(e){var t=$n(e,eQ),{id:n}=t,r=rw(t,RX),i=Ki(r);return b.createElement(lR,{id:n,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(kX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),b.createElement($X,$i({},r,{id:o})),b.createElement(tQ,$i({},r,{id:o}))))}uR.displayName="Pie";function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQ(e,t,n){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iQ={xAxis:{},yAxis:{},zAxis:{}},dR=gr({name:"cartesianAxis",initialState:iQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=XN(XN({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:sQ,removeXAxis:oQ,addYAxis:lQ,removeYAxis:cQ,addZAxis:Ane,removeZAxis:Tne,updateYAxisWidth:uQ}=dR.actions,dQ=dR.reducer,fQ=te([ln],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),hQ=te([fQ,Xa,Qa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),fR=()=>Oe(hQ),mQ="Invariant failed";function pQ(e,t){throw new Error(mQ)}var gQ=["x","y"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(r){vQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vQ(e,t,n){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xQ(e,t){if(e==null)return{};var n,r,i=wQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _Q(e,t){var{x:n,y:r}=e,i=xQ(e,gQ),o="".concat(n),l=parseInt(o,10),u="".concat(r),d=parseInt(u,10),f="".concat(t.height||i.height),p=parseInt(f,10),g="".concat(t.width||i.width),v=parseInt(g,10);return Uc(Uc(Uc(Uc(Uc({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function aw(e){return b.createElement(iR,j0({shapeType:"rectangle",propTransformer:_Q,activeClassName:"recharts-active-bar"},e))}var SQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ne(t))return t;var o=Ne(r)||vn(r);return o?t(r,i):(o||pQ(),n)}},jQ={},hR=gr({name:"errorBars",initialState:jQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:kne,replaceErrorBar:Mne,removeErrorBar:Pne}=hR.actions,EQ=hR.reducer,OQ=["children"];function NQ(e,t){if(e==null)return{};var n,r,i=CQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},TQ=b.createContext(AQ);function kQ(e){var{children:t}=e,n=NQ(e,OQ);return b.createElement(TQ.Provider,{value:n},t)}function mR(e,t){var n,r,i=Oe(f=>Za(f,e)),o=Oe(f=>ei(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:lr.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:cr.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function MQ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=fR(),{needClipX:o,needClipY:l,needClip:u}=mR(t,n);if(!u)return null;var{x:d,y:f,width:p,height:g}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?d:d-p/2,y:l?f:f-g/2,width:o?p:p*2,height:l?g:g*2}))}var PQ=["onMouseEnter","onMouseLeave","onClick"],RQ=["value","background","tooltipPosition"],DQ=["id"],LQ=["onMouseEnter","onClick","onMouseLeave"];function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(null,arguments)}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){IQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IQ(e,t,n){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(e,t){if(e==null)return{};var n,r,i=zQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Lh(n,t),payload:e}]};function qQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Lh(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function HQ(e){var t=Oe(Bs),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=o,f=ph(o,PQ),p=ew(l,r),g=tw(u),v=nw(d,r);if(!i||n==null)return null;var w=on(i,!1);return b.createElement(b.Fragment,null,n.map((S,_)=>{var{value:j,background:N,tooltipPosition:E}=S,C=ph(S,RQ);if(!N)return null;var A=p(S,_),T=g(S,_),P=v(S,_),R=In(In(In(In(In({option:i,isActive:String(_)===t},C),{},{fill:"#eee"},N),w),bu(f,S,_)),{},{onMouseEnter:A,onMouseLeave:T,onClick:P,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return b.createElement(aw,zi({key:"background-bar-".concat(R.index)},R))}))}function KQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return In(In({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return b.createElement(RW,{value:t?i:void 0},n)}function FQ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=Oe(Bs),d=Oe(PP),f=n&&String(o)===u&&(d==null||l===d),p=f?n:t;return b.createElement(aw,zi({},r,i,{isActive:f,option:p,index:o,dataKey:l}))}function GQ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return b.createElement(aw,zi({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function YQ(e){var{data:t,props:n}=e,r=Ki(n),{id:i}=r,o=ph(r,DQ),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:f,onClick:p,onMouseLeave:g}=n,v=ph(n,LQ),w=ew(f,u),S=tw(g),_=nw(p,u);return t?b.createElement(b.Fragment,null,t.map((j,N)=>b.createElement(Zn,zi({className:"recharts-bar-rectangle"},bu(v,j,N),{onMouseEnter:w(j,N),onMouseLeave:S(j,N),onClick:_(j,N),key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(N)}),d?b.createElement(FQ,{shape:l,activeBar:d,baseProps:o,entry:j,index:N,dataKey:u}):b.createElement(GQ,{shape:l,baseProps:o,entry:j,index:N,dataKey:u})))):null}function VQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=t,g=n.current,v=qh(t,"recharts-bar-"),[w,S]=b.useState(!1),_=!w,j=b.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),N=b.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return b.createElement(KQ,{showLabels:_,rects:r},b.createElement(Bh,{animationId:v,begin:l,duration:u,isActive:o,easing:d,onAnimationEnd:j,onAnimationStart:N,key:v},E=>{var C=E===1?r:r==null?void 0:r.map((A,T)=>{var P=g&&g[T];if(P)return In(In({},A),{},{x:Cn(P.x,A.x,E),y:Cn(P.y,A.y,E),width:Cn(P.width,A.width,E),height:Cn(P.height,A.height,E)});if(i==="horizontal"){var R=Cn(0,A.height,E);return In(In({},A),{},{y:A.y+A.height-R,height:R})}var D=Cn(0,A.width,E);return In(In({},A),{},{width:D})});return E>0&&(n.current=C??null),C==null?null:b.createElement(Zn,null,b.createElement(YQ,{props:t,data:C}))}),b.createElement(eR,{label:t.label}),t.children)}function WQ(e){var t=b.useRef(null);return b.createElement(VQ,{previousRectanglesRef:t,props:e})}var pR=0,XQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Pt(e,t)}};class QQ extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var p=ct("recharts-bar",i),g=f;return b.createElement(Zn,{className:p,id:f},u&&b.createElement("defs",null,b.createElement(MQ,{clipPathId:g,xAxisId:o,yAxisId:l})),b.createElement(Zn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},b.createElement(HQ,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),b.createElement(WQ,this.props)))}}var JQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Gs.isSsr,legendType:"rect",minPointSize:pR,xAxisId:0,yAxisId:0};function ZQ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p}=e,{needClip:g}=mR(t,n),v=zb(),w=Ur(),S=bb(e.children,Ru),_=Oe(E=>NJ(E,t,n,w,e.id,S));if(v!=="vertical"&&v!=="horizontal")return null;var j,N=_==null?void 0:_[0];return N==null||N.height==null||N.width==null?j=0:j=v==="vertical"?N.height/2:N.width/2,b.createElement(kQ,{xAxisId:t,yAxisId:n,data:_,dataPointFormatter:XQ,errorBarOffset:j},b.createElement(QQ,zi({},e,{layout:v,needClip:g,data:_,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function eJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:g,offset:v,cells:w,parentViewBox:S}=e,_=t==="horizontal"?u:l,j=p?_.scale.domain():null,N=m7({numericAxis:_});return g.map((E,C)=>{var A,T,P,R,D,H;p?A=l7(p[C],j):(A=Pt(E,n),Array.isArray(A)||(A=[N,A]));var z=SQ(r,pR)(A[1],C);if(t==="horizontal"){var B,[$,ne]=[u.scale(A[0]),u.scale(A[1])];T=IO({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:E,index:C}),P=(B=ne??$)!==null&&B!==void 0?B:void 0,R=i.size;var Q=$-ne;if(D=hr(Q)?0:Q,H={x:T,y:v.top,width:R,height:v.height},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var re=gn(D||z)*(Math.abs(z)-Math.abs(D));P-=re,D+=re}}else{var[I,V]=[l.scale(A[0]),l.scale(A[1])];if(T=I,P=IO({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:E,index:C}),R=V-I,D=i.size,H={x:v.left,y:P,width:v.width,height:D},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var ie=gn(R||z)*(Math.abs(z)-Math.abs(R));R+=ie}}if(T==null||P==null||R==null||D==null)return null;var pe=In(In({},E),{},{x:T,y:P,width:R,height:D,value:p?A:A[1],payload:E,background:H,tooltipPosition:{x:T+R/2,y:P+D/2},parentViewBox:S},w&&w[C]&&w[C].props);return pe}).filter(Boolean)}function tJ(e){var t=$n(e,JQ),n=Ur();return b.createElement(lR,{id:t.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(vX,{legendPayload:BQ(t)}),b.createElement(sR,{fn:qQ,args:t}),b.createElement(TX,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:h7(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(ZQ,zi({},t,{id:r}))))}var E0=b.memo(tJ);E0.displayName="Bar";function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){nJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nJ(e,t,n){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=aJ(e,"string");return typeof t=="symbol"?t:t+""}function aJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iJ=(e,t)=>t,sJ=(e,t,n)=>n,oJ=(e,t,n,r)=>r,lJ=(e,t,n,r,i)=>i,Du=te([jx,lJ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),cJ=te([Du],e=>e==null?void 0:e.maxBarSize),uJ=(e,t,n,r,i,o)=>o,eC=(e,t,n)=>{var r=n??e;if(!vn(r))return Pn(r,t,0)},dJ=te([et,jx,iJ,sJ,oJ],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),fJ=(e,t,n,r)=>{var i=et(e);return i==="horizontal"?y0(e,"yAxis",n,r):y0(e,"xAxis",t,r)},hJ=(e,t,n)=>{var r=et(e);return r==="horizontal"?eN(e,"xAxis",t):eN(e,"yAxis",n)},mJ=(e,t,n)=>{var r={},i=e.filter(Jh),o=e.filter(f=>f.stackId==null),l=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),u=Object.entries(l).map(f=>{var[p,g]=f,v=g.map(S=>S.dataKey),w=eC(t,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:w}}),d=o.map(f=>{var p=[f.dataKey].filter(v=>v!=null),g=eC(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]},pJ=te([dJ,VF,hJ],mJ),gJ=(e,t,n,r,i)=>{var o,l,u=Du(e,t,n,r,i);if(u!=null){var d=et(e),f=kM(e),{maxBarSize:p}=u,g=vn(p)?f:p,v,w;return d==="horizontal"?(v=gl(e,"xAxis",t,r),w=pl(e,"xAxis",t,r)):(v=gl(e,"yAxis",n,r),w=pl(e,"yAxis",n,r)),(o=(l=Db(v,w,!0))!==null&&l!==void 0?l:g)!==null&&o!==void 0?o:0}},gR=(e,t,n,r)=>{var i=et(e),o,l;return i==="horizontal"?(o=gl(e,"xAxis",t,r),l=pl(e,"xAxis",t,r)):(o=gl(e,"yAxis",n,r),l=pl(e,"yAxis",n,r)),Db(o,l)};function vJ(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=Pn(e,n,0,!0),u,d=[];if(pr(r[0].barSize)){var f=!1,p=n/o,g=r.reduce((N,E)=>N+(E.barSize||0),0);g+=(o-1)*l,g>=n&&(g-=(o-1)*l,l=0),g>=n&&p>0&&(f=!0,p*=.9,g=o*p);var v=(n-g)/2>>0,w={offset:v-l,size:0};u=r.reduce((N,E)=>{var C,A={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:w.offset+w.size+l,size:f?p:(C=E.barSize)!==null&&C!==void 0?C:0}},T=[...N,A];return w=T[T.length-1].position,T},d)}else{var S=Pn(t,n,0,!0);n-2*S-(o-1)*l<=0&&(l=0);var _=(n-2*S-(o-1)*l)/o;_>1&&(_>>=0);var j=pr(i)?Math.min(_,i):_;u=r.reduce((N,E,C)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:S+(_+l)*C+(_-j)/2,size:j}}],d)}return u}}var yJ=(e,t,n,r,i,o,l)=>{var u=vn(l)?t:l,d=vJ(n,r,i!==o?i:o,e,u);return i!==o&&d!=null&&(d=d.map(f=>vf(vf({},f),{},{position:vf(vf({},f.position),{},{offset:f.position.offset-i/2})}))),d},bJ=te([pJ,kM,YF,MM,gJ,gR,cJ],yJ),xJ=(e,t,n,r)=>gl(e,"xAxis",t,r),wJ=(e,t,n,r)=>gl(e,"yAxis",n,r),_J=(e,t,n,r)=>pl(e,"xAxis",t,r),SJ=(e,t,n,r)=>pl(e,"yAxis",n,r),jJ=te([bJ,Du],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),EJ=(e,t)=>{var n=wx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},OJ=te([fJ,Du],EJ),NJ=te([ln,Lb,xJ,wJ,_J,SJ,jJ,et,fx,gR,OJ,Du,uJ],(e,t,n,r,i,o,l,u,d,f,p,g,v)=>{var{chartData:w,dataStartIndex:S,dataEndIndex:_}=d;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:j}=g,N;if(j!=null&&j.length>0?N=j:N=w==null?void 0:w.slice(S,_+1),N!=null)return eJ({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:N,offset:e,cells:v})}}),vR=e=>{var{chartData:t}=e,n=Rt(),r=Ur();return b.useEffect(()=>r?()=>{}:(n(uN(t)),()=>{n(uN(void 0))}),[t,n,r]),null},tC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yR=gr({name:"brush",initialState:tC,reducers:{setBrushSettings(e,t){return t.payload==null?tC:t.payload}}}),{setBrushSettings:Rne}=yR.actions,CJ=yR.reducer;function AJ(e,t,n){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iw{static create(t){return new iw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}AJ(iw,"EPS",1e-4);function MJ(e){return(e%180+180)%180}var PJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=MJ(i),l=o*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},RJ={dots:[],areas:[],lines:[]},bR=gr({name:"referenceElements",initialState:RJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Dne,removeDot:Lne,addArea:Ine,removeArea:Une,addLine:$ne,removeLine:zne}=bR.actions,DJ=bR.reducer,LJ=b.createContext(void 0),IJ=e=>{var{children:t}=e,[n]=b.useState("".concat(tu("recharts"),"-clip")),r=fR();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return b.createElement(LJ.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function vl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function xR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function UJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return PJ(r,n)}function $J(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function gh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function zJ(e,t){return xR(e,t+1)}function BJ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,p=l,g=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:xR(r,f)};var _=d,j,N=()=>(j===void 0&&(j=n(S,_)),j),E=S.coordinate,C=d===0||gh(e,E,N,p,u);C||(d=0,p=l,f+=1),C&&(p=E+e*(N()/2+i),d+=f)},v;f<=o.length;)if(v=g(),v)return v.v;return[]}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(r){qJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qJ(e,t,n){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FJ(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:d}=t,f=function(v){var w=o[v],S,_=()=>(S===void 0&&(S=n(w,v)),S);if(v===l-1){var j=e*(w.coordinate+e*_()/2-d);o[v]=w=kn(kn({},w),{},{tickCoord:j>0?w.coordinate-j*e:w.coordinate})}else o[v]=w=kn(kn({},w),{},{tickCoord:w.coordinate});var N=gh(e,w.tickCoord,_,u,d);N&&(d=w.tickCoord-e*(_()/2+i),o[v]=kn(kn({},w),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return o}function GJ(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(o){var p=r[u-1],g=n(p,u-1),v=e*(p.coordinate+e*g/2-f);l[u-1]=p=kn(kn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var w=gh(e,p.tickCoord,()=>g,d,f);w&&(f=p.tickCoord-e*(g/2+i),l[u-1]=kn(kn({},p),{},{isShow:!0}))}for(var S=o?u-1:u,_=function(E){var C=l[E],A,T=()=>(A===void 0&&(A=n(C,E)),A);if(E===0){var P=e*(C.coordinate-e*T()/2-d);l[E]=C=kn(kn({},C),{},{tickCoord:P<0?C.coordinate-P*e:C.coordinate})}else l[E]=C=kn(kn({},C),{},{tickCoord:C.coordinate});var R=gh(e,C.tickCoord,T,d,f);R&&(d=C.tickCoord+e*(T()/2+i),l[E]=kn(kn({},C),{},{isShow:!0}))},j=0;j<S;j++)_(j);return l}function sw(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(Ne(d)||Gs.isSsr){var v;return(v=zJ(i,Ne(d)?d:0))!==null&&v!==void 0?v:[]}var w=[],S=u==="top"||u==="bottom"?"width":"height",_=p&&S==="width"?Wc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(C,A)=>{var T=typeof f=="function"?f(C.value,A):C.value;return S==="width"?UJ(Wc(T,{fontSize:t,letterSpacing:n}),_,g):Wc(T,{fontSize:t,letterSpacing:n})[S]},N=i.length>=2?gn(i[1].coordinate-i[0].coordinate):1,E=$J(o,N,S);return d==="equidistantPreserveStart"?BJ(N,E,j,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=GJ(N,E,j,i,l,d==="preserveStartEnd"):w=FJ(N,E,j,i,l),w.filter(C=>C.isShow))}var YJ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){t.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+u+(n?r:0);return Math.round(f)}return 0},VJ=["axisLine","width","height","className","hide","ticks"],WJ=["viewBox"],XJ=["viewBox"];function O0(e,t){if(e==null)return{};var n,r,i=QJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(null,arguments)}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){JJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JJ(e,t,n){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ow={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function tZ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=an(an(an({},d),on(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);f=an(an({},f),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);f=an(an({},f),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return b.createElement("line",qs({},f,{className:ct("recharts-cartesian-axis-line",Is(u,"className"))}))}function nZ(e,t,n,r,i,o,l,u,d){var f,p,g,v,w,S,_=u?-1:1,j=e.tickSize||l,N=Ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=p=e.coordinate,v=n+ +!u*i,g=v-_*j,S=g-_*d,w=N;break;case"left":g=v=e.coordinate,p=t+ +!u*r,f=p-_*j,w=f-_*d,S=N;break;case"right":g=v=e.coordinate,p=t+ +u*r,f=p+_*j,w=f+_*d,S=N;break;default:f=p=e.coordinate,v=n+ +u*i,g=v+_*j,S=g+_*d,w=N;break}return{line:{x1:f,y1:g,x2:p,y2:v},tick:{x:w,y:S}}}function rZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function aZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function iZ(e){var{option:t,tickProps:n,value:r}=e,i,o=ct(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,an(an({},n),{},{className:o}));else if(typeof t=="function")i=t(an(an({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ct(l,t==null?void 0:t.className)),i=b.createElement(am,qs({},n,{className:l}),r)}return i}function sZ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:g,y:v,width:w,height:S,tickSize:_,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:C,events:A}=e,T=sw(an(an({},C),{},{ticks:t}),N,E),P=rZ(f,p),R=aZ(f,p),D=Ki(C),H=on(n,!1),z=an(an({},D),{},{fill:"none"},on(r,!1)),B=T.map(($,ne)=>{var{line:Q,tick:re}=nZ($,g,v,w,S,f,_,p,j),I=an(an(an(an({textAnchor:P,verticalAnchor:R},D),{},{stroke:"none",fill:i},H),re),{},{index:ne,payload:$,visibleTicksCount:T.length,tickFormatter:o,padding:u},d);return b.createElement(Zn,qs({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},bu(A,$,ne)),r&&b.createElement("line",qs({},z,Q,{className:ct("recharts-cartesian-axis-tick-line",Is(r,"className"))})),n&&b.createElement(iZ,{option:n,tickProps:I,value:"".concat(typeof o=="function"?o($.value,ne):$.value).concat(l||"")}))});return B.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var oZ=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u}=e,d=O0(e,VJ),[f,p]=b.useState(""),[g,v]=b.useState(""),w=b.useRef([]);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return YJ({ticks:w.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=b.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=Array.from(j);var N=j[0];if(N){var E=window.getComputedStyle(N),C=E.fontSize,A=E.letterSpacing;(C!==f||A!==g)&&(p(C),v(A))}}},[f,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Zn,{className:ct("recharts-cartesian-axis",o),ref:S},b.createElement(tZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ki(e)}),b.createElement(sZ,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:e,events:d}),b.createElement(hW,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(SW,{label:e.label}),e.children))}),lZ=b.memo(oZ,(e,t)=>{var{viewBox:n}=e,r=O0(e,WJ),{viewBox:i}=t,o=O0(t,XJ);return vl(n,i)&&vl(r,o)}),lw=b.forwardRef((e,t)=>{var n=$n(e,ow);return b.createElement(lZ,qs({},n,{ref:t}))});lw.displayName="CartesianAxis";var cZ=["x1","y1","x2","y2","key"],uZ=["offset"],dZ=["xAxisId","yAxisId"],fZ=["xAxisId","yAxisId"];function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(r){hZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hZ(e,t,n){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ks.apply(null,arguments)}function vh(e,t){if(e==null)return{};var n,r,i=gZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return b.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wR(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:l,key:u}=t,d=vh(t,cZ),f=Ki(d),{offset:p}=f,g=vh(f,uZ);n=b.createElement("line",ks({},g,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:u}))}return n}function yZ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=vh(e,dZ),d=i.map((f,p)=>{var g=Mn(Mn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return wR(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function bZ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=vh(e,fZ),d=i.map((f,p)=>{var g=Mn(Mn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return wR(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function xZ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=u.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var w=!f[v+1],S=w?i+l-g:f[v+1]-g;if(S<=0)return null;var _=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:S,width:o,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function wZ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var w=!f[v+1],S=w?i+l-g:f[v+1]-g;if(S<=0)return null;var _=v%n.length;return b.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:S,height:u,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var _Z=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return vk(sw(Mn(Mn(Mn({},ow),n),{},{ticks:yk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},SZ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return vk(sw(Mn(Mn(Mn({},ow),n),{},{ticks:yk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},jZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function _R(e){var t=Ub(),n=$b(),r=_k(),i=Mn(Mn({},$n(e,jZ)),{},{x:Ne(e.x)?e.x:r.left,y:Ne(e.y)?e.y:r.top,width:Ne(e.width)?e.width:r.width,height:Ne(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:d,width:f,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:w}=i,S=Ur(),_=Oe(H=>tN(H,"xAxis",o,S)),j=Oe(H=>tN(H,"yAxis",l,S));if(!Ne(f)||f<=0||!Ne(p)||p<=0||!Ne(u)||u!==+u||!Ne(d)||d!==+d)return null;var N=i.verticalCoordinatesGenerator||_Z,E=i.horizontalCoordinatesGenerator||SZ,{horizontalPoints:C,verticalPoints:A}=i;if((!C||!C.length)&&typeof E=="function"){var T=v&&v.length,P=E({yAxis:j?Mn(Mn({},j),{},{ticks:T?v:j.ticks}):void 0,width:t,height:n,offset:r},T?!0:g);Vc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(C=P)}if((!A||!A.length)&&typeof N=="function"){var R=w&&w.length,D=N({xAxis:_?Mn(Mn({},_),{},{ticks:R?w:_.ticks}):void 0,width:t,height:n,offset:r},R?!0:g);Vc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(vZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(xZ,ks({},i,{horizontalPoints:C})),b.createElement(wZ,ks({},i,{verticalPoints:A})),b.createElement(yZ,ks({},i,{offset:r,horizontalPoints:C,xAxis:_,yAxis:j})),b.createElement(bZ,ks({},i,{offset:r,verticalPoints:A,xAxis:_,yAxis:j})))}_R.displayName="CartesianGrid";var EZ=["dangerouslySetInnerHTML","ticks"],OZ=["id"],NZ=["domain"],CZ=["domain"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function yh(e,t){if(e==null)return{};var n,r,i=AZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TZ(e){var t=Rt();return b.useEffect(()=>(t(sQ(e)),()=>{t(oQ(e))}),[e,t]),null}var kZ=e=>{var{xAxisId:t,className:n}=e,r=Oe(Lb),i=Ur(),o="xAxis",l=Oe(j=>kl(j,o,t,i)),u=Oe(j=>mP(j,o,t,i)),d=Oe(j=>uP(j,t)),f=Oe(j=>$G(j,t)),p=Oe(j=>BM(j,t));if(d==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,w=yh(e,EZ),{id:S}=p,_=yh(p,OZ);return b.createElement(lw,N0({},w,_,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ct("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},MZ={allowDataOverflow:lr.allowDataOverflow,allowDecimals:lr.allowDecimals,allowDuplicatedCategory:lr.allowDuplicatedCategory,height:lr.height,hide:!1,mirror:lr.mirror,orientation:lr.orientation,padding:lr.padding,reversed:lr.reversed,scale:lr.scale,tickCount:lr.tickCount,type:lr.type,xAxisId:0},PZ=e=>{var t,n,r,i,o,l=$n(e,MZ);return b.createElement(b.Fragment,null,b.createElement(TZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),b.createElement(kZ,l))},RZ=(e,t)=>{var{domain:n}=e,r=yh(e,NZ),{domain:i}=t,o=yh(t,CZ);return vl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vl({domain:n},{domain:i}):!1},SR=b.memo(PZ,RZ);SR.displayName="XAxis";var DZ=["dangerouslySetInnerHTML","ticks"],LZ=["id"],IZ=["domain"],UZ=["domain"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function bh(e,t){if(e==null)return{};var n,r,i=$Z(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zZ(e){var t=Rt();return b.useEffect(()=>(t(lQ(e)),()=>{t(cQ(e))}),[e,t]),null}var BZ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=b.useRef(null),l=b.useRef(null),u=Oe(Lb),d=Ur(),f=Rt(),p="yAxis",g=Oe(T=>kl(T,p,t,d)),v=Oe(T=>dP(T,t)),w=Oe(T=>BG(T,t)),S=Oe(T=>mP(T,p,t,d)),_=Oe(T=>qM(T,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Wx(i)||b.isValidElement(i)||_==null)){var T=o.current;if(T){var P=T.getCalculatedWidth();Math.round(v.width)!==Math.round(P)&&f(uQ({id:t,width:P}))}}},[S,v,f,i,t,r,_]),v==null||w==null||_==null)return null;var{dangerouslySetInnerHTML:j,ticks:N}=e,E=bh(e,DZ),{id:C}=_,A=bh(_,LZ);return b.createElement(lw,C0({},E,A,{ref:o,labelRef:l,scale:g,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:ct("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:S}))},qZ={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,hide:!1,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tickCount:cr.tickCount,type:cr.type,width:cr.width,yAxisId:0},HZ=e=>{var t,n,r,i,o,l=$n(e,qZ);return b.createElement(b.Fragment,null,b.createElement(zZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),b.createElement(BZ,l))},KZ=(e,t)=>{var{domain:n}=e,r=bh(e,IZ),{domain:i}=t,o=bh(t,UZ);return vl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vl({domain:n},{domain:i}):!1},jR=b.memo(HZ,KZ);jR.displayName="YAxis";var fy={exports:{}},hy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function FZ(){if(iC)return hy;iC=1;var e=yl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return hy.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=l(function(){function j(T){if(!N){if(N=!0,E=T,T=g(T),v!==void 0&&S.hasValue){var P=S.value;if(v(P,T))return C=P}return C=T}if(P=C,n(E,T))return P;var R=g(T);return v!==void 0&&v(P,R)?(E=T,P):(E=T,C=R)}var N=!1,E,C,A=p===void 0?null:p;return[function(){return j(f())},A===null?void 0:function(){return j(A())}]},[f,p,g,v]);var _=r(d,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=_},[_]),u(_),_},hy}var sC;function GZ(){return sC||(sC=1,fy.exports=FZ()),fy.exports}GZ();function YZ(e){e()}function VZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){YZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var oC={notify(){},get:()=>[]};function WZ(e,t){let n,r=oC,i=0,o=!1;function l(_){p();const j=r.subscribe(_);let N=!1;return()=>{N||(N=!0,j(),g())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function p(){i++,n||(n=e.subscribe(d),r=VZ())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oC)}function v(){o||(o=!0,p())}function w(){o&&(o=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>r};return S}var XZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QZ=XZ(),JZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZZ=JZ(),eee=()=>QZ||ZZ?b.useLayoutEffect:b.useEffect,tee=eee(),my=Symbol.for("react-redux-context"),py=typeof globalThis<"u"?globalThis:{};function nee(){if(!b.createContext)return{};const e=py[my]??(py[my]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var ree=nee();function aee(e){const{children:t,context:n,serverState:r,store:i}=e,o=b.useMemo(()=>{const d=WZ(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=b.useMemo(()=>i.getState(),[i]);tee(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=n||ree;return b.createElement(u.Provider,{value:o},t)}var iee=aee,see=(e,t)=>t,cw=te([see,et,UM,un,AP,ti,FY,ln],XY),uw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},ER=Dr("mouseClick"),OR=wu();OR.startListening({actionCreator:ER,effect:(e,t)=>{var n=e.payload,r=cw(t.getState(),uw(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(eY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var A0=Dr("mouseMove"),NR=wu();NR.startListening({actionCreator:A0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=zx(r,r.tooltip.settings.shared),o=cw(r,uw(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(_P({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(wP()))}});var lC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},CR=gr({name:"rootProps",initialState:lC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:lC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),oee=CR.reducer,{updateOptions:lee}=CR.actions,AR=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:cee}=AR.actions,uee=AR.reducer,TR=Dr("keyDown"),kR=Dr("focus"),dw=wu();dw.startListening({actionCreator:TR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(Bx(i,Pl(n))),u=ti(n);if(o==="Enter"){var d=dh(n,"axis","hover",String(i.index));t.dispatch(x0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=FG(n),p=f==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,v=l+g*p;if(!(u==null||v>=u.length||v<0)){var w=dh(n,"axis","hover",String(v));t.dispatch(x0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});dw.startListening({actionCreator:kR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=dh(n,"axis","hover",String(o));t.dispatch(x0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Tr=Dr("externalEvent"),MR=wu();MR.startListening({actionCreator:Tr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:LY(n),activeDataKey:PP(n),activeIndex:Bs(n),activeLabel:MP(n),activeTooltipIndex:Bs(n),isTooltipActive:IY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var dee=te([Ml],e=>e.tooltipItemPayloads),fee=te([dee,Mu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),PR=Dr("touchMove"),RR=wu();RR.startListening({actionCreator:PR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=zx(r,r.tooltip.settings.shared);if(i==="axis"){var o=cw(r,uw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(_P({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(xk),p=(l=d.getAttribute(wk))!==null&&l!==void 0?l:void 0,g=fee(t.getState(),f,p);t.dispatch(xP({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}});var hee=GT({brush:CJ,cartesianAxis:dQ,chartData:fV,errorBars:EQ,graphicalItems:AX,layout:Gq,legend:L7,options:oV,polarAxis:FW,polarOptions:uee,referenceElements:DJ,rootProps:oee,tooltip:tY}),mee=function(t){return vq({reducer:hee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([OR.middleware,NR.middleware,dw.middleware,MR.middleware,RR.middleware]),devTools:Gs.devToolsEnabled})};function DR(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ur(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=mee(t));var l=Ab;return b.createElement(iee,{context:l,store:o.current},n)}function LR(e){var{layout:t,width:n,height:r,margin:i}=e,o=Rt(),l=Ur();return b.useEffect(()=>{l||(o(Hq(t)),o(Kq({width:n,height:r})),o(qq(i)))},[o,l,t,n,r,i]),null}function IR(e){var t=Rt();return b.useEffect(()=>{t(lee(e))},[t,e]),null}var pee=["children"];function gee(e,t){if(e==null)return{};var n,r,i=vee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}var yee={width:"100%",height:"100%"},bee=b.forwardRef((e,t)=>{var n=Ub(),r=$b(),i=Ok();if(!ul(n)||!ul(r))return null;var{children:o,otherAttributes:l,title:u,desc:d}=e,f,p;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,b.createElement(xb,xh({},l,{title:u,desc:d,role:p,tabIndex:f,width:n,height:r,style:yee,ref:t}),o)}),xee=e=>{var{children:t}=e,n=Oe(zh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return b.createElement(xb,{width:r,height:i,x:l,y:o},t)},cC=b.forwardRef((e,t)=>{var{children:n}=e,r=gee(e,pee),i=Ur();return i?b.createElement(xee,null,n):b.createElement(bee,xh({ref:t},r),n)});function wee(){var e=Rt(),[t,n]=b.useState(null),r=Oe(w7);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;pr(o)&&o!==r&&e(Fq(o))}},[t,e,r]),n}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(r){See(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function See(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=Eee(e,"string");return typeof t=="symbol"?t:t+""}function Eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oee=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:w,onTouchMove:S,onTouchStart:_,style:j,width:N}=e,E=Rt(),[C,A]=b.useState(null),[T,P]=b.useState(null);wV();var R=wee(),D=b.useCallback(L=>{R(L),typeof t=="function"&&t(L),A(L),P(L)},[R,t,A,P]),H=b.useCallback(L=>{E(ER(L)),E(Tr({handler:o,reactEvent:L}))},[E,o]),z=b.useCallback(L=>{E(A0(L)),E(Tr({handler:f,reactEvent:L}))},[E,f]),B=b.useCallback(L=>{E(wP()),E(Tr({handler:p,reactEvent:L}))},[E,p]),$=b.useCallback(L=>{E(A0(L)),E(Tr({handler:g,reactEvent:L}))},[E,g]),ne=b.useCallback(()=>{E(kR())},[E]),Q=b.useCallback(L=>{E(TR(L.key))},[E]),re=b.useCallback(L=>{E(Tr({handler:l,reactEvent:L}))},[E,l]),I=b.useCallback(L=>{E(Tr({handler:u,reactEvent:L}))},[E,u]),V=b.useCallback(L=>{E(Tr({handler:d,reactEvent:L}))},[E,d]),ie=b.useCallback(L=>{E(Tr({handler:v,reactEvent:L}))},[E,v]),pe=b.useCallback(L=>{E(Tr({handler:_,reactEvent:L}))},[E,_]),se=b.useCallback(L=>{E(PR(L)),E(Tr({handler:S,reactEvent:L}))},[E,S]),M=b.useCallback(L=>{E(Tr({handler:w,reactEvent:L}))},[E,w]);return b.createElement($P.Provider,{value:C},b.createElement(hT.Provider,{value:T},b.createElement("div",{className:ct("recharts-wrapper",r),style:_ee({position:"relative",cursor:"default",width:N,height:i},j),onClick:H,onContextMenu:re,onDoubleClick:I,onFocus:ne,onKeyDown:Q,onMouseDown:V,onMouseEnter:z,onMouseLeave:B,onMouseMove:$,onMouseUp:ie,onTouchEnd:M,onTouchMove:se,onTouchStart:pe,ref:D},n)))}),Nee=["children","className","width","height","style","compact","title","desc"];function Cee(e,t){if(e==null)return{};var n,r,i=Aee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UR=b.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:l,compact:u,title:d,desc:f}=e,p=Cee(e,Nee),g=Ki(p);return u?b.createElement(cC,{otherAttributes:g,title:d,desc:f},n):b.createElement(Oee,{className:r,style:l,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(cC,{otherAttributes:g,title:d,desc:f,ref:t},b.createElement(IJ,null,n)))}),Tee=["width","height"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function kee(e,t){if(e==null)return{};var n,r,i=Mee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pee={top:5,right:5,bottom:5,left:5},Ree={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pee,reverseStackOrder:!1,syncMethod:"index"},Dee=b.forwardRef(function(t,n){var r,i=$n(t.categoricalChartProps,Ree),{width:o,height:l}=i,u=kee(i,Tee);if(!ul(o)||!ul(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:v}=t,w={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return b.createElement(DR,{preloadedState:{options:w},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:d},b.createElement(vR,{chartData:v.data}),b.createElement(LR,{width:o,height:l,layout:i.layout,margin:i.margin}),b.createElement(IR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(UR,T0({},u,{width:o,height:l,ref:n})))}),Lee=["axis","item"],Iee=b.forwardRef((e,t)=>b.createElement(Dee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lee,tooltipPayloadSearcher:zP,categoricalChartProps:e,ref:t}));function Uee(e){var t=Rt();return b.useEffect(()=>{t(cee(e))},[t,e]),null}var $ee=["width","height","layout"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function zee(e,t){if(e==null)return{};var n,r,i=Bee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qee={top:5,right:5,bottom:5,left:5},Hee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Kee=b.forwardRef(function(t,n){var r,i=$n(t.categoricalChartProps,Hee),{width:o,height:l,layout:u}=i,d=zee(i,$ee);if(!ul(o)||!ul(l))return null;var{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=t,w={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return b.createElement(DR,{preloadedState:{options:w},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},b.createElement(vR,{chartData:i.data}),b.createElement(LR,{width:o,height:l,layout:u,margin:i.margin}),b.createElement(IR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(Uee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(UR,k0({width:o,height:l},d,{ref:n})))}),Fee=["item"],Gee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Yee=b.forwardRef((e,t)=>{var n=$n(e,Gee);return b.createElement(Kee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Fee,tooltipPayloadSearcher:zP,categoricalChartProps:n,ref:t})});const dC=[{value:"editor",label:"Éditeur",headerDescription:"Gestion complète",helper:"Créer, modifier et valider le contenu.",tooltip:"Autorise toutes les actions, y compris la modification et la validation des données."},{value:"readonly",label:"Lecture seule",headerDescription:"Consultation",helper:"Visualiser les informations sans modifier.",tooltip:"Permet uniquement de consulter les informations sans pouvoir les modifier."},{value:"none",label:"Aucun",headerDescription:"Accès bloqué",helper:"Masquer totalement la section.",tooltip:"Bloque complètement l’accès à la section ou à la fonctionnalité."}],Vee=({permissionKeys:e,permissions:t,onChange:n,getPermissionLabel:r,customPermissions:i,onRemoveCustomPermission:o})=>{const l=b.useMemo(()=>{if(e.length===0)return[];const d=Qn.map(w=>w.permissionKey),f=new Set(d),p=d.filter(w=>e.includes(w)),g=e.filter(w=>!f.has(w)).sort((w,S)=>r(w).localeCompare(r(S),"fr")),v=[];return p.length>0&&v.push({id:"navigation",title:"Navigation principale",keys:p}),g.length>0&&v.push({id:"custom",title:"Permissions personnalisées",keys:g}),v},[r,e]),u=d=>{e.forEach(f=>{(t[f]??"none")!==d&&n(f,d)})};return e.length===0?m.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm font-medium text-gray-900",children:"Aucune permission disponible pour ce rôle pour le moment."}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>u("editor"),title:"Autoriser toutes les sections en mode édition.",children:"Tout autoriser"}),m.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>u("readonly"),title:"Basculer toutes les sections en lecture seule.",children:"Lecture seule partout"}),m.jsx("button",{type:"button",className:"permission-action-button is-danger",onClick:()=>u("none"),title:"Révoquer toutes les permissions.",children:"Tout bloquer"})]}),m.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:m.jsx("div",{className:"max-h-96 overflow-auto",children:m.jsx("div",{className:"min-w-full",children:m.jsxs("div",{className:"grid grid-cols-[minmax(220px,2fr)_repeat(3,minmax(140px,1fr))]",children:[m.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:"Section / permission"}),dC.map(d=>m.jsxs("div",{className:"border-b border-l border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:[m.jsx("div",{children:d.label}),m.jsx("p",{className:"mt-1 text-xs font-medium text-gray-900",children:d.headerDescription})]},d.value)),l.map(d=>m.jsxs(sn.Fragment,{children:[m.jsx("div",{className:"col-span-4 border-t border-gray-200 bg-gray-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-900",children:d.title}),d.keys.map(f=>{const p=t[f]??"none",g=`permission-${f.replace(/[^a-zA-Z0-9_-]/g,"_")}`,v=f in i;return m.jsxs(sn.Fragment,{children:[m.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(f)}),v&&o&&m.jsx("button",{type:"button",onClick:()=>o(f),className:"text-gray-700 transition-colors hover:text-red-600",title:"Supprimer cette permission personnalisée",children:m.jsx(Sl,{className:"h-4 w-4"})})]})}),dC.map(w=>{const S=p===w.value;return m.jsx("div",{className:"border-t border-l border-gray-100 px-4 py-3",children:m.jsxs("label",{className:`permission-choice${S?" is-active":""}`,title:w.tooltip,children:[m.jsx("input",{type:"radio",className:"sr-only",name:g,value:w.value,checked:S,onChange:()=>n(f,w.value)}),m.jsx("span",{className:"permission-choice__label",children:w.label}),m.jsx("span",{className:"permission-choice__helper",children:w.helper})]})},w.value)})]},f)})]},d.id))]})})})})]})},Wee=({mode:e,formState:t,onSubmit:n,onInputChange:r,onHomePageChange:i,onPermissionChange:o,onAddCustomPermission:l,onRemoveCustomPermission:u,onCancel:d,isSubmitting:f,hasAccessibleHomePage:p,permissionKeys:g,getPermissionLabel:v,isPermissionGranted:w})=>{const[S,_]=b.useState(!1),[j,N]=b.useState(""),[E,C]=b.useState(""),[A,T]=b.useState(null),P=()=>{_(!1),N(""),C(""),T(null)},R=()=>{const D=j.trim(),H=E.trim();if(!D||!H){T("La clé technique et le nom affiché sont obligatoires.");return}if(g.includes(D)){T("Cette clé de permission existe déjà.");return}l(D,H),P()};return m.jsxs("div",{children:[m.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900",children:e==="edit"?"Modifier le rôle sélectionné":"Créer un nouveau rôle"}),m.jsxs("form",{onSubmit:n,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Nom du rôle"}),m.jsx("input",{id:"role-name",name:"name",value:t.name,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. Manager"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-pin",className:"mb-1 block text-sm font-medium text-gray-900",children:"Code PIN d'accès"}),m.jsx("input",{id:"role-pin",name:"pin",value:t.pin,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. 1234"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-home-page",className:"mb-1 block text-sm font-medium text-gray-900",children:"Page d'accueil par défaut"}),m.jsx("select",{id:"role-home-page",name:"homePage",value:t.homePage,onChange:D=>i(D.target.value),disabled:!p,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:cursor-not-allowed disabled:bg-gray-100",children:Qn.map(D=>{const H=w(t.permissions[D.permissionKey]);return m.jsxs("option",{value:D.permissionKey,disabled:!H,children:[v(D.permissionKey),H?"":" (accès requis)"]},D.permissionKey)})}),p?m.jsx("p",{className:"mt-1 text-xs text-gray-900",children:"Les pages sans permission sont désactivées."}):m.jsx("p",{className:"mt-1 text-xs font-medium text-red-700",children:"Accordez au moins une permission pour choisir une page d'accueil."})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-900",children:"Permissions par page"}),m.jsx(Vee,{permissionKeys:g,permissions:t.permissions,onChange:o,getPermissionLabel:v,customPermissions:t.customPermissions,onRemoveCustomPermission:u}),m.jsx("div",{className:"mt-4 space-y-3",children:S?m.jsxs("div",{className:"rounded-md border border-dashed border-brand-primary/50 bg-brand-primary/5 p-4",children:[m.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Clé technique"}),m.jsx("input",{type:"text",value:j,onChange:D=>{N(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. /rapports"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Nom affiché"}),m.jsx("input",{type:"text",value:E,onChange:D=>{C(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. Rapports"})]})]}),A&&m.jsx("p",{className:"mt-2 text-xs font-medium text-red-700",children:A}),m.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[m.jsx("button",{type:"button",onClick:P,className:"rounded-md border border-gray-300 px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),m.jsx("button",{type:"button",onClick:R,className:"rounded-md bg-brand-primary px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-primary/90",children:"Ajouter"})]})]}):m.jsx("button",{type:"button",onClick:()=>{_(!0),T(null)},className:"text-sm font-semibold text-brand-primary hover:underline",children:"Ajouter une permission"})})]}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[e==="edit"&&m.jsx("button",{type:"button",onClick:d,className:"rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),m.jsxs("button",{type:"submit",disabled:f,className:"inline-flex items-center rounded-md bg-brand-primary px-4 py-2 text-sm font-semibold text-white shadow hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:[m.jsx(CA,{className:"mr-2 h-4 w-4"}),f?"Enregistrement...":e==="edit"?"Mettre à jour":"Créer"]})]})]})]})},Xee=({roles:e,isFetching:t,onCreateRole:n,onSelectRole:r,onDeleteRole:i,selectedRoleId:o,isEditing:l,deletingRoleId:u,getPermissionLabel:d})=>{const f=!t&&e.length===0;return m.jsxs("div",{className:"flex h-full flex-col",children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rôles existants"}),m.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-brand-primary px-2 py-1 text-sm font-medium text-brand-primary transition-colors hover:bg-brand-primary/10",children:[m.jsx(gu,{className:"mr-1.5 h-4 w-4"}),"Nouveau rôle"]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border border-gray-200 p-3",children:t?m.jsx("p",{className:"text-sm text-gray-900",children:"Chargement des rôles..."}):f?m.jsx("p",{className:"text-sm text-gray-900",children:"Aucun rôle configuré pour le moment."}):m.jsx("div",{className:"space-y-3",children:e.map(p=>{const g=l&&o===p.id;return m.jsxs("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 transition-colors ${g?"border-brand-primary bg-brand-primary/10":"border-gray-200"}`,children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"font-semibold text-gray-900",children:p.name}),m.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["PIN : ",p.pin??"—"]}),p.homePage&&m.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Accueil : ",d(p.homePage)]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>r(p),className:"rounded-md border border-gray-300 px-2 py-1 text-xs font-semibold text-gray-900 transition-colors hover:bg-gray-100",children:"Modifier"}),m.jsxs("button",{type:"button",onClick:()=>i(p.id),disabled:u===p.id,className:"inline-flex items-center rounded-md border border-red-300 px-2 py-1 text-xs font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[m.jsx(Sl,{className:"mr-1 h-3 w-3"}),"Supprimer"]})]})]},p.id)})})})]})};var EC;const Qee=((EC=Qn[0])==null?void 0:EC.permissionKey)??"/dashboard",Jee=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===MA.ADMIN||t==="administrateur"},ws=(e,t,n={})=>{const r={...e||{}};return delete r[Ms],Qn.forEach(i=>{i.permissionKey in r||(i.permissionKey===Fa&&Jee(t)?r[i.permissionKey]="editor":r[i.permissionKey]="none")}),Object.keys(n).forEach(i=>{i in r||(r[i]="none")}),r},_s=e=>{const t=Qn.find(n=>Ss(e[n.permissionKey]));return(t==null?void 0:t.permissionKey)??Qee},fC=e=>{const t=ws(void 0,void 0,e);return{name:"",pin:"",permissions:t,homePage:_s(t),customPermissions:{...e}}},Ss=e=>e==="editor"||e==="readonly",Zee=({isOpen:e,onClose:t})=>{const{refreshRole:n,role:r}=ma(),[i,o]=b.useState([]),[l,u]=b.useState({}),[d,f]=b.useState(()=>fC({})),[p,g]=b.useState("create"),[v,w]=b.useState(!1),[S,_]=b.useState(!1),[j,N]=b.useState(null),[E,C]=b.useState(null),[A,T]=b.useState(null),P=b.useMemo(()=>{const se=Qn.map(L=>L.permissionKey),M=new Set;return Object.keys(l).forEach(L=>{se.includes(L)||M.add(L)}),i.forEach(L=>{Object.keys(L.permissions).forEach(F=>{F!==Ms&&(se.includes(F)||M.add(F))})}),[...se,...Array.from(M)]},[i,l]),R=b.useMemo(()=>Qn.some(se=>Ss(d.permissions[se.permissionKey])),[d.permissions]),D=b.useCallback(async()=>{w(!0);try{const se=await je.getRoles();o(se),u(M=>{const L={...M};let F=!1;const Y=new Set(Qn.map(J=>J.permissionKey));return se.forEach(J=>{Object.keys(J.permissions).forEach(G=>{G===Ms||Y.has(G)||G in L||(L[G]=G,F=!0)})}),F?L:M}),T(null)}catch(se){console.error("Failed to load roles:",se),T("Impossible de charger les rôles.")}finally{w(!1)}},[]),H=b.useCallback(()=>{g("create"),f(fC(l))},[l]);b.useEffect(()=>{e&&(C(null),T(null),H(),D())},[e,D,H]),b.useEffect(()=>{f(se=>{const M=se.homePage;if(Ss(se.permissions[M]))return se;const L=_s(se.permissions);return L===M?se:{...se,homePage:L}})},[d.permissions]),b.useEffect(()=>{f(se=>{const M=se.customPermissions,L=l,F=Object.keys(M),Y=Object.keys(L);if(F.length===Y.length&&F.every(de=>L[de]===M[de]))return se;const J=ws(se.permissions,se.name,L),G=Ss(J[se.homePage])?se.homePage:_s(J);return{...se,customPermissions:{...L},permissions:J,homePage:G}})},[l]);const z=b.useCallback(se=>{const M=Qn.find(L=>L.permissionKey===se);return M?M.name:l[se]??se},[l]);return{roles:i,formState:d,mode:p,isFetching:v,isSubmitting:S,deletingRoleId:j,statusMessage:E,errorMessage:A,permissionKeys:P,hasAccessibleHomePage:R,handleInputChange:se=>{const{name:M,value:L}=se.target;f(F=>({...F,[M]:L}))},handlePermissionChange:(se,M)=>{f(L=>({...L,permissions:{...L.permissions,[se]:M}}))},handleHomePageChange:se=>{f(M=>({...M,homePage:se}))},handleSelectRole:se=>{const M=new Set(Qn.map(J=>J.permissionKey)),L={...l};let F=!1;Object.keys(se.permissions).forEach(J=>{J===Ms||M.has(J)||J in L||(L[J]=J,F=!0)}),F&&u(L);const Y=ws(se.permissions,se.name,F?L:l);g("edit"),f({id:se.id,name:se.name,pin:se.pin??"",permissions:Y,homePage:se.homePage??_s(Y),customPermissions:{...F?L:l}}),C(null),T(null)},handleDeleteRole:async se=>{if(confirm("Supprimer ce rôle ? Cette action est irréversible.")){N(se),C(null),T(null);try{await je.deleteRole(se),C("Rôle supprimé avec succès."),p==="edit"&&d.id===se&&H(),await D(),(r==null?void 0:r.id)===se&&await n()}catch(M){console.error("Failed to delete role:",M),T("Impossible de supprimer le rôle.")}finally{N(null)}}},handleSubmit:async se=>{if(se.preventDefault(),T(null),C(null),!d.name.trim()||!d.pin.trim()){T("Le nom et le code PIN sont obligatoires.");return}_(!0);try{const M=ws(d.permissions,d.name,l),L=Ss(M[d.homePage])?d.homePage:_s(M);if(p==="create")await je.createRole({name:d.name.trim(),pin:d.pin.trim(),permissions:M,homePage:L}),C("Rôle créé avec succès."),await D(),await n(),H();else if(d.id){const F=await je.updateRole(d.id,{name:d.name.trim(),pin:d.pin.trim(),permissions:M,homePage:L});C("Rôle mis à jour avec succès.");const Y=ws(F.permissions,F.name,l);f({id:F.id,name:F.name,pin:F.pin??"",permissions:Y,homePage:F.homePage??_s(Y),customPermissions:{...l}}),await D(),(r==null?void 0:r.id)===F.id&&await n()}}catch(M){console.error("Failed to save role:",M),T("Impossible d'enregistrer le rôle.")}finally{_(!1)}},handleClose:()=>{H(),C(null),T(null),t()},resetForm:H,getPermissionLabel:z,isPermissionGranted:Ss,handleAddCustomPermission:(se,M)=>{Qn.some(L=>L.permissionKey===se)||u(L=>{if(L[se]===M)return L;const F={...L,[se]:M};return f(Y=>{const J=ws(Y.permissions,Y.name,F);return se in J||(J[se]="none"),{...Y,customPermissions:{...F},permissions:J}}),F})},handleRemoveCustomPermission:se=>{Qn.some(M=>M.permissionKey===se)||u(M=>{if(!(se in M))return M;const L={...M};return delete L[se],f(F=>{const{[se]:Y,...J}=F.customPermissions,G={...F.permissions};delete G[se];const de=ws(G,F.name,L),be=Ss(de[F.homePage])?F.homePage:_s(de);return{...F,customPermissions:{...J},permissions:de,homePage:be}}),L})}}},ete=({isOpen:e,onClose:t})=>{const{roles:n,formState:r,mode:i,isFetching:o,isSubmitting:l,deletingRoleId:u,statusMessage:d,errorMessage:f,permissionKeys:p,hasAccessibleHomePage:g,handleInputChange:v,handlePermissionChange:w,handleHomePageChange:S,handleSelectRole:_,handleDeleteRole:j,handleSubmit:N,handleClose:E,resetForm:C,getPermissionLabel:A,isPermissionGranted:T,handleAddCustomPermission:P,handleRemoveCustomPermission:R}=Zee({isOpen:e,onClose:t});return m.jsx(yn,{isOpen:e,onClose:E,title:"Gestion des rôles",size:"xl",children:m.jsxs("div",{className:"flex flex-col gap-6",children:[d&&m.jsx("div",{className:"rounded-md bg-green-100 px-4 py-2 text-sm font-medium text-green-900",children:d}),f&&m.jsx("div",{className:"rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-900",children:f}),m.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:gap-8",children:[m.jsx("div",{className:"md:w-[38%] md:flex-shrink-0 lg:w-[35%]",children:m.jsx(Xee,{roles:n,isFetching:o,onCreateRole:C,onSelectRole:_,onDeleteRole:j,selectedRoleId:r.id,isEditing:i==="edit",deletingRoleId:u,getPermissionLabel:A})}),m.jsx("div",{className:"flex-1",children:m.jsx(Wee,{mode:i,formState:r,onSubmit:N,onInputChange:v,onHomePageChange:S,onPermissionChange:w,onAddCustomPermission:P,onRemoveCustomPermission:R,onCancel:C,isSubmitting:l,hasAccessibleHomePage:g,permissionKeys:p,getPermissionLabel:A,isPermissionGranted:T})})]})]})})},yf=({title:e,value:t,icon:n})=>m.jsxs("div",{className:"ui-card p-6 flex flex-col items-center justify-center text-center gap-4 min-w-0",children:[m.jsx("div",{className:"p-4 bg-brand-primary/20 text-brand-primary rounded-full",children:n}),m.jsxs("div",{className:"w-full space-y-2",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-500 text-center",children:e}),m.jsx("div",{className:"w-full flex justify-center",children:m.jsx("p",{className:"font-bold text-gray-800 leading-none text-center break-words",style:{fontSize:"clamp(1.25rem, 3vw, 2rem)",letterSpacing:"-0.01em"},children:t})})]})]}),bf=({title:e,value:t,icon:n,onClick:r})=>m.jsxs("div",{className:`ui-card p-4 flex items-center space-x-3 min-w-0 ${r?"cursor-pointer hover:bg-gray-50":""}`,onClick:r,children:[m.jsx("div",{className:"p-3 bg-gray-100 text-gray-600 rounded-lg",children:n}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-xs text-gray-500",children:e}),m.jsx("p",{className:"text-lg sm:text-xl xl:text-2xl font-bold text-gray-800 break-words leading-tight",children:t})]})]}),$R={week:{label:"Últimos 7 días",days:7},month:{label:"Últimos 30 días",days:30}},tte=e=>{const{days:t}=$R[e],n=new Date(Yc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t),{start:r,end:n}},nte=()=>{const[e,t]=b.useState(null),[n,r]=b.useState([]),[i,o]=b.useState(!0),[l,u]=b.useState("category"),[d,f]=b.useState(!1),[p,g]=b.useState(!1),[v,w]=b.useState("week");if(b.useEffect(()=>{(async()=>{const{start:E,end:C}=tte(v),A=E.toISOString(),T=C.toISOString();o(!0);try{const[P,R]=await Promise.all([je.getDashboardStats(v),je.getSalesByProduct({start:A,end:T})]);t(P),r(R)}catch(P){console.error("Failed to fetch dashboard stats",P)}finally{o(!1)}})()},[v]),i)return m.jsx("div",{className:"text-gray-800",children:"Cargando datos del panel..."});if(!e)return m.jsx("div",{className:"text-red-500",children:"No fue posible cargar los datos."});const S=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560","#775DD0"],_=l==="category"?e.ventesParCategorie:n,j=_.length>0;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[m.jsx("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 text-sm font-semibold text-gray-600",children:Object.entries($R).map(([N,E])=>{const C=N,A=v===C;return m.jsx("button",{onClick:()=>w(C),className:`px-3 py-1.5 rounded-md transition-colors ${A?"bg-white text-gray-900 shadow":"hover:text-gray-900"}`,children:E.label},C)})}),m.jsxs("button",{onClick:()=>g(!0),className:"ui-btn-primary",children:[m.jsx(o$,{className:"mr-2 h-4 w-4"}),"Gestión de roles"]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(yf,{title:`Ventas (${e.periodLabel})`,value:Re(e.ventesPeriode),icon:m.jsx(Zc,{size:28})}),m.jsx(yf,{title:`Beneficio (${e.periodLabel})`,value:Re(e.beneficePeriode),icon:m.jsx(Zc,{size:28})}),m.jsx(yf,{title:`Clientes (${e.periodLabel})`,value:e.clientsPeriode.toString(),icon:m.jsx(ky,{size:28})}),m.jsx(yf,{title:"Ticket promedio",value:Re(e.panierMoyen),icon:m.jsx(FU,{size:28})})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(bf,{title:"Mesas ocupadas",value:e.tablesOccupees,icon:m.jsx(X0,{size:24})}),m.jsx(bf,{title:"Clientes actuales",value:e.clientsActuels,icon:m.jsx(ky,{size:24})}),m.jsx(bf,{title:"En cocina",value:e.commandesEnCuisine,icon:m.jsx(kA,{size:24})}),m.jsx(bf,{title:"Ingredientes bajos",value:e.ingredientsStockBas.length,icon:m.jsx(ca,{size:24,className:e.ingredientsStockBas.length>0?"text-red-500":"text-gray-600"}),onClick:()=>f(!0)})]}),m.jsxs("div",{className:"ui-card p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:["Ventas durante ",e.periodLabel]}),m.jsx(wN,{width:"100%",height:300,children:m.jsxs(Iee,{data:e.ventesPeriodeSeries,children:[m.jsx(_R,{strokeDasharray:"3 3"}),m.jsx(SR,{dataKey:"name"}),m.jsx(jR,{}),m.jsx(pN,{}),m.jsx(au,{}),m.jsx(E0,{dataKey:"ventes",fill:"#8884d8",name:`${e.periodLabel}`}),m.jsx(E0,{dataKey:"ventesPeriodePrecedente",fill:"#d8d6f5",name:"Periodo anterior"})]})})]}),m.jsxs("div",{className:"ui-card p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Distribución de ventas (",e.periodLabel,")"]}),m.jsxs("div",{className:"flex p-1 bg-gray-200 rounded-lg",children:[m.jsx("button",{onClick:()=>u("category"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="category"?"bg-white shadow":""}`,children:"Por categoría"}),m.jsx("button",{onClick:()=>u("product"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="product"?"bg-white shadow":""}`,children:"Por producto"})]})]}),j?m.jsx(wN,{width:"100%",height:300,children:m.jsxs(Yee,{children:[m.jsx(uR,{data:_,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:_.map((N,E)=>m.jsx(Ru,{fill:S[E%S.length]},`cell-${E}`))}),m.jsx(pN,{formatter:N=>Re(N)}),m.jsx(au,{})]})}):m.jsx("div",{style:{height:300},className:"flex items-center justify-center text-gray-500",children:"No hay datos para el periodo seleccionado."})]}),m.jsx(yn,{isOpen:d,onClose:()=>f(!1),title:"Ingredientes con inventario bajo",children:e.ingredientsStockBas.length>0?m.jsx("ul",{className:"space-y-2",children:e.ingredientsStockBas.map(N=>m.jsxs("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[m.jsx("span",{className:"font-semibold text-red-800",children:N.nom}),m.jsxs("span",{className:"font-bold text-red-600",children:[N.stock_actuel," / ",N.stock_minimum," ",N.unite]})]},N.id))}):m.jsx("p",{className:"text-gray-600 text-center",children:"No hay ingredientes con inventario bajo por el momento."})}),m.jsx(ete,{isOpen:p,onClose:()=>g(!1)})]})},rte=e=>{const t=Number.isFinite(e)?Math.max(0,e):0,n=Math.floor(t/1e3),r=Math.floor(n/60),i=n%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},fw=({startTime:e,className:t=""})=>{const[n,r]=b.useState(Date.now()-e);b.useEffect(()=>{const u=setInterval(()=>{r(Date.now()-e)},1e3);return()=>clearInterval(u)},[e]);const i=Math.floor(n/6e4),o=rte(n),l=()=>i>=20?"bg-red-500 text-white shadow-lg":i>=10?"bg-yellow-400 text-black shadow-md":"bg-brand-primary text-brand-secondary shadow-md ring-1 ring-black/5";return m.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-lg font-bold border-2 border-white ${l()} ${t}`,children:[m.jsx(jh,{size:20}),m.jsx("span",{children:o})]})},hC={nom:"",capacite:"",couverts:""},ate=({isOpen:e,onClose:t,mode:n,initialValues:r,onSubmit:i,showCouvertsField:o=!1})=>{const[l,u]=b.useState(hC),[d,f]=b.useState({}),[p,g]=b.useState(null),[v,w]=b.useState(!1),S=b.useMemo(()=>n==="create"?"Ajouter une table":"Modifier la table",[n]);b.useEffect(()=>{if(!e){u(hC),f({}),g(null),w(!1);return}const E={nom:(r==null?void 0:r.nom)??"",capacite:r!=null&&r.capacite?String(r.capacite):"",couverts:o&&(r==null?void 0:r.couverts)!==void 0?String(r.couverts):""};u(E),f({}),g(null)},[r==null?void 0:r.capacite,r==null?void 0:r.couverts,r==null?void 0:r.nom,e,o]);const _=E=>{const{name:C,value:A}=E.target;u(T=>({...T,[C]:A}))},j=()=>{const E={},C=l.nom.trim(),A=l.capacite.trim();C||(E.nom="Le nom est requis.");let T=null;if(!A)E.capacite="La capacité est requise.";else{const P=Number(A);!Number.isInteger(P)||P<=0?E.capacite="La capacité doit être un entier positif.":T=P}if(o){const P=l.couverts.trim();if(!P)E.couverts="Le nombre de couverts est requis.";else{const R=Number(P);!Number.isInteger(R)||R<=0?E.couverts="Les couverts doivent être un entier positif.":T!==null&&R>T&&(E.couverts="Les couverts ne peuvent pas dépasser la capacité.")}}return E},N=async E=>{E.preventDefault(),f({}),g(null);const C=j();if(Object.keys(C).length>0){f(C);return}const A={nom:l.nom.trim(),capacite:Number(l.capacite.trim())};if(o){const T=l.couverts.trim();T&&(A.couverts=Number(T))}w(!0);try{await i(A)}catch(T){const P=T instanceof Error&&T.message?T.message:"Une erreur est survenue. Veuillez réessayer.";g(P)}finally{w(!1)}};return m.jsx(yn,{isOpen:e,onClose:t,title:S,size:"md",children:m.jsxs("form",{onSubmit:N,className:"space-y-5",children:[p&&m.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:p}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-name",className:"block text-sm font-medium text-gray-700",children:"Nom de la table"}),m.jsx("input",{id:"table-name",name:"nom",type:"text",className:"ui-input mt-1",value:l.nom,onChange:_,disabled:v,placeholder:"Ex. Terrasse 1",autoFocus:!0}),d.nom&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.nom})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-capacity",className:"block text-sm font-medium text-gray-700",children:"Capacité (nombre de places)"}),m.jsx("input",{id:"table-capacity",name:"capacite",type:"number",min:1,className:"ui-input mt-1",value:l.capacite,onChange:_,disabled:v,placeholder:"Ex. 4"}),d.capacite&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.capacite})]}),o&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-couverts",className:"block text-sm font-medium text-gray-700",children:"Couverts (actuels)"}),m.jsx("input",{id:"table-couverts",name:"couverts",type:"number",min:1,className:"ui-input mt-1",value:l.couverts,onChange:_,disabled:v,placeholder:"Ex. 2"}),d.couverts&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.couverts})]}),m.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",disabled:v,children:"Annuler"}),m.jsx("button",{type:"submit",className:"w-full ui-btn-primary py-3 disabled:opacity-60",disabled:v,children:v?"Enregistrement...":"Enregistrer"})]})]})})},Ni={libre:{text:"Libre",statusClass:"status--free",Icon:X0},en_cuisine:{text:"En cuisine",statusClass:"status--preparing",Icon:E$},para_entregar:{text:"Para entregar",statusClass:"status--ready",Icon:b6},para_pagar:{text:"Para pagar",statusClass:"status--payment",Icon:Zc}},ite=e=>{const t=e.trim();if(!t)return e;const n=t.split(/\s+/);if(n.length<2)return t;const[r,...i]=n;let o=0;for(;o<i.length&&i[o].toLowerCase()===r.toLowerCase();)o+=1;return[r,...i.slice(o)].join(" ")},ste=e=>{switch(e.statut){case"libre":return Ni.libre;case"en_cuisine":return Ni.en_cuisine;case"para_entregar":return Ni.para_entregar;case"para_pagar":return Ni.para_pagar;default:return e.estado_cocina==="servido"||e.estado_cocina==="entregada"?Ni.para_pagar:e.estado_cocina==="listo"?Ni.para_entregar:e.commandeId?Ni.en_cuisine:Ni.libre}},ote=({table:e,onServe:t,canEdit:n,onEdit:r,onDelete:i,isDeleting:o})=>{const l=qi(),{text:u,statusClass:d,Icon:f}=ste(e),[p,g]=b.useState(!1),v=b.useRef(null),w=()=>{l(`/commande/${e.id}`)},S=A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),w())},_=A=>{A.stopPropagation(),e.commandeId&&t(e.commandeId)},j=A=>{A.stopPropagation(),g(T=>!T)};b.useEffect(()=>{if(!p)return;const A=T=>{v.current&&!v.current.contains(T.target)&&g(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[p]);const N=A=>{A.stopPropagation(),g(!1),r==null||r(e)},E=async A=>{if(A.stopPropagation(),g(!1),!!i)try{await i(e)}catch(T){console.error("Failed to delete table from card:",T)}},C=ite(e.nom);return m.jsxs("div",{onClick:w,onKeyDown:S,className:`ui-card status-card ${d} relative`,role:"button",tabIndex:0,children:[e.statut==="para_entregar"&&e.readyOrdersCount&&e.readyOrdersCount>0&&m.jsx("div",{className:"absolute left-3 top-3 z-10",children:m.jsx("span",{className:"table-notification-badge",children:e.readyOrdersCount})}),n&&m.jsxs("div",{className:"absolute right-3 top-3",ref:v,children:[m.jsx("button",{type:"button",onClick:j,className:"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Options de la table",disabled:o,children:m.jsx(wA,{size:18})}),p&&m.jsxs("div",{className:"absolute right-0 mt-2 w-44 rounded-md border border-gray-200 bg-white py-1 text-sm shadow-lg",children:[m.jsxs("button",{type:"button",onClick:N,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-gray-700 transition hover:bg-gray-100",children:[m.jsx(G6,{size:16}),"Modifier"]}),m.jsxs("button",{type:"button",onClick:E,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:o,children:[m.jsx(Sl,{size:16}),o?"Suppression…":"Supprimer"]})]})]}),m.jsxs("div",{className:"status-card__header",children:[m.jsx("h3",{className:"status-card__title",children:C}),e.date_envoi_cuisine&&e.statut!=="libre"&&m.jsx("div",{className:"status-card__timer",children:m.jsx(fw,{startTime:e.date_envoi_cuisine,className:"w-full justify-center"})})]}),m.jsxs("div",{className:"status-card__body",children:[m.jsx(f,{size:56,className:"status-card__icon"}),m.jsx("p",{className:"status-card__state",children:u})]}),m.jsxs("div",{className:"status-card__footer",children:[e.statut!=="libre"?m.jsxs("p",{className:"status-card__meta",children:["Couverts : ",e.couverts]}):m.jsxs("p",{className:"status-card__meta",children:["Capacité : ",e.capacite]}),(e.estado_cocina==="listo"||e.statut==="para_entregar")&&m.jsx("button",{type:"button",onClick:_,className:"ui-btn ui-btn-accent status-card__cta",children:"ENTREGADA"})]})]})},lte=()=>{var Q;const{role:e}=ma(),t=((Q=e==null?void 0:e.permissions)==null?void 0:Q["/ventes"])==="editor",[n,r]=b.useState([]),[i,o]=b.useState(!0),[l,u]=b.useState(null),[d,f]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[S,_]=b.useState("create"),[j,N]=b.useState(null),[E,C]=b.useState(null),A=b.useRef(0),T=b.useCallback(async()=>{const re=++A.current;try{const I=await je.getTables();re===A.current&&(r(I),u(null))}catch(I){console.error("Failed to fetch tables",I),re===A.current&&u("Impossible de charger le plan de salle. Veuillez réessayer.")}finally{re===A.current&&o(!1)}},[]);b.useEffect(()=>{o(!0),T();const re=setInterval(T,1e4),I=je.notifications.subscribe("orders_updated",T);return()=>{clearInterval(re),I()}},[T]);const P=b.useCallback(()=>{w(!1),N(null)},[]),R=b.useCallback(()=>{_("create"),N(null),f(null),g(null),w(!0)},[]),D=b.useCallback(re=>{_("edit"),N(re),f(null),g(null),w(!0)},[]),H=b.useCallback(async re=>{f(null),g(null);try{let I="";if(S==="create")await je.createTable(re),I="Table créée avec succès.";else{if(!j){const V="Aucune table sélectionnée pour la mise à jour.";throw f(V),new Error(V)}await je.updateTable(j.id,re),I="Table mise à jour avec succès."}await T(),P(),g(I)}catch(I){console.error("Failed to save table:",I);const V=S==="create"?"Impossible de créer la table. Veuillez réessayer.":"Impossible de mettre à jour la table. Veuillez réessayer.";throw f(V),new Error(V)}},[T,P,S,j]),z=b.useCallback(async re=>{if(confirm("Supprimer cette table ? Cette action est irréversible.")){f(null),g(null),C(re.id);try{await je.deleteTable(re.id),await T(),g("Table supprimée avec succès.")}catch(I){console.error("Failed to delete table:",I),f("Impossible de supprimer la table. Veuillez réessayer.")}finally{C(null)}}},[T]),B=b.useCallback(async re=>{f(null),g(null);const I=n.find(V=>V.commandeId===re);if(I){r(V=>V.map(ie=>ie.id===I.id?{...ie,statut:"para_pagar",estado_cocina:"servido"}:ie));try{await je.markOrderAsServed(re),await T()}catch(V){console.error("Failed to mark order as served:",V),f("Impossible de marquer la commande comme servie. Veuillez réessayer."),await T()}}},[T,n]);if(i)return m.jsx("p",{className:"section-text section-text--muted",children:"Chargement du plan de salle..."});const $=S==="edit"&&j?{nom:j.nom,capacite:j.capacite,couverts:j.couverts}:void 0,ne=S==="edit"&&!!(j!=null&&j.commandeId);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[t&&m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{type:"button",onClick:R,className:"ui-btn ui-btn-primary flex items-center gap-2",children:[m.jsx(gu,{size:18}),"Ajouter une table"]})}),l&&m.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:l}),d&&m.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:d}),p&&m.jsx("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:p})]}),m.jsx("div",{className:"mt-6 status-grid",children:n.map(re=>m.jsx(ote,{table:re,onServe:B,canEdit:!!t,onEdit:D,onDelete:z,isDeleting:E===re.id},re.id))}),m.jsx(ate,{isOpen:v,onClose:P,mode:S,initialValues:$,onSubmit:H,showCouvertsField:ne})]})},cte=({isOpen:e,onClose:t,order:n,onFinalize:r})=>{const[i,o]=b.useState("efectivo"),[l,u]=b.useState(null),[d,f]=b.useState(!1),p=async g=>{g.preventDefault(),i&&(f(!0),await r(i,l),f(!1),t())};return m.jsx(yn,{isOpen:e,onClose:t,title:`Finalizar el pedido #${n.id.slice(-4)}`,children:m.jsxs("form",{onSubmit:p,className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-gray-600",children:"Total a pagar"}),m.jsx("p",{className:"text-4xl font-extrabold text-gray-900",children:Re(n.total)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("select",{value:i,onChange:g=>o(g.target.value),className:"mt-1 ui-select",children:[m.jsx("option",{value:"efectivo",children:"Efectivo"}),m.jsx("option",{value:"transferencia",children:"Transferencia"}),m.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),i==="transferencia"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante (opcional)"}),m.jsxs("label",{htmlFor:"payment-receipt",className:"mt-1 flex w-full cursor-pointer items-center gap-2 rounded-lg border border-gray-300 bg-white p-2 text-gray-500 shadow-sm hover:bg-gray-50",children:[m.jsx(Ks,{size:18}),m.jsx("span",{children:l?l.name:"Selecciona un archivo..."})]}),m.jsx("input",{id:"payment-receipt",type:"file",accept:"image/*,.pdf",onChange:g=>u(g.target.files?g.target.files[0]:null),className:"hidden"})]}),m.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:d?"Finalizando...":"Confirmar pago"})]})]})})},ute=e=>e??"",dte=e=>!e||e.length===0?[]:e.slice().sort(),Cf=(e=[])=>{const t=new Map;for(const n of e)t.set(n.id,{quantite:n.quantite,commentaire:ute(n.commentaire),excludedIngredients:dte(n.excluded_ingredients)});return{size:e.length,itemsById:t}},mC=(e,t)=>{if(e===t)return!0;if(e.size!==t.size)return!1;for(const[n,r]of e.itemsById){const i=t.itemsById.get(n);if(!i||r.quantite!==i.quantite||r.commentaire!==i.commentaire||r.excludedIngredients.length!==i.excludedIngredients.length)return!1;for(let o=0;o<r.excludedIngredients.length;o+=1)if(r.excludedIngredients[o]!==i.excludedIngredients[o])return!1}return!0},fte=({filteredProducts:e,quantities:t,onAdd:n,activeCategoryId:r,categories:i,onSelectCategory:o,isProductAvailable:l,handleProductPointerDown:u,handleProductKeyDown:d})=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"p-4 border-b",children:m.jsxs("div",{className:"flex space-x-2 mt-4 overflow-x-auto pb-2",children:[m.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r==="all"?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:"Tous"}),i.map(f=>m.jsx("button",{onClick:()=>o(f.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r===f.id?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:f.nom},f.id))]})}),m.jsx("div",{className:"p-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-y-auto",children:e.map(f=>{const p=!l(f),g=t[f.id]||0,v=()=>n(f),w=u(f),S=d(f);return m.jsxs("button",{type:"button",onClick:v,onPointerDown:w,onKeyDown:S,className:`border rounded-lg p-2 flex flex-col items-center justify-between text-center cursor-pointer hover:shadow-lg transition-all relative focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-gray-900 ${p?"border-yellow-500 border-2":""}`,children:[g>0&&m.jsx("div",{className:"absolute top-1 left-1 bg-brand-accent text-white rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold",children:g}),p&&m.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white rounded-full p-1",title:"Stock bas",children:m.jsx(ca,{size:16})}),m.jsx("img",{src:f.image,alt:f.nom_produit,className:"w-24 h-24 object-cover rounded-md mb-2"}),m.jsx("p",{className:"font-semibold text-sm text-gray-800",children:f.nom_produit}),m.jsx("p",{className:"text-xs text-gray-600 px-1 h-10 overflow-hidden flex-grow",children:f.description}),m.jsx("p",{className:"font-bold text-brand-primary mt-1",children:Re(f.prix_vente)})]},f.id)})})]}),hte=b.memo(fte),mte=({categorizedItems:e,total:t,onQuantityChange:n,onCommentChange:r,onPersistComment:i,onStartEditingComment:o,onSendToKitchen:l,onServeOrder:u,onOpenPayment:d,isSending:f,hasPending:p,orderStatus:g,editingCommentId:v})=>{const w=e.pending.length+e.sent.length;return m.jsxs("div",{className:"ui-card flex flex-col",children:[m.jsx("div",{className:"p-4 border-b",children:m.jsx("h2",{className:"text-2xl font-semibold text-brand-secondary",children:"Commande"})}),m.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:w===0?m.jsx("p",{className:"text-gray-500",children:"La commande est vide."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Articles à envoyer"}),m.jsx("span",{className:"text-sm text-gray-500",children:e.pending.length})]}),e.pending.length===0?m.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article en attente."}):e.pending.map(({item:S,index:_})=>m.jsxs("div",{className:"p-3 rounded-lg bg-yellow-100",children:[m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-base font-bold text-white shadow-md",children:S.quantite}),m.jsx("p",{className:"font-bold text-gray-900",children:S.nom_produit})]}),m.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Re(S.quantite*S.prix_unitaire)})]}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsxs("p",{className:"text-sm text-gray-700",children:[Re(S.prix_unitaire)," /u"]}),m.jsxs("div",{className:"flex items-center space-x-2 text-gray-800",children:[m.jsx("button",{onClick:()=>n(_,-1),className:"p-1",children:m.jsx(a6,{size:20})}),m.jsx("span",{className:"font-bold w-6 text-center",children:S.quantite}),m.jsx("button",{onClick:()=>n(_,1),className:"p-1",children:m.jsx(Q0,{size:20})})]})]}),v===S.id||S.commentaire?m.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:S.commentaire??"",onChange:j=>r(_,j.target.value),onBlur:()=>i(_),autoFocus:v===S.id,className:"mt-2 ui-input text-sm"}):m.jsxs("button",{onClick:()=>o(S.id),className:"mt-2 text-xs text-blue-600 hover:underline flex items-center gap-1",children:[m.jsx(EA,{size:12})," Ajouter un commentaire"]})]},S.id))]}),e.sent.length>0&&m.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-700",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Envoyés en cuisine"}),m.jsx("span",{className:"text-sm text-gray-500",children:e.sent.length})]}),e.sent.map(({item:S})=>m.jsxs("div",{className:"p-3 rounded-lg bg-green-100",children:[m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-green-600 text-base font-bold text-white shadow-md",children:S.quantite}),m.jsx("p",{className:"font-bold text-gray-900",children:S.nom_produit})]}),m.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Re(S.quantite*S.prix_unitaire)})]}),m.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[Re(S.prix_unitaire)," /u"]}),S.commentaire&&m.jsxs("p",{className:"mt-2 text-sm italic text-gray-600 pl-2",children:['"',S.commentaire,'"']})]},S.id))]})]})}),m.jsxs("div",{className:"p-4 border-t space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-2xl font-semibold text-brand-secondary",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Re(t)})]}),g==="listo"&&m.jsxs("button",{onClick:u,className:"w-full ui-btn-info justify-center py-3",children:[m.jsx(YU,{size:20}),m.jsx("span",{children:"Entregada"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs("button",{onClick:l,disabled:f||!p,className:"flex-1 ui-btn-accent justify-center py-3 disabled:opacity-60",children:[m.jsx(a$,{size:20}),m.jsx("span",{children:f?"Synchronisation…":"Envoyer en Cuisine"})]}),m.jsxs("button",{onClick:d,disabled:g!=="servido",className:"flex-1 ui-btn-success justify-center py-3 disabled:opacity-60",children:[m.jsx(Zc,{size:20}),m.jsx("span",{children:"Finaliser"})]})]})]})]})},pte=({isOpen:e,product:t,onClose:n,onSave:r})=>{const[i,o]=b.useState(1),[l,u]=b.useState("");if(b.useEffect(()=>{e&&(o(1),u(""))},[e,t==null?void 0:t.id]),!t)return null;const d=()=>{o(g=>Math.max(1,g-1))},f=()=>{o(g=>g+1)},p=()=>{r({quantity:i,comment:l})};return m.jsx(yn,{isOpen:e,onClose:n,title:t.nom_produit,children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:t.image,alt:t.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),t.description&&m.jsx("p",{className:"text-gray-200 text-sm",children:t.description}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200",children:"Commentaire"}),m.jsx("textarea",{value:l,onChange:g=>u(g.target.value),rows:2,className:"mt-1 block w-full rounded-md border border-gray-600 bg-gray-900/60 py-2 px-3 text-sm text-gray-100 focus:border-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Allergies, instructions spécifiques…"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{type:"button",onClick:d,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Diminuer la quantité",children:m.jsx(eb,{size:18})}),m.jsx("span",{className:"w-8 text-center text-lg font-bold text-gray-100",children:i}),m.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Augmenter la quantité",children:m.jsx(gu,{size:18})})]}),m.jsxs("button",{type:"button",onClick:p,className:"rounded-lg bg-brand-primary py-2 px-6 font-semibold text-brand-secondary transition hover:bg-yellow-400",children:["Ajouter (",Re(t.prix_vente*i),")"]})]})]})})},gy=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),ra=e=>JSON.parse(JSON.stringify(e)),pC=(()=>{let e=0;return()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`tmp-${crypto.randomUUID()}`:(e+=1,`tmp-${Date.now()}-${e}`)})(),gC=e=>(e??"").trim(),gte=(e=[],t=[])=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>i===r[o])},vte=(e,t,n,r,i=[])=>{const o=gC(n.comment),l=Number.isFinite(n.quantity)?Math.max(1,Math.floor(n.quantity)):1,u=e.findIndex(f=>f.produitRef===t.id&&f.estado==="en_attente"&&gC(f.commentaire)===o&&gte(f.excluded_ingredients??[],i));if(u>-1)return e.map((f,p)=>p===u?{...f,quantite:f.quantite+l}:f);const d={id:r(),produitRef:t.id,nom_produit:t.nom_produit,prix_unitaire:t.prix_vente,quantite:l,excluded_ingredients:[...i],commentaire:o,estado:"en_attente"};return[...e,d]},vC=Cf([]),yte=()=>{const{tableId:e}=tL(),t=qi(),[n,r]=b.useState(null),[i,o]=b.useState(null),[l,u]=b.useState([]),[d,f]=b.useState([]),[p,g]=b.useState([]),[v,w]=b.useState("all"),[S,_]=b.useState(!0),[j,N]=b.useState(!1),[E,C]=b.useState(!1),[A,T]=b.useState(null),[P,R]=b.useState(!1),[D,H]=b.useState(null),z=b.useRef(n),B=b.useRef(i),$=b.useRef(null),ne=b.useRef(null),Q=b.useRef(null),re=b.useRef(Promise.resolve()),I=b.useRef(null),V=b.useRef(null),ie=b.useCallback((he,ge,Ae)=>{if(!ge||ge.length===0)return he.current=null,vC;const rt=Ae??Cf(ge);return he.current={source:ge,snapshot:rt},rt},[]),pe=b.useCallback((he,ge)=>{if(!he||he.length===0)return ge.current=null,vC;const Ae=ge.current;return Ae&&Ae.source===he?Ae.snapshot:ie(ge,he)},[ie]);b.useEffect(()=>{z.current=n},[n]),b.useEffect(()=>{B.current=i},[i]);const se=b.useCallback(he=>{const ge=z.current;if(!ge)return!0;const Ae=he??B.current;if(!Ae)return!0;const rt=pe(ge.items,I),Xe=he?Cf(Ae.items):pe(Ae.items,V);return mC(Xe,rt)},[pe]),M=b.useCallback(()=>{const he=ne.current;if(!he)return;const ge=Cf(he.items);$.current=ra(he);const Ae=z.current;if(Ae){const Xe=pe(Ae.items,I);if(mC(Xe,ge)){ne.current=null;return}}ne.current=null,z.current=he,r(he),ie(I,he.items,ge);const rt=ra(he);B.current=rt,o(rt),ie(V,rt.items)},[pe,ie]),L=b.useCallback(async(he=!1)=>{if(e)try{if(he||_(!0),he){const Ue=await je.createOrGetOrderByTableId(e),tt=ra(Ue);if($.current=tt,se()){ne.current=null,r(Ue),z.current=Ue,ie(I,Ue.items);const Mt=ra(Ue);B.current=Mt,o(Mt),ie(V,Mt.items)}else{const Mt=B.current;Mt&&JSON.stringify(Mt)===JSON.stringify(Ue)?ne.current=null:ne.current=tt}return}const[ge,Ae,rt,Xe]=await Promise.all([je.createOrGetOrderByTableId(e),je.getProducts(),je.getCategories(),je.getIngredients()]);$.current=ra(ge),r(ge),z.current=ge,ie(I,ge.items);const kt=ra(ge);o(kt),B.current=kt,ie(V,kt.items),u(Ae),f(rt),g(Xe),ne.current=null}catch(ge){console.error("Failed to load order data",ge),t("/ventes")}finally{he||_(!1)}},[se,t,e,ie]);b.useEffect(()=>{L()},[L]),b.useEffect(()=>{se()&&M()},[M,se,n,i]),b.useEffect(()=>{const he=je.notifications.subscribe("orders_updated",()=>L(!0));return()=>he()},[L]);const F=b.useMemo(()=>!se(),[se,n,i]),Y=b.useMemo(()=>n?n.items.reduce((he,ge)=>(ge.estado!=="en_attente"||(he[ge.produitRef]=(he[ge.produitRef]||0)+ge.quantite),he),{}):{},[n]),J=b.useMemo(()=>v==="all"?l:l.filter(he=>he.categoria_id===v),[v,l]),G=b.useCallback(he=>{if(!he.recipe||he.recipe.length===0)return!0;for(const ge of he.recipe){const Ae=p.find(rt=>rt.id===ge.ingredient_id);if(!Ae||Ae.stock_actuel<=Ae.stock_minimum)return!1}return!0},[p]);b.useEffect(()=>()=>{Q.current!==null&&(window.clearTimeout(Q.current),Q.current=null)},[]);const de=b.useCallback(async(he,ge)=>{const Ae=z.current;if(!Ae)return;const rt=Mt=>typeof he=="function"?he(Mt):he,kt=(ge!=null&&ge.isLocalUpdate?Ae.items:(ge==null?void 0:ge.removalSourceItems)??Ae.items).map(Mt=>({...Mt})),Ue=rt(kt),tt={...Ae,items:Ue,total:Ue.reduce((Mt,Te)=>Mt+Te.quantite*Te.prix_unitaire,0)};if(r(tt),z.current=tt,ie(I,tt.items),ge!=null&&ge.isLocalUpdate)return;const bt=async()=>{try{let Mt=ne.current??$.current??null;if(!Mt){const Gt=await je.getOrderById(Ae.id);Gt?(Mt=Gt,$.current=ra(Gt)):Mt=Ae}if(!Mt)return;const Te=z.current.items.map(Gt=>({...Gt})),$t=((ge==null?void 0:ge.removalSourceItems)??Ae.items).filter(Gt=>gy(Gt.id)&&!Te.some(Xs=>Xs.id===Gt.id)).map(Gt=>Gt.id),dn=await je.updateOrder(Ae.id,{items:Te,removedItemIds:$t},{includeNotifications:!1});r(dn),z.current=dn,ie(I,dn.items);const zr=ra(dn);o(zr),B.current=zr,ie(V,zr.items),$.current=ra(dn),je.getIngredients().then(g).catch(Gt=>{console.error("Failed to refresh ingredients",Gt)}),M()}catch(Mt){console.error("Failed to update order:",Mt),alert("Une erreur est survenue lors de la mise à jour de la commande."),L(!0)}};re.current=re.current.then(bt,bt),await re.current},[M,L,ie]),be=b.useCallback((he=300)=>{Q.current!==null&&window.clearTimeout(Q.current);const ge=he>0?he:1;Q.current=window.setTimeout(async()=>{if(Q.current=null,!z.current)return;const Ae=z.current.items.map(Xe=>({...Xe})),rt=$.current?$.current.items.map(Xe=>({...Xe})):Ae.map(Xe=>({...Xe}));await de(Ae,{removalSourceItems:rt})},ge)},[de]),Z=b.useCallback(he=>{z.current&&(de(he,{isLocalUpdate:!0}),be())},[be,de]),ye=b.useCallback(he=>{H(he)},[]),Se=b.useCallback(()=>{H(null)},[]),ue=b.useCallback(he=>{D&&(Z(ge=>vte(ge,D,he,pC)),H(null))},[Z,D]),mt=b.useCallback((he,ge)=>{const Ae=z.current;if(!Ae||!Ae.items[he])return;const rt=Ae.items[he].id;Z(Xe=>{const kt=Xe.findIndex(tt=>tt.id===rt);if(kt===-1)return Xe;const Ue=Xe[kt].quantite+ge;return Ue<=0?Xe.filter(tt=>tt.id!==rt):Xe.map(tt=>tt.id===rt?{...tt,quantite:Ue}:tt)})},[Z]),De=b.useCallback((he,ge)=>{const Ae=z.current;if(!Ae||!Ae.items[he])return;const rt=Ae.items[he].id;de(Xe=>{const kt=Xe.findIndex(bt=>bt.id===rt);if(kt===-1)return Xe;const Ue=Xe.map(bt=>({...bt})),tt=Ue[kt];if(tt.quantite>1&&!tt.commentaire&&ge){tt.quantite-=1;const bt={...tt,id:pC(),quantite:1,commentaire:ge};Ue.push(bt),T(bt.id)}else tt.commentaire=ge;return Ue},{isLocalUpdate:!0})},[de]),pt=b.useCallback(he=>{z.current&&(de(z.current.items.map(ge=>({...ge}))),T(null))},[de]),yt=b.useCallback(async()=>{if(z.current){R(!0);try{let he=z.current;for(;he&&he.items.some(Ue=>Ue.estado==="en_attente"&&!gy(Ue.id));)await de(he.items.map(Ue=>({...Ue}))),he=z.current;if(he=z.current,!he)return;const ge=he.items.filter(Ue=>Ue.estado==="en_attente");if(ge.length===0)return;if(ge.filter(Ue=>!gy(Ue.id)).length>0){console.warn("Des articles non persistés subsistent après synchronisation, envoi annulé.");return}const rt=ge.map(Ue=>Ue.id),Xe=await je.sendOrderToKitchen(he.id,rt);r(Xe),z.current=Xe,ie(I,Xe.items);const kt=ra(Xe);o(kt),B.current=kt,ie(V,kt.items),t("/ventes")}catch(he){console.error("Failed to send order to kitchen",he),alert("Erreur lors de l'envoi en cuisine.")}finally{R(!1)}}},[t,de,ie]),Tt=b.useCallback(async()=>{if(n)try{const he=await je.markOrderAsServed(n.id);r(he),z.current=he,ie(I,he.items)}catch(he){console.error("Failed to mark order as served",he)}},[n,ie]),An=async(he,ge)=>{if(n)try{let Ae=n.payment_receipt_url??void 0;ge&&(Ae=await fA(ge,{orderId:n.id})),await je.finalizeOrder(n.id,he,Ae),t("/ventes")}catch(Ae){console.error("Failed to finalize order",Ae),alert("Erreur lors de la finalisation ou du téléversement du justificatif.")}},Dt=()=>{if(n&&n.estado_cocina==="no_enviado"&&n.items.length>0){C(!0);return}F?C(!0):t("/ventes")},Lt=async()=>{try{n&&n.estado_cocina==="no_enviado"?await je.cancelUnsentTableOrder(n.id):i&&!se(i)&&await de(i.items)}catch(he){console.error("Failed to cancel unsent order before exiting",he)}finally{C(!1),t("/ventes")}},Kt=(n==null?void 0:n.items)??[],fe=b.useMemo(()=>Kt.reduce((he,ge,Ae)=>(ge.estado==="en_attente"?he.pending.push({item:ge,index:Ae}):he.sent.push({item:ge,index:Ae}),he),{pending:[],sent:[]}),[Kt]),me=b.useCallback(he=>ge=>{ge.preventDefault(),ge.currentTarget.focus()},[]),Pe=b.useCallback(he=>ge=>{(ge.key==="Enter"||ge.key===" ")&&(ge.preventDefault(),ye(he))},[ye]),at=b.useCallback(()=>{N(!0)},[]),Ft=b.useCallback(he=>{T(he)},[]),zn=b.useMemo(()=>fe.pending.length>0,[fe]);return S?m.jsx("div",{className:"text-center p-10 text-gray-800",children:"Chargement de la commande..."}):n?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[calc(100vh-12rem)] lg:h-[calc(100vh-10rem)]",children:[m.jsxs("div",{className:"lg:col-span-2 ui-card flex flex-col",children:[m.jsx("div",{className:"p-4",children:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("button",{onClick:Dt,className:"ui-btn-dark",title:"Retour au plan de salle",children:[m.jsx(vA,{size:20}),m.jsx("span",{children:"Retour plan de salle"})]}),m.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Table ",n.table_nom]})]})}),m.jsx(hte,{filteredProducts:J,quantities:Y,onAdd:ye,activeCategoryId:v,categories:d,onSelectCategory:w,isProductAvailable:G,handleProductPointerDown:me,handleProductKeyDown:Pe})]}),m.jsx(mte,{categorizedItems:fe,total:n.total,onQuantityChange:mt,onCommentChange:De,onPersistComment:pt,onStartEditingComment:Ft,onSendToKitchen:yt,onServeOrder:Tt,onOpenPayment:at,isSending:P,hasPending:zn,orderStatus:n.estado_cocina,editingCommentId:A})]}),m.jsx(pte,{isOpen:D!==null,product:D,onClose:Se,onSave:ue}),m.jsx(cte,{isOpen:j,onClose:()=>N(!1),order:n,onFinalize:An}),m.jsxs(yn,{isOpen:E,onClose:()=>C(!1),title:"Quitter sans envoyer ?",children:[m.jsx("p",{className:"text-gray-700",children:"Vous avez des articles non envoyés en cuisine. Si vous quittez, ils seront annulés. Voulez-vous continuer ?"}),m.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[m.jsx("button",{onClick:()=>C(!1),className:"ui-btn-secondary",children:"Non, rester"}),m.jsx("button",{onClick:Lt,className:"ui-btn-danger",children:"Oui, quitter"})]})]})]}):m.jsx("div",{className:"text-center p-10 text-red-500",children:"Commande non trouvée."})},bte={critical:{border:"border-4 border-solid border-red-500",accent:"bg-red-500 urgency-accent-critical",badge:"bg-red-100 text-red-700 ring-1 ring-inset ring-red-300 urgency-badge-critical",icon:"text-red-500 urgency-icon-critical",background:"bg-red-100"},warning:{border:"border-[3px] border-solid border-yellow-400",accent:"bg-yellow-400 urgency-accent-warning",badge:"bg-yellow-100 text-yellow-800 ring-1 ring-inset ring-yellow-300 urgency-badge-warning",icon:"text-yellow-500 urgency-icon-warning",background:"bg-yellow-100"},normal:{border:"border-2 border-solid border-brand-accent",accent:"bg-brand-accent urgency-accent-normal",badge:"bg-blue-100 text-blue-700 ring-1 ring-inset ring-blue-200 urgency-badge-normal",icon:"text-brand-accent urgency-icon-normal",background:"bg-blue-100"}},xte=e=>{if(!e)return"normal";const t=(Date.now()-e)/6e4;return t>=20?"critical":t>=10?"warning":"normal"},zR=e=>{const t=xte(e),n=bte[t];return{level:t,border:n.border,accent:n.accent,badge:n.badge,icon:n.icon,background:n.background}},wte=({order:e,onReady:t,canMarkReady:n})=>{const r=zR(e.date_envoi_cuisine||Date.now()),i=b.useMemo(()=>{const u=[],d=new Map;return e.items.forEach(f=>{var S;const p=(S=f.commentaire)==null?void 0:S.trim(),g=p||"no_comment",v=`${f.produitRef}::${g}`;if(p){u.push({key:`${v}::${f.id}`,nom_produit:f.nom_produit,quantite:f.quantite,commentaire:p});return}const w=d.get(v);if(w!==void 0){u[w].quantite+=f.quantite;return}d.set(v,u.length),u.push({key:v,nom_produit:f.nom_produit,quantite:f.quantite})}),u},[e.items]),l=new Date(e.date_envoi_cuisine||Date.now()).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"});return m.jsxs("div",{className:`flex h-full flex-col overflow-hidden rounded-xl text-gray-900 shadow-lg transition-shadow duration-300 hover:shadow-xl ${r.border} ${r.background}`,children:[m.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:m.jsxs("div",{className:"flex w-full flex-col gap-4",children:[m.jsx("h3",{className:"w-full text-center text-3xl font-semibold text-gray-900 sm:text-left sm:text-4xl",children:e.table_nom||`Para llevar #${e.id.slice(-4)}`}),m.jsx(fw,{startTime:e.date_envoi_cuisine||Date.now(),className:"w-full justify-center rounded-xl px-0 text-xl sm:justify-start sm:rounded-full sm:px-4 sm:text-2xl"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:m.jsx("ul",{className:"space-y-3",children:i.map(u=>m.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${r.accent}`,children:u.quantite}),m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.nom_produit})]}),u.commentaire&&m.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium italic text-blue-800",children:u.commentaire})]},u.key))})}),m.jsx("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:m.jsxs("div",{className:"flex w-full flex-col gap-3",children:[m.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado ",l]}),n&&m.jsxs("button",{onClick:()=>t(e.id,e.date_envoi_cuisine),className:"group inline-flex w-full items-center justify-center gap-3 rounded-lg border-2 border-transparent bg-black px-4 py-3 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/70 focus-visible:ring-offset-2 hover:bg-neutral-900",children:[m.jsx(yA,{size:22,className:"shrink-0"}),m.jsx("span",{children:"LISTO"})]})]})})]})},_te=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),{role:i}=ma(),o=(i==null?void 0:i.permissions["/cocina"])==="editor",l=b.useCallback(async()=>{try{const d=await je.getKitchenOrders();t(d)}catch(d){console.error("Failed to fetch kitchen orders",d)}finally{r(!1)}},[]);b.useEffect(()=>{l();const d=setInterval(l,5e3),f=je.notifications.subscribe("orders_updated",l);return()=>{clearInterval(d),f()}},[l]);const u=async(d,f)=>{try{await je.markOrderAsReady(d,f),l()}catch(p){console.error("Failed to mark order as ready",p)}};return n?m.jsx("div",{className:"text-gray-700",children:"Cargando pedidos de cocina..."}):m.jsx("div",{className:"flex h-full flex-col",children:e.length===0?m.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center text-2xl text-gray-500",children:"No hay pedidos en preparación."}):m.jsx("div",{className:"mt-6 grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(d=>m.jsx(wte,{order:d,onReady:u,canMarkReady:o},d.ticketKey))})})},yC=({order:e,onValidate:t,onDeliver:n,isProcessing:r})=>{const[i,o]=b.useState(!1),l=e.table_nom||`Pedido #${e.id.slice(-6)}`,u=e.date_envoi_cuisine||e.date_creation,d=zR(u),f={normal:"Normal",warning:"En seguimiento",critical:"Crítico"};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`relative flex h-full flex-col overflow-hidden rounded-xl border text-gray-900 shadow-md transition-shadow duration-300 hover:shadow-lg ${d.border} ${d.background}`,children:[m.jsx("span",{"aria-hidden":!0,className:`absolute inset-y-0 left-0 w-1 ${d.accent}`}),m.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h4",{className:"text-lg sm:text-xl md:text-2xl font-semibold leading-tight text-gray-900",children:l}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Pedido enviado ",new Date(u).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]}),m.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] ${d.badge}`,children:[m.jsx("span",{className:`h-2 w-2 rounded-full ${d.accent}`}),m.jsx("span",{children:f[d.level]})]})]}),m.jsx(fw,{startTime:u,className:"text-sm sm:text-base"})]})}),m.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[e.clientInfo&&m.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[e.clientInfo.nom&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[m.jsx(rb,{size:16,className:d.icon}),m.jsx("span",{className:"font-medium",children:e.clientInfo.nom})]}),e.clientInfo.telephone&&m.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-6",children:[m.jsx(NA,{size:14,className:"text-gray-500"}),m.jsx("span",{children:e.clientInfo.telephone})]})]}),e.clientInfo.adresse&&m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[m.jsx(Eh,{size:16,className:`mt-0.5 text-gray-500 ${d.icon}`}),m.jsx("span",{className:"text-gray-700",children:e.clientInfo.adresse})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-gray-500",children:"Artículos"}),e.items.length>0?m.jsx("ul",{className:"space-y-2",children:e.items.map(p=>{var v;const g=(v=p.commentaire)==null?void 0:v.trim();return m.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${d.accent}`,children:p.quantite}),m.jsx("span",{className:"font-semibold text-gray-900",children:p.nom_produit})]}),m.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:Re(p.prix_unitaire*p.quantite)})]}),g&&m.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-xs font-medium italic text-blue-800",children:g})]},p.id)})}):m.jsx("p",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-500 shadow-sm",children:"Este pedido aún no tiene artículos registrados."})]}),m.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 font-semibold text-gray-900 shadow-sm",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{className:"text-lg sm:text-xl text-gray-900",children:Re(e.total)})]})]}),m.jsxs("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:[e.statut==="pendiente_validacion"&&t&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>o(!0),className:"w-full ui-btn ui-btn-secondary",type:"button",children:[m.jsx(J0,{size:16,className:d.icon})," ",e.receipt_url?"Ver comprobante":"Comprobante no disponible"]}),m.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full ui-btn ui-btn-info uppercase",type:"button",children:r?"Validando...":"Validar"})]}),e.estado_cocina==="listo"&&n&&m.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"w-full ui-btn ui-btn-success uppercase",type:"button",children:r?"Procesando...":"Entregar"})]})]}),m.jsx(yn,{isOpen:i,onClose:()=>o(!1),title:"Comprobante de pago",children:e.receipt_url?m.jsx("img",{src:e.receipt_url,alt:"Comprobante",className:"w-full h-auto rounded-md"}):m.jsx("p",{children:"No se proporcionó comprobante."})})]})},Ste=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[i,o]=b.useState(!0),[l,u]=b.useState(null),d=b.useCallback(async()=>{try{const{pending:g,ready:v}=await je.getTakeawayOrders();t(g.sort((w,S)=>w.date_creation-S.date_creation)),r(v.sort((w,S)=>(w.date_listo_cuisine||0)-(S.date_listo_cuisine||0)))}catch(g){console.error("Failed to fetch takeaway orders",g)}finally{o(!1)}},[]);b.useEffect(()=>{o(!0),d();const g=setInterval(d,1e4),v=je.notifications.subscribe("orders_updated",d);return()=>{clearInterval(g),v()}},[d]);const f=async g=>{if(!l){u(g);try{await je.validateTakeawayOrder(g),await d()}catch(v){console.error("Failed to validate order:",v),alert(`No se pudo validar el pedido: ${v.message}`)}finally{u(null)}}},p=async g=>{if(!l){u(g);try{await je.markTakeawayAsDelivered(g),await d()}catch(v){console.error("Failed to mark order as delivered:",v),alert("Ocurrió un error al finalizar el pedido.")}finally{u(null)}}};return i?m.jsx("div",{className:"text-gray-700",children:"Cargando pedidos para llevar..."}):m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8 md:grid-cols-2",children:[m.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-blue-700",children:["Pendientes de validación (",e.length,")"]}),m.jsx("div",{className:"space-y-4",children:e.length>0?e.map(g=>m.jsx(yC,{order:g,onValidate:f,isProcessing:l===g.id},g.id)):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos para validar."})})]}),m.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-green-700",children:["Pedidos listos (",n.length,")"]}),m.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>m.jsx(yC,{order:g,onDeliver:p,isProcessing:l===g.id},g.id)):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos listos."})})]})]})})},jte=()=>{const{role:e}=ma(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[o,l]=b.useState(null),[u,d]=b.useState(""),[f,p]=b.useState(!1),[g,v]=b.useState(!1),[w,S]=b.useState(!1),[_,j]=b.useState(null),[N,E]=b.useState("add"),C=(e==null?void 0:e.permissions["/ingredients"])==="editor",A=b.useCallback(async()=>{try{const R=await je.getIngredients();n(R),l(null)}catch(R){l("Impossible de charger les ingrédients."),console.error(R)}finally{i(!1)}},[]);b.useEffect(()=>{i(!0),A()},[A]);const T=b.useMemo(()=>t.filter(R=>R.nom.toLowerCase().includes(u.toLowerCase())),[t,u]),P=(R,D=null)=>{j(D),R==="add"||R==="edit"?(E(R),p(!0)):R==="resupply"?v(!0):R==="delete"&&S(!0)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[m.jsxs("div",{className:"relative w-full md:w-80",children:[m.jsx(nb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Rechercher un ingrédient...",value:u,onChange:R=>d(R.target.value),className:"ui-input pl-10 sm:w-64"})]}),C&&m.jsxs("button",{onClick:()=>P("add"),className:"w-full md:w-auto ui-btn-primary",children:[m.jsx(Q0,{size:20}),"Ajouter un ingrédient"]})]}),r?m.jsx("p",{className:"text-gray-800",children:"Chargement..."}):o?m.jsx("p",{className:"text-red-500",children:o}):m.jsx("div",{className:"ui-card p-4 overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actuel"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Minimum"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire moyen"}),C&&m.jsx("th",{className:"p-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{children:T.map(R=>{const D=R.stock_actuel<=R.stock_minimum;return m.jsxs("tr",{className:`border-b hover:bg-gray-50 ${D?"bg-red-50":""}`,children:[m.jsx("td",{className:`p-3 font-semibold ${D?"text-red-900":"text-gray-900"}`,children:R.nom}),m.jsxs("td",{className:`p-3 font-bold ${D?"text-red-700":"text-gray-800"}`,children:[R.stock_actuel," ",R.unite]}),m.jsxs("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:[R.stock_minimum," ",R.unite]}),m.jsx("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:Re(R.prix_unitaire)}),C&&m.jsx("td",{className:"p-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>P("resupply",R),title:"Réapprovisionner",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:m.jsx(z6,{size:20})}),m.jsx("button",{onClick:()=>P("edit",R),title:"Modifier",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:m.jsx(f$,{size:20})}),m.jsx("button",{onClick:()=>P("delete",R),title:"Supprimer",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:m.jsx(Sl,{size:20})})]})})]},R.id)})})]})}),f&&C&&m.jsx(Ete,{isOpen:f,onClose:()=>p(!1),onSuccess:A,ingredient:_,mode:N}),g&&C&&_&&m.jsx(Ote,{isOpen:g,onClose:()=>v(!1),onSuccess:A,ingredient:_}),w&&C&&_&&m.jsx(Nte,{isOpen:w,onClose:()=>S(!1),onSuccess:A,ingredient:_})]})},Ete=({isOpen:e,onClose:t,onSuccess:n,ingredient:r,mode:i})=>{const[o,l]=b.useState({nom:(r==null?void 0:r.nom)||"",unite:(r==null?void 0:r.unite)||"g",stock_minimum:(r==null?void 0:r.stock_minimum)||0}),[u,d]=b.useState(!1),f=async p=>{p.preventDefault(),d(!0);try{i==="edit"&&r?await je.updateIngredient(r.id,o):await je.addIngredient(o),n(),t()}catch(g){console.error("Failed to save ingredient",g)}finally{d(!1)}};return m.jsx(yn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Ingrédient":"Modifier l'Ingrédient",children:m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),m.jsx("input",{type:"text",id:"nom",value:o.nom,onChange:p=>l({...o,nom:p.target.value}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"unite",className:"block text-sm font-medium text-gray-700",children:"Unité"}),m.jsxs("select",{id:"unite",value:o.unite,onChange:p=>l({...o,unite:p.target.value}),required:!0,className:"mt-1 ui-select",children:[m.jsx("option",{value:"g",children:"Grammes (g)"}),m.jsx("option",{value:"kg",children:"Kilogrammes (kg)"}),m.jsx("option",{value:"ml",children:"Millilitres (ml)"}),m.jsx("option",{value:"L",children:"Litres (L)"}),m.jsx("option",{value:"unite",children:"Unité"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"stock_minimum",className:"block text-sm font-medium text-gray-700",children:"Stock Minimum"}),m.jsx("input",{type:"number",id:"stock_minimum",min:"0",value:o.stock_minimum,onChange:p=>l({...o,stock_minimum:parseFloat(p.target.value)}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:u,className:"w-full ui-btn-primary py-3 disabled:opacity-60",children:u?"Sauvegarde...":"Sauvegarder"})]})]})})},Ote=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=b.useState(0),[l,u]=b.useState(0),[d,f]=b.useState(!1),p=async g=>{if(g.preventDefault(),!(i<=0||l<0)){f(!0);try{await je.resupplyIngredient(r.id,i,l),n(),t()}catch(v){console.error("Failed to resupply ingredient",v)}finally{f(!1)}}};return m.jsx(yn,{isOpen:e,onClose:t,title:`Réapprovisionner: ${r.nom}`,children:m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantité Achetée (",r.unite,")"]}),m.jsx("input",{type:"number",id:"quantity",min:"0.01",step:"0.01",value:i,onChange:g=>o(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:["Prix par unité (",r.unite,")"]}),m.jsx("input",{type:"number",id:"unitPrice",min:"0",step:"0.01",value:l,onChange:g=>u(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:d?"Ajout...":"Ajouter au Stock"})]})]})})},Nte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=b.useState(!1),[l,u]=b.useState(null),d=async()=>{o(!0),u(null);try{await je.deleteIngredient(r.id),n(),t()}catch(f){console.error("Failed to delete ingredient",f),u("Impossible de supprimer cet ingrédient car il est utilisé dans au moins une recette.")}finally{o(!1)}};return m.jsxs(yn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[m.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer l'ingrédient ",m.jsx("strong",{className:"text-gray-900",children:r.nom})," ? Cette action est irréversible."]}),l&&m.jsx("p",{className:"mt-4 text-sm text-red-600",children:l}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{onClick:d,disabled:i,className:"w-full ui-btn-danger py-3 disabled:opacity-60",children:i?"Suppression...":"Supprimer"})]})]})},bC=[1,2,3,4,5,6],xC=e=>{switch(e){case"disponible":return{text:"Disponible",color:"bg-green-100 text-green-800",Icon:Df};case"agotado_temporal":return{text:"Rupture (Temp.)",color:"bg-yellow-100 text-yellow-800",Icon:jh};case"agotado_indefinido":return{text:"Indisponible",color:"bg-red-100 text-red-800",Icon:o6};default:return{text:"Inconnu",color:"bg-gray-100 text-gray-800",Icon:Pte}}},Cte=()=>{const{role:e}=ma(),[t,n]=b.useState([]),[r,i]=b.useState([]),[o,l]=b.useState([]),[u,d]=b.useState(!0),[f,p]=b.useState(null),[g,v]=b.useState(""),[w,S]=b.useState("all"),[_,j]=b.useState(!1),[N,E]=b.useState(!1),[C,A]=b.useState(!1),[T,P]=b.useState(null),[R,D]=b.useState("add"),H=(e==null?void 0:e.permissions["/produits"])==="editor",z=b.useCallback(async()=>{try{d(!0);const[re,I,V]=await Promise.all([je.getProducts(),je.getCategories(),je.getIngredients()]);n(re),i(I),l(V),p(null)}catch(re){p("Impossible de charger les données des produits."),console.error(re)}finally{d(!1)}},[]);b.useEffect(()=>{z()},[z]);const B=b.useMemo(()=>t.filter(re=>re.nom_produit.toLowerCase().includes(g.toLowerCase())&&(w==="all"||re.categoria_id===w)),[t,g,w]),$=b.useMemo(()=>{const re=new Map;return t.forEach(I=>{I.is_best_seller&&I.best_seller_rank!=null&&re.set(I.best_seller_rank,I)}),re},[t]),ne=(re,I="add",V=null)=>{re==="product"?(D(I),P(V),j(!0)):re==="category"?E(!0):re==="delete"&&V&&(P(V),A(!0))},Q=async(re,I)=>{try{await je.updateProduct(re.id,{estado:I}),z()}catch(V){console.error("Failed to update status",V);const ie=V instanceof Error?V.message:"Une erreur inconnue s'est produite.";alert(`Échec de la mise à jour du statut du produit : ${ie}`)}};return u?m.jsx("p",{className:"text-gray-800",children:"Chargement des produits..."}):f?m.jsx("p",{className:"text-red-500",children:f}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"mt-6 ui-card p-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[m.jsxs("div",{className:"relative flex-grow md:max-w-md",children:[m.jsx(nb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:g,onChange:re=>v(re.target.value),className:"ui-input pl-10"})]}),m.jsxs("select",{value:w,onChange:re=>S(re.target.value),className:"ui-select md:w-56",children:[m.jsx("option",{value:"all",children:"Toutes les catégories"}),r.map(re=>m.jsx("option",{value:re.id,children:re.nom},re.id))]})]}),H&&m.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[m.jsx("button",{onClick:()=>E(!0),className:"flex-1 lg:flex-initial ui-btn-secondary",children:m.jsx(Da,{size:20})}),m.jsxs("button",{onClick:()=>ne("product","add"),className:"flex-1 lg:flex-initial ui-btn-primary",children:[m.jsx(Q0,{size:20}),"Ajouter Produit"]})]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:B.map(re=>m.jsx(Ate,{product:re,category:r.find(I=>I.id===re.categoria_id),onEdit:()=>ne("product","edit",re),onDelete:()=>ne("delete","edit",re),onStatusChange:Q,canEdit:H},re.id))}),_&&H&&m.jsx(Tte,{isOpen:_,onClose:()=>j(!1),onSuccess:z,product:T,mode:R,categories:r,ingredients:o,occupiedPositions:$}),N&&H&&m.jsx(kte,{isOpen:N,onClose:()=>E(!1),onSuccess:z,categories:r}),C&&H&&T&&m.jsx(Mte,{isOpen:C,onClose:()=>A(!1),onSuccess:z,product:T})]})},Ate=({product:e,category:t,onEdit:n,onDelete:r,onStatusChange:i,canEdit:o})=>{const{text:l,color:u,Icon:d}=xC(e.estado),[f,p]=b.useState(!1),g=e.prix_vente-(e.cout_revient||0);return e.prix_vente>0&&g/e.prix_vente*100,m.jsxs("div",{className:"ui-card flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-full h-40 object-cover"}),e.is_best_seller&&m.jsxs("span",{className:"absolute top-2 left-2 rounded-full bg-brand-primary/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white shadow-md",children:["Best seller",e.best_seller_rank?` #${e.best_seller_rank}`:""]})]}),m.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.nom)||"Sans catégorie"}),m.jsx("h3",{className:"font-bold text-lg text-gray-900",children:e.nom_produit})]}),m.jsx("p",{className:"text-xl font-extrabold text-brand-primary",children:Re(e.prix_vente)})]}),m.jsx("p",{className:"text-xs text-gray-600 mt-1 flex-grow",children:e.description}),m.jsxs("div",{className:"flex justify-between items-center mt-4",children:[m.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full flex items-center gap-1 ${u}`,children:[m.jsx(d,{size:14})," ",l]}),o&&m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>p(!f),className:"p-1 text-gray-500 hover:text-gray-800",children:m.jsx(wA,{size:20})}),f&&m.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border",children:[m.jsx("button",{onClick:()=>{n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Modifier"}),m.jsx("button",{onClick:()=>{r(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Supprimer"}),m.jsx("div",{className:"border-t my-1"}),m.jsx("p",{className:"px-4 pt-2 pb-1 text-xs text-gray-500",children:"Changer statut :"}),["disponible","agotado_temporal","agotado_indefinido"].map(v=>m.jsx("button",{onClick:()=>{i(e,v),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:xC(v).text},v))]})]})]})]})]})},Tte=({isOpen:e,onClose:t,onSuccess:n,product:r,mode:i,categories:o,ingredients:l,occupiedPositions:u})=>{var H;const[d,f]=b.useState({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((H=o[0])==null?void 0:H.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),[p,g]=b.useState(null),[v,w]=b.useState(!1);b.useEffect(()=>{var z;e&&(f({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((z=o[0])==null?void 0:z.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),g(null))},[e,r,o]);const S=b.useCallback(()=>{for(const z of bC){const B=u.get(z);if(!B||B.id===(r==null?void 0:r.id))return z}return null},[u,r==null?void 0:r.id]),_=b.useCallback(z=>{f(B=>{if(z){const $=B.best_seller_rank??S();return{...B,is_best_seller:!0,best_seller_rank:$??null}}return{...B,is_best_seller:!1,best_seller_rank:null}})},[S]),j=b.useCallback(z=>{const B=z.target.value;f($=>({...$,best_seller_rank:B?Number(B):null}))},[]),N=b.useMemo(()=>new Map(l.map(z=>[z.id,z])),[l]),E=b.useMemo(()=>d.recipe.reduce((z,B)=>{const $=N.get(B.ingredient_id);if(!$)return z;let ne=$.prix_unitaire;return($.unite==="kg"||$.unite==="L")&&(ne=ne/1e3),z+ne*B.qte_utilisee},0),[d.recipe,N]),C=d.prix_vente-E,A=d.prix_vente>0?C/d.prix_vente*100:0,T=(z,B,$)=>{const ne=[...d.recipe];if(B==="qte_utilisee"){const{valueAsNumber:Q,value:re}=$.currentTarget,I=Number.isNaN(Q)?Number(re.replace(",",".")):Q;ne[z]={...ne[z],[B]:Number.isNaN(I)?ne[z].qte_utilisee:I}}else ne[z]={...ne[z],[B]:$.currentTarget.value};f(Q=>({...Q,recipe:ne}))},P=()=>{l.length!==0&&f({...d,recipe:[...d.recipe,{ingredient_id:l[0].id,qte_utilisee:0}]})},R=z=>{const B=d.recipe.filter(($,ne)=>ne!==z);f({...d,recipe:B})},D=async z=>{var B;if(z.preventDefault(),d.recipe.length===0){alert("Veuillez ajouter au moins un ingrédient à la recette.");return}if(d.is_best_seller){if(d.best_seller_rank==null){alert("Veuillez sélectionner une position de best seller disponible.");return}const $=u.get(d.best_seller_rank);if($&&$.id!==(r==null?void 0:r.id)){alert(`La position ${d.best_seller_rank} est déjà occupée par ${$.nom_produit}.`);return}}w(!0);try{let $=((B=d.image)==null?void 0:B.trim())??"";p&&($=await EU(p,d.nom_produit));const ne={...d,image:$,is_best_seller:d.is_best_seller,best_seller_rank:d.is_best_seller?d.best_seller_rank:null};i==="edit"&&r?await je.updateProduct(r.id,ne):await je.addProduct(ne),n(),g(null),t()}catch($){console.error("Failed to save product",$);const ne=$ instanceof Error?$.message:"Une erreur inconnue s'est produite.";alert(`Échec du téléversement de l'image du produit : ${ne}`)}finally{w(!1)}};return m.jsx(yn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Produit":"Modifier le Produit",size:"lg",children:m.jsxs("form",{onSubmit:D,className:"space-y-4",children:[m.jsxs("div",{className:"max-h-[65vh] overflow-y-auto pr-2 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),m.jsx("input",{type:"text",value:d.nom_produit,onChange:z=>f({...d,nom_produit:z.target.value}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix de vente"}),m.jsx("input",{type:"number",step:"0.01",min:"0",value:d.prix_vente,onChange:z=>{const{valueAsNumber:B,value:$}=z.currentTarget,ne=Number.isNaN(B)?Number($.replace(",",".")):B;f(Q=>({...Q,prix_vente:Number.isNaN(ne)?Q.prix_vente:ne}))},required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),m.jsx("select",{value:d.categoria_id,onChange:z=>f({...d,categoria_id:z.target.value}),required:!0,className:"mt-1 ui-select",children:o.map(z=>m.jsx("option",{value:z.id,children:z.nom},z.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),m.jsxs("select",{value:d.estado,onChange:z=>f({...d,estado:z.target.value}),required:!0,className:"mt-1 ui-select",children:[m.jsx("option",{value:"disponible",children:"Disponible"}),m.jsx("option",{value:"agotado_temporal",children:"Rupture (Temp.)"}),m.jsx("option",{value:"agotado_indefinido",children:"Indisponible"})]})]}),m.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-2",children:[m.jsx("input",{id:"best-seller-toggle",type:"checkbox",checked:d.is_best_seller,onChange:z=>_(z.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),m.jsx("label",{htmlFor:"best-seller-toggle",className:"text-sm font-medium text-gray-700",children:"Best seller"})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"best-seller-rank",children:"Position dans le classement"}),m.jsxs("select",{id:"best-seller-rank",value:d.best_seller_rank??"",onChange:j,disabled:!d.is_best_seller,className:"mt-1 ui-select",children:[m.jsx("option",{value:"",children:"Sélectionner une position"}),bC.map(z=>{const B=u.get(z),$=(B==null?void 0:B.id)===(r==null?void 0:r.id),ne=!!(B&&!$),Q=B?$?`${z} – Position actuelle`:`${z} – Occupé par ${B.nom_produit}`:`${z}`;return m.jsx("option",{value:z,disabled:ne,children:Q},z)})]}),d.is_best_seller&&d.best_seller_rank===null&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Sélectionnez une position disponible pour ce best seller."})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Coût de revient"}),m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Re(E)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge"}),m.jsx("p",{className:`text-lg font-semibold ${C>=0?"text-emerald-600":"text-red-600"}`,children:Re(C)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge %"}),m.jsxs("p",{className:`text-lg font-semibold ${A>=0?"text-emerald-600":"text-red-600"}`,children:[Number.isFinite(A)?Oz(A):"0","%"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),m.jsx("textarea",{rows:3,value:d.description,onChange:z=>f({...d,description:z.target.value}),className:"mt-1 ui-textarea",placeholder:"Courte description du produit..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image du produit"}),m.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[m.jsx("img",{src:p?URL.createObjectURL(p):dA(d.image),alt:"Aperçu",className:"w-20 h-20 object-cover rounded-md bg-gray-100"}),m.jsxs("label",{htmlFor:"product-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ks,{size:16}),m.jsx("span",{children:"Changer l'image"})]}),m.jsx("input",{id:"product-image-upload",type:"file",className:"sr-only",onChange:z=>g(z.target.files?z.target.files[0]:null)})]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-2",children:"Recette"}),d.recipe.length===0&&m.jsx("div",{className:"text-center p-2 my-2 bg-red-50 border border-red-200 rounded-md",children:m.jsx("p",{className:"text-sm text-red-600",children:"Un produit doit contenir au moins un ingrédient."})}),m.jsx("div",{className:"space-y-2",children:d.recipe.map((z,B)=>{var $,ne;return m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(v6,{className:"text-gray-400 cursor-move",size:16}),m.jsx("select",{value:z.ingredient_id,onChange:Q=>T(B,"ingredient_id",Q),className:"ui-select flex-grow",children:l.map(Q=>m.jsx("option",{value:Q.id,children:Q.nom},Q.id))}),m.jsx("input",{type:"number",placeholder:"Qté",value:z.qte_utilisee,onChange:Q=>T(B,"qte_utilisee",Q),className:"ui-input w-24"}),m.jsx("span",{className:"text-gray-500 text-sm w-12",children:(($=l.find(Q=>Q.id===z.ingredient_id))==null?void 0:$.unite)==="kg"?"g":(ne=l.find(Q=>Q.id===z.ingredient_id))==null?void 0:ne.unite}),m.jsx("button",{type:"button",onClick:()=>R(B),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:m.jsx(Sl,{size:16})})]},B)})}),m.jsx("button",{type:"button",onClick:P,className:"mt-2 text-sm text-blue-600 hover:underline",children:"Ajouter un ingrédient"})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:v||d.recipe.length===0,className:"w-full sm:w-auto ui-btn-primary py-3 disabled:opacity-60",children:v?"Sauvegarde...":"Sauvegarder"})]})]})})},kte=({isOpen:e,onClose:t,onSuccess:n,categories:r})=>{const[i,o]=b.useState(""),[l,u]=b.useState(""),d=async()=>{if(i.trim())try{await je.addCategory(i),o(""),n()}catch(p){console.error(p)}},f=async p=>{u("");try{await je.deleteCategory(p),n()}catch(g){u(g.message),console.error(g)}};return m.jsx(yn,{isOpen:e,onClose:t,title:"Gérer les Catégories",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"Nom de la nouvelle catégorie",className:"ui-input flex-grow"}),m.jsx("button",{onClick:d,className:"ui-btn-primary px-4",children:"Ajouter"})]}),l&&m.jsx("p",{className:"text-red-500 text-sm",children:l}),m.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(p=>m.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[m.jsx("span",{className:"text-gray-800",children:p.nom}),m.jsx("button",{onClick:()=>f(p.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:m.jsx(Sl,{size:16})})]},p.id))}),m.jsx("div",{className:"pt-4 flex",children:m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Fermer"})})]})})},Mte=({isOpen:e,onClose:t,onSuccess:n,product:r})=>{const[i,o]=b.useState(!1),l=async()=>{o(!0);try{await je.deleteProduct(r.id),n(),t()}catch(u){console.error("Failed to delete product",u)}finally{o(!1)}};return m.jsxs(yn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[m.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer le produit ",m.jsx("strong",{className:"text-gray-900",children:r.nom_produit})," ? Cette action est irréversible."]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{onClick:l,disabled:i,className:"w-full sm:w-auto ui-btn-danger py-3",children:i?"Suppression...":"Supprimer"})]})]})},Pte=({size:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),m.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),Rte=({isOpen:e,onClose:t,onAddToCart:n,product:r,item:i})=>{const[o,l]=b.useState(1),[u,d]=b.useState("");b.useEffect(()=>{l(1),d("")},[e,r]);const f=()=>{const p={id:(i==null?void 0:i.id)||`oi${Date.now()}`,produitRef:r.id,nom_produit:r.nom_produit,prix_unitaire:r.prix_vente,quantite:o,excluded_ingredients:[],commentaire:u.trim(),estado:"en_attente"};n(p)};return m.jsx(yn,{isOpen:e,onClose:t,title:r.nom_produit,children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:r.image,alt:r.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),m.jsx("p",{className:"text-gray-600",children:r.description}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comentario (alergias, etc.)"}),m.jsx("textarea",{value:u,onChange:p=>d(p.target.value),rows:2,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-700 bg-white"})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>l(p=>Math.max(1,p-1)),className:"p-2 rounded-full bg-gray-200 text-gray-800",children:m.jsx(eb,{size:18})}),m.jsx("span",{className:"font-bold text-lg w-8 text-center text-gray-800",children:o}),m.jsx("button",{onClick:()=>l(p=>p+1),className:"p-2 rounded-full bg-gray-200 text-gray-800",children:m.jsx(gu,{size:18})})]}),m.jsxs("button",{onClick:f,className:"bg-orange-500 text-white font-bold py-2 px-6 rounded-lg transition hover:bg-orange-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-300",children:["Añadir (",Re(r.prix_vente*o),")"]})]})]})})},Dte=({isOpen:e,onClose:t,order:n,whatsAppMessage:r})=>m.jsx(yn,{isOpen:e,onClose:t,title:"¡Pedido enviado!",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx(Df,{className:"mx-auto text-green-500",size:64}),m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"¡Gracias por tu pedido!"}),m.jsxs("p",{className:"text-gray-600",children:["Tu pedido #",n.id.slice(-6)," se ha recibido correctamente. Está en espera de validación. Puedes seguir su estado en esta página."]}),m.jsx("p",{className:"text-gray-600",children:"Para finalizar, envíanos este resumen por WhatsApp junto con tu comprobante."}),m.jsxs("a",{href:`https://wa.me/?text=${r}`,target:"_blank",rel:"noopener noreferrer",onClick:t,className:"inline-flex items-center justify-center gap-2 w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition",children:[m.jsx(R6,{})," Enviar por WhatsApp"]})]})}),M0=8e3,hw="DOMICILIO",BR="",Lte=()=>({id:`domicilio-${Date.now()}`,produitRef:BR,nom_produit:hw,prix_unitaire:M0,quantite:1,excluded_ingredients:[],commentaire:"",estado:"en_attente"}),Ite=e=>{var t;return e.produitRef===BR||((t=e.nom_produit)==null?void 0:t.toUpperCase())===hw},Ute=({onOrderSubmitted:e})=>{const[t,n]=b.useState([]),[r,i]=b.useState([]),[o,l]=b.useState("all"),[u,d]=b.useState([]),[f,p]=b.useState(!1),[g,v]=b.useState(!1),[w,S]=b.useState(null),[_,j]=b.useState(!0),[N,E]=b.useState(null),[C,A]=b.useState({nom:"",adresse:"",telephone:""}),[T,P]=b.useState(null),[R,D]=b.useState("transferencia"),[H,z]=b.useState(!1),[B,$]=b.useState(null),[ne,Q]=b.useState([]),[re,I]=b.useState(!1);b.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[]),b.useEffect(()=>{try{const G=localStorage.getItem("customer-order-history");G&&Q(JSON.parse(G))}catch(G){console.error("Could not load order history",G)}},[]);const V=b.useCallback(async()=>{try{j(!0);const[G,de]=await Promise.all([je.getProducts(),je.getCategories()]);n(G),i(de)}catch(G){E("No fue posible cargar el menú. Intenta nuevamente más tarde."),console.error(G)}finally{j(!1)}},[]);b.useEffect(()=>{if(_||t.length===0||ne.length===0||re)return;const G=localStorage.getItem("customer-order-reorder-id");if(!G)return;const de=ne.find(be=>be.id===G);de&&Y(de),localStorage.removeItem("customer-order-reorder-id"),I(!0)},[ne,re,_,t]),b.useEffect(()=>{V()},[V]);const ie=b.useMemo(()=>o==="all"?t:t.filter(G=>G.categoria_id===o),[t,o]),pe=b.useMemo(()=>{const G=u.reduce((de,be)=>de+be.quantite*be.prix_unitaire,0);return u.length===0?G:G+M0},[u]),se=G=>{S({product:G}),p(!0)},M=G=>{let de=[...u];if(G.commentaire)de.push({...G,id:`oi${Date.now()}`});else{const be=de.findIndex(Z=>Z.produitRef===G.produitRef&&!Z.commentaire);be>-1?de[be].quantite+=G.quantite:de.push(G)}d(de),p(!1)},L=(G,de)=>{const be=u.findIndex(Se=>Se.id===G);if(be===-1)return;let Z=[...u];const ye=Z[be].quantite+de;ye<=0?Z.splice(be,1):Z[be].quantite=ye,d(Z)},F=async G=>{if(G.preventDefault(),!(!C.nom||!C.telephone||!C.adresse||!T||!R)){z(!0);try{let de;T&&(de=await fA(T,{customerReference:C.telephone||C.nom}));const Z={items:u.length>0?[...u,Lte()]:u,clientInfo:C,receipt_url:de,payment_method:R},ye=await je.submitCustomerOrder(Z);$(ye),v(!0),d([]),A({nom:"",adresse:"",telephone:""}),P(null),D("transferencia"),lb(ye.id)}catch(de){alert("Ocurrió un error al enviar el pedido o subir el comprobante."),console.error(de)}finally{z(!1)}}},Y=G=>{const de=Date.now(),be=[],Z=G.items.reduce((Se,ue,mt)=>{if(Ite(ue))return Se;const De=t.find(pt=>pt.id===ue.produitRef);return De?(Se.push({...ue,id:`oi${de}-${mt}`,produitRef:De.id,nom_produit:De.nom_produit,prix_unitaire:De.prix_vente}),Se):(be.push(ue.nom_produit||ue.produitRef),Se)},[]);d(Z),be.length>0&&alert(`Algunos artículos ya no están disponibles y no se agregaron:
- ${be.join(`
- `)}`);const ye=document.getElementById("cart-section");ye&&ye.scrollIntoView({behavior:"smooth"})},J=G=>{var yt,Tt,An;const de=`*Nuevo pedido OUIOUITACOS #${G.id.slice(-6)}*`,be=(G.items??[]).map(Dt=>{const Lt=`- ${Dt.quantite}x ${Dt.nom_produit} (${Re(Dt.prix_unitaire)}) → ${Re(Dt.prix_unitaire*Dt.quantite)}`,Kt=[];return Dt.commentaire&&Kt.push(`Comentario: ${Dt.commentaire}`),Dt.excluded_ingredients&&Dt.excluded_ingredients.length>0&&Kt.push(`Sin: ${Dt.excluded_ingredients.join(", ")}`),Kt.length>0?`${Lt}
  ${Kt.join(`
  `)}`:Lt}),Z=be.length>0?be.join(`
`):"Sin artículos",ye=G.total??G.items.reduce((Dt,Lt)=>Dt+Lt.prix_unitaire*Lt.quantite,0),Se=`*Total: ${Re(ye)}*`,ue=G.payment_method?`Pago: ${G.payment_method}`:void 0,mt=`Cliente: ${(yt=G.clientInfo)==null?void 0:yt.nom} (${(Tt=G.clientInfo)==null?void 0:Tt.telephone})
Dirección: ${(An=G.clientInfo)==null?void 0:An.adresse}`,pt=[de,Z,Se,ue,mt,"Comprobante de pago adjunto."].filter(Boolean);return encodeURIComponent(pt.join(`

`))};return _?m.jsx("div",{className:"h-screen flex items-center justify-center",children:"Cargando el menú..."}):N?m.jsx("div",{className:"h-screen flex items-center justify-center text-red-500",children:N}):m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"container mx-auto p-4 lg:grid lg:grid-cols-3 lg:gap-8",children:[m.jsxs("div",{className:"lg:col-span-2",children:[ne.length>0&&u.length===0&&m.jsxs("div",{className:"bg-white/95 p-4 rounded-xl shadow-xl mb-8",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-3 text-gray-700",children:[m.jsx(Z0,{})," ¿Repetir un pedido?"]}),m.jsx("div",{className:"space-y-2",children:ne.slice(0,3).map(G=>m.jsxs("div",{className:"flex justify-between items-center rounded-lg border border-white/20 bg-slate-900/80 p-3 text-slate-100 backdrop-blur-sm",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-semibold text-white",children:["Pedido del ",new Date(G.date_creation).toLocaleDateString("es-CO")]}),m.jsxs("p",{className:"text-sm text-slate-300",children:[G.items.length," artículo(s) - ",Re(G.total)]})]}),m.jsx("button",{onClick:()=>Y(G),className:"bg-orange-500 text-white font-semibold py-2 px-4 rounded-lg text-base transition hover:bg-orange-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-300",children:"Pedir de nuevo"})]},G.id))})]}),m.jsxs("div",{className:"bg-white/95 p-4 rounded-xl shadow-xl",children:[m.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 mb-4",children:[m.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap transition border ${o==="all"?"bg-brand-primary text-slate-900 border-brand-primary shadow-lg":"bg-slate-900/80 text-white border-white/20"}`,children:"Todos"}),r.map(G=>m.jsx("button",{onClick:()=>l(G.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap transition border ${o===G.id?"bg-brand-primary text-slate-900 border-brand-primary shadow-lg":"bg-slate-900/80 text-white border-white/20"}`,children:G.nom},G.id))]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:ie.map(G=>m.jsxs("div",{onClick:()=>G.estado==="disponible"&&se(G),className:`border rounded-2xl p-6 flex flex-col items-center text-center transition-shadow bg-white/90 shadow-md ${G.estado==="disponible"?"cursor-pointer hover:shadow-xl":"opacity-50"}`,children:[m.jsx("img",{src:G.image,alt:G.nom_produit,className:"w-36 h-36 md:w-40 md:h-40 object-cover rounded-xl mb-4"}),m.jsx("p",{className:"font-semibold text-lg flex-grow text-gray-800",children:G.nom_produit}),m.jsx("p",{className:"text-base text-gray-600 mt-2 px-1 max-h-20 overflow-hidden",children:G.description}),m.jsx("p",{className:"font-bold text-2xl text-gray-800 mt-3",children:Re(G.prix_vente)}),G.estado!=="disponible"&&m.jsx("span",{className:"text-xs text-red-500 font-bold mt-1",children:"Agotado"})]},G.id))})]})]}),m.jsx("div",{id:"cart-section",className:"lg:col-span-1 mt-8 lg:mt-0 lg:sticky top-24 self-start",children:m.jsxs("div",{className:"bg-white/95 p-4 rounded-xl shadow-xl",children:[m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-4 text-gray-700",children:[m.jsx(TA,{})," Mi carrito"]}),u.length===0?m.jsx("p",{className:"text-gray-500",children:"Tu carrito está vacío."}):m.jsxs("div",{className:"space-y-3",children:[u.map(G=>m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-gray-700",children:G.nom_produit}),G.commentaire&&m.jsxs("p",{className:"text-xs text-gray-500 italic",children:['"',G.commentaire,'"']}),m.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:Re(G.prix_unitaire*G.quantite)})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>L(G.id,-1),className:"p-1 rounded-full bg-gray-200",children:m.jsx(eb,{size:14})}),m.jsx("span",{className:"font-bold w-5 text-center text-gray-700",children:G.quantite}),m.jsx("button",{onClick:()=>L(G.id,1),className:"p-1 rounded-full bg-gray-200",children:m.jsx(gu,{size:14})})]})]},G.id)),m.jsx("div",{className:"flex justify-between items-start border-t pt-3",children:m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-gray-700",children:hw}),m.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:Re(M0)})]})},"delivery-fee")]}),m.jsx("div",{className:"border-t my-4"}),m.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-700",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Re(pe)})]}),u.length>0&&m.jsxs("form",{onSubmit:F,className:"mt-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre completo"}),m.jsx("input",{type:"text",required:!0,value:C.nom,onChange:G=>A({...C,nom:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-700 bg-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Dirección de entrega"}),m.jsx("input",{type:"text",required:!0,value:C.adresse,onChange:G=>A({...C,adresse:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-700 bg-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Número de teléfono"}),m.jsx("input",{type:"tel",required:!0,value:C.telephone,onChange:G=>A({...C,telephone:G.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-700 bg-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("select",{required:!0,value:R,onChange:G=>D(G.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary bg-white text-gray-700",children:[m.jsx("option",{value:"transferencia",children:"Transferencia"}),m.jsx("option",{value:"efectivo",disabled:!0,children:"Efectivo - no disponible"})]})]}),m.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"Numero Nequi/BRE-B : 3238090562"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante de transferencia"}),m.jsxs("label",{htmlFor:"payment-proof-upload",className:"mt-1 w-full border border-gray-300 p-2 rounded-md shadow-sm flex items-center gap-2 cursor-pointer bg-white text-gray-500",children:[m.jsx(Ks,{size:18}),m.jsx("span",{children:T?T.name:"Selecciona un archivo..."})]}),m.jsx("input",{id:"payment-proof-upload",type:"file",required:!0,accept:"image/*,.pdf",onChange:G=>P(G.target.files?G.target.files[0]:null),className:"hidden"})]}),m.jsx("button",{type:"submit",disabled:!C.nom||!C.telephone||!C.adresse||!T||!R||H,className:"w-full bg-brand-accent text-white font-bold py-3 rounded-lg text-lg hover:bg-red-700 transition disabled:bg-gray-400",children:H?"Enviando...":`Enviar el pedido (${Re(pe)})`})]})]})})]}),w&&m.jsx(Rte,{isOpen:f,onClose:()=>p(!1),onAddToCart:M,product:w.product,item:w.item}),B&&m.jsx(Dte,{isOpen:g,onClose:()=>{e(B),v(!1)},order:B,whatsAppMessage:J(B)})]})},$te=()=>{const e=qi(),[t,n]=b.useState(()=>ob()),r=(t==null?void 0:t.orderId)??null,{content:i,loading:o}=ub(),[l,u]=b.useState(()=>i);b.useEffect(()=>{i&&u(i)},[i]);const d=(l==null?void 0:l.assets.library)??[];if(fb(d),!l)return m.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50",children:m.jsx("p",{className:"text-sm text-slate-500",children:o?"Chargement du contenu du site…":"Initialisation du contenu du site…"})});const{hero:f,navigation:p,assets:g}=l,v=p.brandLogo??"/logo-brand.svg",w=hb(f.style,f.backgroundImage),S=Mr(p.style),_=Pr(p.style),j=E=>{lb(E.id),n({orderId:E.id})},N=()=>{cb(),n(null)};return m.jsxs("div",{style:w,className:"min-h-screen text-slate-100",children:[m.jsx("header",{className:"shadow-md backdrop-blur p-4 sticky top-0 z-40 border-b border-white/40",style:S,children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",style:_,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:v,alt:`Logo ${p.brand}`,className:"h-10 w-10 rounded-full object-cover border border-white/30 bg-white/10"}),m.jsx("span",{className:"text-2xl font-bold",children:p.brand})]}),m.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-sm font-medium transition hover:opacity-80",style:_,children:[m.jsx(vA,{size:16})," Volver al inicio"]})]})}),r?m.jsx(eT,{orderId:r,onNewOrderClick:N,variant:"page"}):m.jsx(Ute,{onOrderSubmitted:j})]})},zte=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center",children:[m.jsx("h1",{className:"text-9xl font-extrabold text-brand-primary tracking-widest",children:"404"}),m.jsx("div",{className:"bg-brand-accent px-2 text-sm rounded rotate-12 absolute",children:"Page Non Trouvée"}),m.jsx("p",{className:"text-2xl md:text-3xl font-light text-gray-700 mt-4",children:"Désolé, la page que vous recherchez n'existe pas."}),m.jsx(z0,{to:"/",className:"mt-8 px-8 py-3 bg-brand-primary text-brand-secondary font-semibold rounded-lg hover:bg-yellow-400 transition",children:"Retour à l'accueil"})]}),Bte=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,o]=b.useState(null),[l,u]=b.useState({startDate:"",endDate:"",paymentMethod:"all"});b.useEffect(()=>{(async()=>{try{const w=await je.getFinalizedOrders();t([...w].sort((S,_)=>_.date_creation-S.date_creation))}catch(w){console.error("Failed to fetch finalized orders",w)}finally{r(!1)}})()},[]);const d=b.useMemo(()=>e.filter(v=>{const w=new Date(v.date_creation),S=l.startDate?new Date(l.startDate):null,_=l.endDate?new Date(l.endDate):null;S&&S.setHours(0,0,0,0),_&&_.setHours(23,59,59,999);const j=S?w>=S:!0,N=_?w<=_:!0,E=l.paymentMethod==="all"||v.payment_method===l.paymentMethod;return j&&N&&E}),[e,l]),f=v=>{u({...l,[v.target.name]:v.target.value})},p=()=>{const S=[["Fecha","Tipo","Mesa/Cliente","Comensales","Venta total","Beneficio","Método de pago"].join(","),...d.map(E=>{var C;return[new Date(E.date_creation).toLocaleString("es-CO"),E.type==="sur_place"?"En el local":"Para llevar",`"${E.type==="sur_place"?E.table_nom||"N/A":((C=E.clientInfo)==null?void 0:C.nom)||"N/A"}"`,E.couverts,Re(E.total),Re(E.profit||0),E.payment_method||"N/A"].join(",")})].join(`
`),_=new Blob([`\uFEFF${S}`],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(_),N=document.createElement("a");N.href=j,N.download=`resumen_pedidos_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j)},g=b.useMemo(()=>d.reduce((v,w)=>(v.totalSales+=w.total,v.totalProfit+=w.profit||0,v),{totalSales:0,totalProfit:0}),[d]);return n?m.jsx("div",{className:"text-gray-800",children:"Cargando el resumen de ventas..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"mt-6 space-y-4 rounded-xl bg-white p-4 shadow-md",children:m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de inicio"}),m.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de fin"}),m.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900",children:[m.jsx("option",{value:"all",children:"Todas"}),m.jsx("option",{value:"efectivo",children:"Efectivo"}),m.jsx("option",{value:"transferencia",children:"Transferencia"}),m.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),m.jsxs("button",{onClick:p,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition h-12 sm:h-full sm:self-end",children:[m.jsx(xA,{size:18})," Export CSV"]})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-md",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Ventas"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Beneficio"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),m.jsx("tbody",{children:d.map(v=>{var w;return m.jsxs(sn.Fragment,{children:[m.jsxs("tr",{onClick:()=>o(i===v.id?null:v.id),className:"border-b hover:bg-gray-50 cursor-pointer",children:[m.jsx("td",{className:"p-3",children:i===v.id?m.jsx(bA,{size:16}):m.jsx(QU,{size:16})}),m.jsx("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:new Date(v.date_creation).toLocaleString("es-CO")}),m.jsx("td",{className:"p-3 text-sm",children:v.type==="sur_place"?m.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[m.jsx(rb,{size:12})," En el local"]}):m.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[m.jsx(AA,{size:12})," Para llevar"]})}),m.jsx("td",{className:"p-3 font-semibold text-gray-900",children:v.type==="sur_place"?v.table_nom||"N/A":((w=v.clientInfo)==null?void 0:w.nom)||"N/A"}),m.jsx("td",{className:"p-3 text-gray-800 font-bold text-right",children:Re(v.total)}),m.jsx("td",{className:"p-3 font-semibold text-green-600 text-right",children:Re(v.profit||0)}),m.jsx("td",{className:"p-3 text-gray-700 capitalize",children:v.payment_method||"N/A"})]}),i===v.id&&m.jsx("tr",{className:"bg-gray-50",children:m.jsx("td",{colSpan:7,className:"p-4",children:m.jsxs("div",{className:"p-2 bg-white rounded-md border",children:[m.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Detalle de artículos:"}),m.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:v.items.map(S=>m.jsxs("li",{children:[S.quantite,"x ",S.nom_produit," - ",m.jsx("span",{className:"font-semibold",children:Re(S.prix_unitaire*S.quantite)})]},S.id))})]})})})]},v.id)})}),m.jsx("tfoot",{className:"border-t-2 border-gray-300",children:m.jsxs("tr",{className:"font-bold text-gray-900",children:[m.jsx("td",{colSpan:4,className:"p-3 text-right",children:"TOTALES"}),m.jsx("td",{className:"p-3 text-right",children:Re(g.totalSales)}),m.jsx("td",{className:"p-3 text-right text-green-700",children:Re(g.totalProfit)}),m.jsx("td",{})]})})]})}),d.length===0&&m.jsx("p",{className:"text-center p-8 text-gray-500",children:"Ningún pedido finalizado coincide con tus filtros."})]})]})},xf="inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 transition hover:border-brand-primary/50 hover:text-brand-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary disabled:opacity-50",qte=({id:e,value:t,fallback:n,onChange:r,className:i,placeholder:o})=>{const l=b.useRef(null),[u,d]=b.useState(()=>((t==null?void 0:t.plainText)??n).trim().length===0),f=()=>{const E=l.current;if(!E){d(!0);return}const C=E.textContent??"";d(C.trim().length===0)};b.useEffect(()=>{const E=l.current;if(E){if(t&&typeof t.html=="string"){E.innerHTML!==t.html&&(E.innerHTML=t.html),f();return}E.textContent!==n&&(E.textContent=n,f())}},[t,n]);const p=()=>{const E=l.current;if(!E){r(null),d(!0);return}const C=E.innerHTML,A=E.innerText,T=ab({html:C,plainText:A});r(T),f()},g=E=>{var C;document.execCommand("styleWithCSS",!1,"false"),document.execCommand(E),(C=l.current)==null||C.focus(),p()},v=E=>{var A;const C=E.target.value;document.execCommand("styleWithCSS",!1,"true"),document.execCommand("foreColor",!1,C),(A=l.current)==null||A.focus(),p()},w=()=>{var E;document.execCommand("removeFormat"),document.execCommand("unlink"),(E=l.current)==null||E.focus(),p()},S=()=>{p()},_=()=>{p()},j=E=>{E.preventDefault();const C=E.clipboardData.getData("text/plain");document.execCommand("insertText",!1,C),p()},N=E=>{if((E.metaKey||E.ctrlKey)&&E.key.toLowerCase()==="b"){E.preventDefault(),g("bold");return}if((E.metaKey||E.ctrlKey)&&E.key.toLowerCase()==="i"){E.preventDefault(),g("italic");return}(E.metaKey||E.ctrlKey)&&E.key.toLowerCase()==="x"&&E.shiftKey&&(E.preventDefault(),g("strikeThrough"))};return m.jsxs("div",{className:`space-y-2 ${i??""}`,children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",className:xf,onClick:()=>g("bold"),"aria-label":"Mettre en gras",children:m.jsx($U,{className:"h-4 w-4","aria-hidden":"true"})}),m.jsx("button",{type:"button",className:xf,onClick:()=>g("italic"),"aria-label":"Mettre en italique",children:m.jsx(_6,{className:"h-4 w-4","aria-hidden":"true"})}),m.jsx("button",{type:"button",className:xf,onClick:()=>g("strikeThrough"),"aria-label":"Barrer",children:m.jsx(m$,{className:"h-4 w-4","aria-hidden":"true"})}),m.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[m.jsx(tb,{className:"h-4 w-4","aria-hidden":"true"}),m.jsx("span",{className:"sr-only",children:"Choisir une couleur"}),m.jsx("input",{type:"color",className:"h-8 w-8 cursor-pointer rounded-full border border-slate-200",onChange:v,"aria-label":"Sélectionner une couleur de texte"})]}),m.jsx("button",{type:"button",className:xf,onClick:w,"aria-label":"Supprimer la mise en forme",children:m.jsx(jl,{className:"h-4 w-4","aria-hidden":"true"})})]}),m.jsxs("div",{className:"relative",children:[o&&u&&m.jsx("div",{className:"pointer-events-none absolute left-4 top-3 text-sm text-slate-400",children:o}),m.jsx("div",{id:e,ref:l,className:"ui-textarea w-full min-h-[120px] whitespace-pre-wrap break-words px-4 py-3",contentEditable:!0,role:"textbox","aria-multiline":"true",suppressContentEditableWarning:!0,onInput:S,onBlur:_,onKeyDown:N,onPaste:j})]})]})},Hte=["Inter","Poppins","Roboto","Montserrat","Playfair Display","Lora","Open Sans","Georgia, serif","Arial, sans-serif"],Kte=["14px","16px","18px","20px","24px","clamp(1rem, 2vw, 1.5rem)"],qR=["#0f172a","#111827","#f8fafc","#ffffff","#e2e8f0","#f97316","transparent","currentColor"],HR={neutrals:["#ffffff","#f8fafc","#f1f5f9","#e2e8f0","#cbd5e1","#94a3b8","#64748b","#475569","#334155","#1e293b","#0f172a"],blues:["#eff6ff","#dbeafe","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8","#1e40af","#1e3a8a"],reds:["#fef2f2","#fecaca","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c","#991b1b","#7f1d1d"],greens:["#f0fdf4","#dcfce7","#bbf7d0","#86efac","#4ade80","#22c55e","#16a34a","#15803d","#166534"],yellows:["#fefce8","#fef3c7","#fde68a","#fcd34d","#fbbf24","#f59e0b","#d97706","#b45309","#92400e"],oranges:["#fff7ed","#fed7aa","#fdba74","#fb923c","#f97316","#ea580c","#dc2626","#c2410c","#9a3412"],purples:["#faf5ff","#f3e8ff","#e9d5ff","#d8b4fe","#c084fc","#a855f7","#9333ea","#7c3aed","#6b21a8"],pinks:["#fdf2f8","#fce7f3","#fbcfe8","#f9a8d4","#f472b6","#ec4899","#db2777","#be185d","#9d174d"]},KR=["#F9A826","#DD8C00","#2D2D2D","#E63946"],Fte=new Set(M$),Gte=new Set(["navigation.style.background","hero.style.background","about.style.background","menu.style.background","findUs.style.background","footer.style.background"]),Yte=new Set(["hero.backgroundImage","about.image","menu.image","navigation.brandLogo","navigation.staffLogo"]),Vte={"navigation.brand":"Nom de la marque","navigation.brandLogo":"Logo principal","navigation.staffLogo":"Logo d'accès équipe","navigation.links.home":"Lien Accueil","navigation.links.about":"Lien À propos","navigation.links.menu":"Lien Menu","navigation.links.contact":"Lien Contact","navigation.links.loginCta":"Bouton d'accès staff","navigation.style.background":"Fond de la navigation","hero.title":"Titre du hero","hero.subtitle":"Sous-titre du hero","hero.ctaLabel":"Bouton principal du hero","hero.historyTitle":"Titre de l'historique","hero.reorderCtaLabel":"Bouton de réassort","hero.backgroundImage":"Image du hero","hero.style.background":"Fond du hero","about.title":"Titre À propos","about.description":"Texte À propos","about.image":"Image À propos","about.style.background":"Fond À propos","menu.title":"Titre du menu","menu.ctaLabel":"Bouton du menu","menu.loadingLabel":"Texte de chargement du menu","menu.image":"Image du menu","menu.style.background":"Fond du menu","findUs.title":"Titre Encuéntranos","findUs.addressLabel":"Libellé de l'adresse (Encuéntranos)","findUs.address":"Adresse (Encuéntranos)","findUs.cityLabel":"Libellé de contact","findUs.city":"Email (Encuéntranos)","findUs.hoursLabel":"Libellé des horaires","findUs.hours":"Horaires","findUs.mapLabel":"Libellé du lien carte","findUs.style.background":"Fond Encuéntranos","footer.text":"Texte du pied de page","footer.style.background":"Fond du pied de page"},wC={...Vte},_C=[{id:"preview",label:"Aperçu",icon:J0},{id:"custom",label:"Personnalisation",icon:Da},{id:"themes",label:"Thèmes",icon:tb},{id:"history",label:"Historique",icon:Z0}],Wte=[{id:"modern",name:"Moderne",description:"Design épuré et contemporain",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",colors:{primary:"#667eea",secondary:"#764ba2",background:"#f8fafc",text:"#1e293b"}},{id:"warm",name:"Chaleureux",description:"Couleurs chaudes et accueillantes",preview:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",colors:{primary:"#f093fb",secondary:"#f5576c",background:"#fef7f0",text:"#7c2d12"}},{id:"nature",name:"Nature",description:"Inspiré de la nature et du bio",preview:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",colors:{primary:"#11998e",secondary:"#38ef7d",background:"#f0fdf4",text:"#14532d"}},{id:"elegant",name:"Élégant",description:"Sophistication et luxe",preview:"linear-gradient(135deg, #2c3e50 0%, #34495e 100%)",colors:{primary:"#2c3e50",secondary:"#34495e",background:"#f8fafc",text:"#1e293b"}}],Xte=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,im=e=>{var i;const{type:t,name:n}=e;if(t.startsWith("image/"))return"image";if(t.startsWith("video/"))return"video";if(t.startsWith("audio/"))return"audio";if(t.includes("font"))return"font";const r=(i=n.split(".").pop())==null?void 0:i.toLowerCase();return r&&["ttf","otf","woff","woff2"].includes(r)?"font":"raw"},aa=e=>typeof globalThis.structuredClone=="function"?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),FR=(e,t,n)=>{const r=t.split("."),i=r.pop();if(!i)return;let o=e;r.forEach(l=>{if(o&&typeof o=="object"){const u=o[l];u&&typeof u=="object"?o[l]=Array.isArray(u)?[...u]:{...u}:o[l]={},o=o[l]}}),o&&typeof o=="object"&&(o[i]=n)},Qte=(e,t,n)=>{const r={};n.fontFamily&&n.fontFamily.trim().length>0&&(r.fontFamily=n.fontFamily.trim()),n.fontSize&&n.fontSize.trim().length>0&&(r.fontSize=n.fontSize.trim()),n.textColor&&n.textColor.trim().length>0&&(r.textColor=n.textColor.trim()),n.backgroundColor&&n.backgroundColor.trim().length>0&&(r.backgroundColor=n.backgroundColor.trim());const i={...e.elementStyles};Object.keys(r).length===0?delete i[t]:i[t]=r,e.elementStyles=i},Jte=(e,t,n)=>{const r={...e.elementRichText};n&&n.html.trim().length>0?r[t]=n:delete r[t],e.elementRichText=r},Zte=(e,t,n)=>{const r=Ba(t),i={...e[r]},o={...i.style,background:{...n}};i.style=o,e[r]=i},ene=(e,t)=>{var o;const n=((o=e.assets)==null?void 0:o.library)??[],r=n.findIndex(l=>l.url===t.url||l.id===t.id),i=r>=0?n.map((l,u)=>u===r?t:l):[...n,t];e.assets={...e.assets,library:i}},GR=(e,t)=>{const n=t.split(".");let r=e;for(const i of n){if(!r||typeof r!="object")return"";r=r[i]}return typeof r=="string"?r:""},tne=(e,t)=>{const n=GR(e,t);return n.trim().length>0?n:null},nne=(e,t)=>e.elementStyles[t]??{},rne=(e,t)=>e.elementRichText[t]??null,ane=(e,t)=>{const n=Ba(t);return e[n].style.background},mw=(e,t)=>{const n=e.name.replace(/\.[^/.]+$/,"").trim()||"media",r=im(e),i=r==="font"?db(n):n;return{id:Xte(),name:i,url:t,format:e.type||"application/octet-stream",bytes:e.size,type:r,createdAt:new Date().toISOString()}},SC='a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',ine=typeof window<"u"?b.useLayoutEffect:b.useEffect,jC=e=>typeof window<"u"&&window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),sne=e=>{if(!e)return null;const{x:t,y:n,top:r,left:i,bottom:o,right:l,width:u,height:d}=e;return{x:t,y:n,top:r,left:i,bottom:o,right:l,width:u,height:d}},pw=({title:e,onClose:t,children:n,footer:r,anchor:i,elementId:o})=>{const l=b.useId(),u=b.useRef(null),[d,f]=b.useState({top:0,left:0}),[p,g]=b.useState("top"),[v,w]=b.useState(!1),[S,_]=b.useState(!1),[j,N]=b.useState(null),[E,C]=b.useState(!1),[A,T]=b.useState({x:0,y:0});b.useEffect(()=>{w(!0)},[]);const P=b.useCallback(()=>{if(typeof window>"u")return;const B=u.current;if(!B)return;const $=`[data-element-id="${jC(o)}"]`,ne=document.querySelector($),Q=(ne==null?void 0:ne.getBoundingClientRect())??i,{width:re,height:I}=B.getBoundingClientRect(),V=document.documentElement.clientWidth,ie=window.innerHeight,pe=16,se=12;if(!Q){const be=Math.max(pe,(V-re)/2),Z=Math.max(pe,(ie-I)/2);f({top:Z,left:be}),g("top"),_(!0),N(null);return}let M=Q.top-I-se,L="top";if(M<pe&&(M=Q.bottom+se,L="bottom"),M+I>ie-pe){const be=Q.top-pe,Z=ie-Q.bottom-pe;be>Z?(M=Math.max(pe,Q.top-I-se),L="top"):(M=Math.min(ie-I-pe,Q.bottom+se),L="bottom")}const F=Q.left+Q.width/2-re/2,Y=V-re-pe,J=Math.max(pe,Math.min(F,Y));f({top:M,left:J}),g(L),_(!0);const G=Math.max(J+12,Math.min(Q.left+Q.width/2,J+re-12)),de=L==="top"?M+I-6:M-6;N({top:de,left:G-6})},[i,o]);ine(()=>{v&&P()},[P,v]),b.useEffect(()=>{if(!v)return;const B=()=>P();window.addEventListener("scroll",B,!0),window.addEventListener("resize",B);const $=`[data-element-id="${jC(o)}"]`,ne=document.querySelector($),Q=[];if(typeof ResizeObserver<"u"){const re=new ResizeObserver(()=>P());ne&&re.observe(ne);const I=u.current;I&&re.observe(I),Q.push(re)}return()=>{window.removeEventListener("scroll",B,!0),window.removeEventListener("resize",B),Q.forEach(re=>re.disconnect())}},[P,o,v]),b.useEffect(()=>{if(!v)return;const B=$=>{if($.key==="Escape"){$.preventDefault(),t();return}if($.key==="Tab"){const ne=u.current;if(!ne)return;const Q=Array.from(ne.querySelectorAll(SC)).filter(V=>V.tabIndex!==-1&&!V.hasAttribute("disabled")&&!V.getAttribute("aria-hidden"));if(Q.length===0){$.preventDefault(),ne.focus();return}const re=Q[0],I=Q[Q.length-1];if($.shiftKey){(document.activeElement===re||!ne.contains(document.activeElement))&&($.preventDefault(),I.focus());return}document.activeElement===I&&($.preventDefault(),re.focus())}};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[t,v]),b.useEffect(()=>{if(!v)return;const B=$=>{const ne=u.current;ne&&(ne.contains($.target)||t())};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[t,v]),b.useEffect(()=>{if(!v)return;const B=u.current;if(!B)return;(B.querySelectorAll(SC)[0]??B).focus({preventScroll:!0})},[v]);const R=b.useCallback(B=>{var $;if(B.target===B.currentTarget||B.target.closest("[data-draggable]")){C(!0);const ne=($=u.current)==null?void 0:$.getBoundingClientRect();ne&&T({x:B.clientX-ne.left,y:B.clientY-ne.top})}},[]),D=b.useCallback(B=>{if(E&&u.current){const $={top:B.clientY-A.y,left:B.clientX-A.x};f($)}},[E,A]),H=b.useCallback(()=>{C(!1)},[]);if(b.useEffect(()=>{if(E)return document.addEventListener("mousemove",D),document.addEventListener("mouseup",H),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",H)}},[E,D,H]),typeof document>"u"||!v)return null;const z=m.jsxs("div",{className:"fixed inset-0 z-[60] pointer-events-none",children:[m.jsxs("div",{ref:u,role:"dialog","aria-modal":"true","aria-labelledby":l,tabIndex:-1,className:`customization-popover pointer-events-auto flex w-[min(90vw,32rem)] flex-col overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200 ${E?"cursor-grabbing":"cursor-grab"}`,style:{position:"absolute",top:d.top,left:d.left,opacity:S?1:0,transform:E?"scale(1.02)":"scale(1)",transition:E?"none":"all 0.2s ease"},onMouseDown:R,children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4 cursor-grab","data-draggable":!0,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),m.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),m.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})]}),m.jsx("h2",{id:l,className:"text-lg font-semibold text-slate-900 flex-1 text-center",children:e}),m.jsxs("button",{type:"button",onClick:t,className:"rounded-full p-1 text-slate-500 transition hover:text-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary",children:[m.jsx(jl,{className:"h-5 w-5","aria-hidden":"true"}),m.jsx("span",{className:"sr-only",children:"Fermer"})]})]}),m.jsx("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-5",children:n}),m.jsx("div",{className:"flex items-center justify-end gap-3 border-t border-slate-200 bg-slate-50 px-6 py-4",children:r})]}),j?m.jsx("span",{"aria-hidden":"true",className:`pointer-events-none absolute h-3 w-3 rotate-45 rounded-sm bg-white shadow-[0_0_0_1px_rgba(148,163,184,0.35)] ${p==="top"?"translate-y-[-4px]":"translate-y-[4px]"}`,style:{top:j.top,left:j.left,opacity:S?1:0}}):null]});return B0.createPortal(z,document.body)},one=({element:e,label:t,draft:n,onApply:r,onClose:i,fontOptions:o,onAssetAdded:l,anchor:u})=>{const d=`${e.replace(/\./g,"-")}-text-form`,f=GR(n,e),p=rne(n,e),g=nne(n,e),[v,w]=b.useState(f),[S,_]=b.useState(p),[j,N]=b.useState(g.fontFamily??""),[E,C]=b.useState(g.fontSize??""),[A,T]=b.useState(g.textColor??""),[P,R]=b.useState(g.backgroundColor??""),[D,H]=b.useState(null),[z,B]=b.useState(!1),[$,ne]=b.useState({}),[Q,re]=b.useState(!1),I=b.useCallback(()=>{const M={};return E&&E.trim()&&(/^\d+(\.\d+)?(px|rem|em|%)$|^clamp\([^)]+\)$|^calc\([^)]+\)$/.test(E.trim())||(M.fontSize="Format invalide. Utilisez px, rem, em, % ou des fonctions CSS comme clamp()")),A&&A.trim()&&(/^(#[0-9a-fA-F]{3,8}|rgba?\([^)]+\)|hsla?\([^)]+\)|[a-zA-Z]+|transparent|currentColor)$/.test(A.trim())||(M.textColor="Format de couleur invalide. Utilisez hex, rgb, hsl ou nom de couleur")),P&&P.trim()&&(/^(#[0-9a-fA-F]{3,8}|rgba?\([^)]+\)|hsla?\([^)]+\)|[a-zA-Z]+|transparent|currentColor)$/.test(P.trim())||(M.backgroundColor="Format de couleur invalide. Utilisez hex, rgb, hsl ou nom de couleur")),ne(M),Object.keys(M).length===0},[E,A,P]);b.useEffect(()=>{w(f),_(p),N(g.fontFamily??""),C(g.fontSize??""),T(g.textColor??""),R(g.backgroundColor??"")},[f,p,g.fontFamily,g.fontSize,g.textColor,g.backgroundColor]);const V=M=>{if(M.preventDefault(),!I())return;const L=v;r(F=>(FR(F,e,L),Jte(F,e,S),Qte(F,e,{fontFamily:j,fontSize:E,textColor:A,backgroundColor:P}),F),`Texte mis à jour : ${t}`,"manual"),i()};b.useEffect(()=>{const M=setTimeout(()=>{I()},500);return()=>clearTimeout(M)},[I]);const ie={fontFamily:j||void 0,fontSize:E||void 0,color:A||void 0,backgroundColor:P||void 0},pe=async M=>{var F;const L=(F=M.target.files)==null?void 0:F[0];if(L){H(null),B(!0);try{const Y=await V0(L,{tags:[im(L)]}),J=mw(L,Y);l(J),N(J.name)}catch(Y){H(Y instanceof Error?Y.message:"Impossible de téléverser la police. Réessayez plus tard.")}finally{B(!1),M.target.value=""}}},se=m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),m.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]});return m.jsx(pw,{title:`Personnaliser ${t}`,onClose:i,footer:se,anchor:u,elementId:e,children:m.jsxs("form",{id:d,onSubmit:V,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("label",{htmlFor:`${d}-plain`,className:"block text-sm font-medium text-slate-700",children:"Texte de base"}),m.jsxs("button",{type:"button",onClick:()=>re(!Q),className:"text-sm text-brand-primary hover:text-brand-primary/80 flex items-center gap-1",children:[m.jsx(tb,{className:"h-3 w-3"}),Q?"Mode édition":"Aperçu en direct"]})]}),Q?m.jsx("div",{className:"ui-textarea mt-2 w-full min-h-[4rem] p-3 border border-slate-200 rounded-lg bg-white",style:ie,children:v||"Tapez votre texte pour voir l'aperçu..."}):m.jsx("textarea",{id:`${d}-plain`,className:"ui-textarea mt-2 w-full",value:v,onChange:M=>{w(M.target.value),_(null)},rows:3})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Mise en forme avancée"}),m.jsx(qte,{id:`${d}-rich`,value:S,fallback:v,onChange:M=>{_(M),M&&w(M.plainText)},className:"mt-2",placeholder:"Saisissez votre texte..."}),m.jsx("button",{type:"button",className:"mt-2 text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>_(null),children:"Supprimer la mise en forme personnalisée"})]}),m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:`${d}-font`,className:"block text-sm font-medium text-slate-700",children:"Police"}),m.jsx("input",{id:`${d}-font`,className:"ui-input mt-2 w-full",value:j,onChange:M=>N(M.target.value),list:`${d}-font-options`,placeholder:"Ex: Poppins"}),m.jsx("datalist",{id:`${d}-font-options`,children:o.map(M=>m.jsx("option",{value:M},M))}),m.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[m.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[m.jsx("input",{type:"file",accept:".woff,.woff2,.ttf,.otf",className:"absolute inset-0 cursor-pointer opacity-0",onChange:pe,disabled:z}),m.jsx(Ks,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une police"]}),z&&m.jsx(sl,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"})]}),D&&m.jsx("p",{className:"mt-2 text-sm text-amber-600",children:D})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:`${d}-size`,className:"block text-sm font-medium text-slate-700",children:"Taille du texte"}),m.jsx("input",{id:`${d}-size`,className:`ui-input mt-2 w-full ${$.fontSize?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,value:E,onChange:M=>C(M.target.value),list:`${d}-size-options`,placeholder:"Ex: 18px, 1.2rem, clamp(1rem, 2vw, 1.5rem)"}),m.jsx("datalist",{id:`${d}-size-options`,children:Kte.map(M=>m.jsx("option",{value:M},M))}),$.fontSize&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.fontSize}),E&&!$.fontSize&&m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"✓ Format valide"})]})]}),m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:`${d}-text-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur du texte"}),m.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[m.jsx("input",{id:`${d}-text-color`,className:`ui-input w-full ${$.textColor?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,value:A,onChange:M=>T(M.target.value),placeholder:"Ex: #0f172a, rgb(15, 23, 42), hsl(220, 39%, 11%)"}),m.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200 cursor-pointer transition hover:scale-105",value:A&&/^#[0-9a-fA-F]{6}$/.test(A)?A:"#000000",onChange:M=>T(M.target.value),"aria-label":"Choisir la couleur du texte"})]}),$.textColor&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.textColor}),A&&!$.textColor&&m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"✓ Format valide"}),m.jsxs("div",{className:"mt-3 space-y-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Couleurs de marque"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:KR.map(M=>m.jsx("button",{type:"button",onClick:()=>T(M),className:"h-8 w-8 rounded-full border border-slate-200 shadow-sm transition hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-brand-primary",style:{backgroundColor:M},title:M},M))})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Palette étendue"}),m.jsx("div",{className:"grid grid-cols-8 gap-1",children:Object.entries(HR).map(([M,L])=>L.slice(0,8).map(F=>m.jsx("button",{type:"button",onClick:()=>T(F),className:"h-6 w-6 rounded border border-slate-200 transition hover:scale-110 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-brand-primary",style:{backgroundColor:F},title:`${M}: ${F}`},F)))})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Suggestions rapides"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:qR.map(M=>m.jsx("button",{type:"button",onClick:()=>T(M),className:"h-6 w-12 rounded border border-slate-200 text-xs font-medium transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-brand-primary",style:{backgroundColor:M==="transparent"?"#ffffff":M==="currentColor"?"#64748b":M,color:M==="transparent"?"#64748b":"#ffffff",backgroundImage:M==="transparent"?"linear-gradient(45deg, #f1f5f9 25%, transparent 25%), linear-gradient(-45deg, #f1f5f9 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f1f5f9 75%), linear-gradient(-45deg, transparent 75%, #f1f5f9 75%)":"none",backgroundSize:M==="transparent"?"8px 8px":"auto",backgroundPosition:M==="transparent"?"0 0, 0 4px, 4px -4px, -4px 0px":"auto"},title:M,children:M==="transparent"?"T":M==="currentColor"?"C":""},M))})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:`${d}-bg-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur de fond"}),m.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[m.jsx("input",{id:`${d}-bg-color`,className:`ui-input w-full ${$.backgroundColor?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,value:P,onChange:M=>R(M.target.value),placeholder:"Ex: rgba(255,255,255,0.8), transparent"}),m.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200 cursor-pointer transition hover:scale-105",value:P&&/^#[0-9a-fA-F]{6}$/.test(P)?P:"#ffffff",onChange:M=>R(M.target.value),"aria-label":"Choisir la couleur d'arrière-plan"})]}),$.backgroundColor&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.backgroundColor}),P&&!$.backgroundColor&&m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"✓ Format valide"})]})]}),m.jsxs("div",{className:"space-y-4 border-t border-slate-200 pt-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Presets de style"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:STYLE_PRESETS.map(M=>m.jsxs("button",{type:"button",onClick:()=>{N(M.styles.fontFamily||""),C(M.styles.fontSize||""),T(M.styles.textColor||""),R(M.styles.backgroundColor||"")},className:"text-left p-3 rounded-lg border border-slate-200 hover:border-brand-primary hover:bg-brand-primary/5 transition group",title:M.description,children:[m.jsx("div",{className:"text-sm font-medium text-slate-900 group-hover:text-brand-primary",children:M.name}),m.jsx("div",{className:"text-xs mt-1 px-2 py-1 rounded",style:{fontFamily:M.styles.fontFamily,fontSize:"12px",color:M.styles.textColor,backgroundColor:M.styles.backgroundColor==="transparent"?"#f8fafc":M.styles.backgroundColor},children:"Exemple de texte"})]},M.id))})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-sm text-slate-500",children:"Laissez un champ vide pour hériter du style par défaut."}),m.jsx("button",{type:"button",className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>{N(""),C(""),T(""),R("")},children:"Réinitialiser le style"})]})]})]})})},lne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:o,anchor:l})=>{const u=`${e.replace(/\./g,"-")}-image-form`,d=tne(n,e)??"",[f,p]=b.useState(d),[g,v]=b.useState(null),[w,S]=b.useState(!1);b.useEffect(()=>{p(d)},[d]);const _=C=>{C.preventDefault();const A=f.trim(),T=Ui(A)??(A.length>0?A:null);r(P=>(FR(P,e,T),P),`Média mis à jour : ${t}`,"manual"),i()},j=async C=>{var T;const A=(T=C.target.files)==null?void 0:T[0];if(A){v(null),S(!0);try{const P=await V0(A,{tags:[im(A)]}),R=mw(A,P);o(R),p(P)}catch(P){v(P instanceof Error?P.message:"Téléversement impossible. Vérifiez votre connexion.")}finally{S(!1),C.target.value=""}}},N=m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),m.jsx("button",{type:"submit",form:u,className:"ui-btn-primary",children:"Enregistrer"})]}),E=f.trim();return m.jsx(pw,{title:`Personnaliser ${t}`,onClose:i,footer:N,anchor:l,elementId:e,children:m.jsxs("form",{id:u,onSubmit:_,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:`${u}-input`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),m.jsx("input",{id:`${u}-input`,className:"ui-input mt-2 w-full",value:f,onChange:C=>p(C.target.value),placeholder:"https://..."}),m.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Fournissez une URL Cloudinary ou téléversez un fichier pour l'ajouter automatiquement."})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[m.jsx("input",{type:"file",accept:"image/*,video/*,audio/*,.ttf,.otf,.woff,.woff2",className:"absolute inset-0 cursor-pointer opacity-0",onChange:j,disabled:w}),m.jsx(Ks,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer un média"]}),w&&m.jsx(sl,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),m.jsx("button",{type:"button",onClick:()=>p(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Supprimer le média"})]}),g&&m.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[m.jsx(ca,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),m.jsx("p",{children:g})]}),E&&m.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:m.jsx("img",{src:E,alt:"Aperçu",className:"h-56 w-full object-cover"})})]})})},cne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:o,anchor:l})=>{const u=`${e.replace(/\./g,"-")}-background-form`,d=ane(n,e),[f,p]=b.useState(d.type),[g,v]=b.useState(d.color),[w,S]=b.useState(d.image??""),[_,j]=b.useState(null),[N,E]=b.useState(!1);b.useEffect(()=>{p(d.type),v(d.color),S(d.image??"")},[d.type,d.color,d.image]);const C=R=>{R.preventDefault();const D=g.trim()||"transparent",H=w.trim(),z=Ui(H)??(H.length>0?H:null);r(B=>(Zte(B,e,{type:f,color:D,image:f==="image"?z:null}),B),`Fond mis à jour : ${t}`,"manual"),i()},A=async R=>{var H;const D=(H=R.target.files)==null?void 0:H[0];if(D){j(null),E(!0);try{const z=await V0(D,{tags:[im(D)]}),B=mw(D,z);o(B),S(z),p("image")}catch(z){j(z instanceof Error?z.message:"Téléversement impossible.")}finally{E(!1),R.target.value=""}}},T=m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),m.jsx("button",{type:"submit",form:u,className:"ui-btn-primary",children:"Enregistrer"})]}),P=w.trim();return m.jsx(pw,{title:`Personnaliser ${t}`,onClose:i,footer:T,anchor:l,elementId:e,children:m.jsxs("form",{id:u,onSubmit:C,className:"space-y-6",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${f==="color"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("color"),children:"Couleur"}),m.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${f==="image"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("image"),children:"Image"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:`${u}-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur"}),m.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[m.jsx("input",{id:`${u}-color`,className:"ui-input w-full",value:g,onChange:R=>v(R.target.value),placeholder:"Ex: rgba(15,23,42,0.75)"}),m.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:g||"#ffffff",onChange:R=>v(R.target.value),"aria-label":"Choisir la couleur d'arrière-plan"})]}),m.jsxs("div",{className:"mt-3 space-y-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Couleurs de marque"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:KR.map(R=>m.jsx("button",{type:"button",onClick:()=>v(R),className:"h-8 w-8 rounded-full border border-slate-200 shadow-sm transition hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-brand-primary",style:{backgroundColor:R},title:R},R))})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Palette étendue"}),m.jsx("div",{className:"grid grid-cols-8 gap-1",children:Object.entries(HR).map(([R,D])=>D.slice(0,8).map(H=>m.jsx("button",{type:"button",onClick:()=>v(H),className:"h-6 w-6 rounded border border-slate-200 transition hover:scale-110 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-brand-primary",style:{backgroundColor:H},title:`${R}: ${H}`},H)))})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Suggestions rapides"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:qR.map(R=>m.jsx("button",{type:"button",onClick:()=>v(R),className:"h-6 w-12 rounded border border-slate-200 text-xs font-medium transition hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-brand-primary",style:{backgroundColor:R==="transparent"?"#ffffff":R==="currentColor"?"#64748b":R,color:R==="transparent"?"#64748b":"#ffffff",backgroundImage:R==="transparent"?"linear-gradient(45deg, #f1f5f9 25%, transparent 25%), linear-gradient(-45deg, #f1f5f9 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f1f5f9 75%), linear-gradient(-45deg, transparent 75%, #f1f5f9 75%)":"none",backgroundSize:R==="transparent"?"8px 8px":"auto",backgroundPosition:R==="transparent"?"0 0, 0 4px, 4px -4px, -4px 0px":"auto"},title:R,children:R==="transparent"?"T":R==="currentColor"?"C":""},R))})]})]})]}),f==="image"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:`${u}-image`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),m.jsx("input",{id:`${u}-image`,className:"ui-input mt-2 w-full",value:w,onChange:R=>S(R.target.value),placeholder:"https://..."})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[m.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 cursor-pointer opacity-0",onChange:A,disabled:N}),m.jsx(Ks,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une image"]}),N&&m.jsx(sl,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),m.jsx("button",{type:"button",onClick:()=>S(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Retirer l'image"})]}),_&&m.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[m.jsx(ca,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),m.jsx("p",{children:_})]}),P&&m.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:m.jsx("img",{src:P,alt:"Aperçu",className:"h-48 w-full object-cover"})})]})]})})},une=sn.memo(({onSave:e,onUndo:t,onRedo:n,onReset:r,onExport:i,onImport:o,saving:l,canUndo:u,canRedo:d,hasChanges:f,previewMode:p,onPreviewModeChange:g,autoSave:v,onAutoSaveToggle:w})=>m.jsxs("div",{className:"customization-toolbar flex flex-wrap items-center justify-between gap-4 p-4 bg-white border-b border-gray-200 rounded-t-xl",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:t,disabled:!u,className:"ui-btn-secondary",title:"Annuler",children:m.jsx(y$,{className:"h-4 w-4"})}),m.jsx("button",{type:"button",onClick:n,disabled:!d,className:"ui-btn-secondary",title:"Refaire",children:m.jsx(J6,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"h-6 w-px bg-gray-300"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:e,disabled:l||!f,className:"ui-btn-primary",children:l?m.jsxs(m.Fragment,{children:[m.jsx(sl,{className:"h-4 w-4 animate-spin"}),"Enregistrement..."]}):m.jsxs(m.Fragment,{children:[m.jsx(CA,{className:"h-4 w-4"}),"Enregistrer"]})}),m.jsx("button",{type:"button",onClick:r,disabled:!f,className:"ui-btn-secondary",title:"Réinitialiser",children:m.jsx(e$,{className:"h-4 w-4"})})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx("input",{type:"checkbox",checked:v,onChange:w,className:"rounded border-gray-300"}),"Sauvegarde auto"]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Aperçu:"}),m.jsx("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:["desktop","tablet","mobile"].map(S=>m.jsx("button",{type:"button",onClick:()=>g(S),className:`px-3 py-1 text-xs font-medium transition ${p===S?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:S==="desktop"?"🖥️":"📱"},S))})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",title:"Exporter",children:m.jsx(xA,{className:"h-4 w-4"})}),m.jsx("button",{type:"button",onClick:o,className:"ui-btn-secondary",title:"Importer",children:m.jsx(Ks,{className:"h-4 w-4"})})]})]})]})),dne=sn.memo(({searchQuery:e,onSearchChange:t,selectedSection:n,onSectionChange:r,showAdvancedOptions:i,onAdvancedOptionsToggle:o})=>{const l=[{id:null,label:"Toutes les sections",icon:Da},{id:"navigation",label:"Navigation",icon:Da},{id:"hero",label:"Hero",icon:J0},{id:"about",label:"À propos",icon:Da},{id:"menu",label:"Menu",icon:Da},{id:"instagramReviews",label:"Avis Instagram",icon:Da},{id:"findUs",label:"Nous trouver",icon:Da},{id:"footer",label:"Pied de page",icon:Da}];return m.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"relative flex-1 max-w-md",children:[m.jsx(nb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Rechercher un élément...",value:e,onChange:u=>t(u.target.value),className:"ui-input pl-10"})]}),m.jsxs("button",{type:"button",onClick:o,className:`ui-btn-secondary ${i?"bg-blue-50 text-blue-600":""}`,children:[m.jsx(p6,{className:"h-4 w-4"}),"Filtres",i?m.jsx(ZU,{className:"h-4 w-4"}):m.jsx(bA,{className:"h-4 w-4"})]})]}),i&&m.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(u=>m.jsx("button",{type:"button",onClick:()=>r(u.id),className:`px-3 py-1 text-sm rounded-full border transition ${n===u.id?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:u.label},u.id||"all"))})]})})}),fne=()=>{const{content:e,loading:t,error:n,updateContent:r}=ub(),[i,o]=b.useState(()=>e?aa(e):null),[l,u]=b.useState(null),[d,f]=b.useState(null),[p,g]=b.useState("custom"),[v,w]=b.useState(null),[S,_]=b.useState(!1),[j,N]=b.useState(null),[E,C]=b.useState(null),[A,T]=b.useState([]),[P,R]=b.useState(!1),[D,H]=b.useState(null),[z,B]=b.useState({searchQuery:"",selectedSection:null,showAdvancedOptions:!1,autoSave:!0,previewMode:"desktop"}),[$,ne]=b.useState([]),[Q,re]=b.useState(-1),[I,V]=b.useState(!1);b.useEffect(()=>{e&&(o(aa(e)),$.length===0&&ie("État initial",e,"reset"))},[e]);const ie=b.useCallback((fe,me,Pe)=>{const at={id:`mod-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,timestamp:new Date,description:fe,content:aa(me),type:Pe};ne(Ft=>{const zn=[...Ft.slice(0,Q+1),at];return re(zn.length-1),zn.slice(-50)})},[Q]),pe=b.useCallback(fe=>{if(!i)return;const me=aa(i);me.navigation.style.textColor=fe.colors.text,me.navigation.style.background.color=fe.colors.primary,me.hero.style.textColor="#ffffff",me.hero.style.background.color=fe.colors.primary,me.about.style.textColor=fe.colors.text,me.about.style.background.color=fe.colors.background,me.menu.style.textColor=fe.colors.text,me.menu.style.background.color=fe.colors.background,me.findUs.style.textColor=fe.colors.text,me.findUs.style.background.color=fe.colors.background,me.footer.style.textColor="#ffffff",me.footer.style.background.color=fe.colors.secondary,o(me),V(!0),ie(`Thème "${fe.name}" appliqué`,me,"theme")},[i,ie]),se=b.useCallback(()=>{if(Q>0){const fe=Q-1;re(fe),o(aa($[fe].content)),V(!0)}},[Q,$]),M=b.useCallback(()=>{if(Q<$.length-1){const fe=Q+1;re(fe),o(aa($[fe].content)),V(!0)}},[Q,$]),L=b.useCallback(()=>{e&&(o(aa(e)),V(!1),ie("Réinitialisation",e,"reset"))},[e,ie]),F=b.useCallback(()=>{if(!i)return;const fe=JSON.stringify(i,null,2),me="data:application/json;charset=utf-8,"+encodeURIComponent(fe),Pe=`site-customization-${new Date().toISOString().split("T")[0]}.json`,at=document.createElement("a");at.setAttribute("href",me),at.setAttribute("download",Pe),at.click()},[i]),Y=b.useCallback(()=>{const fe=document.createElement("input");fe.type="file",fe.accept=".json",fe.onchange=me=>{var at;const Pe=(at=me.target.files)==null?void 0:at[0];if(Pe){const Ft=new FileReader;Ft.onload=zn=>{var he;try{const ge=JSON.parse((he=zn.target)==null?void 0:he.result);o(ge),V(!0),ie("Configuration importée",ge,"manual")}catch(ge){console.error("Erreur lors de l'import:",ge),N("Erreur lors de l'import du fichier")}},Ft.readAsText(Pe)}},fe.click()},[ie]);b.useEffect(()=>{if(z.autoSave&&I&&i){const fe=setTimeout(()=>{Z()},2e3);return()=>clearTimeout(fe)}},[i,I,z.autoSave]),b.useEffect(()=>{const fe=me=>{var Pe;if((me.ctrlKey||me.metaKey)&&me.key==="s"){me.preventDefault(),I&&Z();return}if((me.ctrlKey||me.metaKey)&&me.key==="z"&&!me.shiftKey){me.preventDefault(),se();return}if((me.ctrlKey||me.metaKey)&&me.key==="z"&&me.shiftKey){me.preventDefault(),M();return}if((me.ctrlKey||me.metaKey)&&me.key==="e"){me.preventDefault(),F();return}if((me.ctrlKey||me.metaKey)&&me.key==="i"){me.preventDefault(),Y();return}if(me.key==="Escape"&&l){me.preventDefault(),be();return}if((me.ctrlKey||me.metaKey)&&me.key>="1"&&me.key<="4"){me.preventDefault();const at=parseInt(me.key)-1,Ft=(Pe=_C[at])==null?void 0:Pe.id;Ft&&g(Ft);return}};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[I,l,Z,se,M,F,Y,be]),b.useEffect(()=>{let fe=!0;return(async()=>{R(!0),H(null);try{const Pe=await je.getBestSellerProducts();fe&&T(Pe)}catch(Pe){fe&&H(Pe instanceof Error?Pe.message:"Impossible de charger les produits mis en avant.")}finally{fe&&R(!1)}})(),()=>{fe=!1}},[]),b.useEffect(()=>{if(!E)return;const fe=setTimeout(()=>C(null),4e3);return()=>clearTimeout(fe)},[E]);const J=b.useCallback((fe,me="Modification personnalisée",Pe="manual")=>{o(at=>{if(!at)return at;const Ft=aa(at),zn=fe(Ft);return ie(me,zn,Pe),V(!0),zn})},[ie]),G=b.useCallback(fe=>{o(me=>{if(!me)return me;const Pe=aa(me);return ene(Pe,fe),Pe})},[]),de=b.useCallback((fe,me)=>{u(fe),f(me.zone),w(sne(me.anchor))},[]),be=b.useCallback(()=>{u(null),f(null),w(null)},[]),Z=async()=>{if(!i){N("Aucune modification à sauvegarder.");return}_(!0),N(null),C(null);try{const fe=await r(i);o(fe),V(!1),C("Modifications enregistrées avec succès."),ie("Sauvegarde manuelle",fe,"manual")}catch(fe){console.error("Save error:",fe);const me=fe instanceof Error?fe.message:"Une erreur est survenue lors de la sauvegarde.";N(me),setTimeout(()=>{N(null)},8e3)}finally{_(!1)}},ye=b.useMemo(()=>{const fe=Array.from(Hte);if(!i)return fe;const me=i.assets.library.filter(Pe=>Pe.type==="font").map(Pe=>db(Pe.name));return Array.from(new Set([...fe,...me]))},[i]);b.useMemo(()=>{if(!z.searchQuery&&!z.selectedSection)return null;const fe=z.searchQuery.toLowerCase();return Object.entries(wC).filter(([me,Pe])=>{const at=!z.searchQuery||me.toLowerCase().includes(fe)||(Pe==null?void 0:Pe.toLowerCase().includes(fe)),Ft=!z.selectedSection||me.startsWith(z.selectedSection+".");return at&&Ft})},[z.searchQuery,z.selectedSection]);const Se=b.useCallback(fe=>{B(me=>({...me,...fe}))},[]),ue=b.useCallback(fe=>{Se({searchQuery:fe})},[Se]),mt=b.useCallback(fe=>{Se({selectedSection:fe})},[Se]),De=b.useCallback(()=>{Se({showAdvancedOptions:!z.showAdvancedOptions})},[Se,z.showAdvancedOptions]),pt=b.useCallback(fe=>{Se({previewMode:fe})},[Se]),yt=b.useCallback(()=>{Se({autoSave:!z.autoSave})},[Se,z.autoSave]),Tt=sn.memo(()=>{const[fe,me]=b.useState(!1),Pe=[{key:"Ctrl/Cmd + S",description:"Sauvegarder"},{key:"Ctrl/Cmd + Z",description:"Annuler"},{key:"Ctrl/Cmd + Shift + Z",description:"Refaire"},{key:"Ctrl/Cmd + E",description:"Exporter"},{key:"Ctrl/Cmd + I",description:"Importer"},{key:"Échap",description:"Fermer le popover"},{key:"Ctrl/Cmd + 1-4",description:"Navigation par onglets"}];return m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",onClick:()=>me(!0),className:"fixed bottom-4 right-4 z-50 w-12 h-12 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors",title:"Aide raccourcis clavier","aria-label":"Afficher l'aide des raccourcis clavier",children:"?"}),fe&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raccourcis clavier"}),m.jsx("button",{type:"button",onClick:()=>me(!1),className:"text-gray-400 hover:text-gray-600","aria-label":"Fermer l'aide",children:m.jsx(jl,{className:"h-5 w-5"})})]}),m.jsx("div",{className:"space-y-2",children:Pe.map((at,Ft)=>m.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[m.jsx("kbd",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm font-mono",children:at.key}),m.jsx("span",{className:"text-sm text-gray-600",children:at.description})]},Ft))})]})})]})}),An=sn.memo(()=>m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thèmes prédéfinis"}),m.jsx("p",{className:"text-gray-600",children:"Choisissez un thème pour appliquer automatiquement une palette de couleurs cohérente"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Wte.map(fe=>m.jsxs("div",{className:"customization-theme-card bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>pe(fe),children:[m.jsx("div",{className:"h-32 w-full",style:{background:fe.preview}}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:fe.name}),m.jsx("p",{className:"text-sm text-gray-600 mb-3",children:fe.description}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:fe.colors.primary},title:"Couleur principale"}),m.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:fe.colors.secondary},title:"Couleur secondaire"}),m.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:fe.colors.background},title:"Couleur de fond"})]})]})]},fe.id))})]})),Dt=sn.memo(()=>m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Historique des modifications"}),m.jsx("p",{className:"text-gray-600",children:"Retracez toutes vos modifications et revenez à un état précédent"})]}),m.jsx("div",{className:"bg-white rounded-xl border border-gray-200 max-h-96 overflow-y-auto",children:$.length===0?m.jsxs("div",{className:"p-8 text-center text-gray-500",children:[m.jsx(Z0,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),m.jsx("p",{children:"Aucune modification dans l'historique"})]}):m.jsx("div",{className:"divide-y divide-gray-200",children:$.map((fe,me)=>m.jsx("div",{className:`customization-history-item p-4 hover:bg-gray-50 cursor-pointer transition ${me===Q?"active bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>{re(me),o(aa(fe.content)),V(!0)},children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:fe.description}),m.jsx("p",{className:"text-sm text-gray-500",children:fe.timestamp.toLocaleString("fr-FR")})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${fe.type==="theme"?"bg-purple-100 text-purple-800":fe.type==="reset"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:fe.type==="theme"?"Thème":fe.type==="reset"?"Reset":"Manuel"}),me===Q&&m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]})},fe.id))})})]})),Lt=l?wC[l]??l:null,Kt=l?Gte.has(l)?"background":Yte.has(l)?"image":(Fte.has(l),"text"):null;return t?m.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[m.jsx(sl,{className:"h-10 w-10 animate-spin text-brand-primary","aria-hidden":"true"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Chargement du contenu du site…"})]}):!e||!i?m.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[m.jsx(ca,{className:"h-6 w-6 text-amber-500","aria-hidden":"true"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Le contenu du site est en cours d'initialisation…"})]}):m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(une,{onSave:Z,onUndo:se,onRedo:M,onReset:L,onExport:F,onImport:Y,saving:S,canUndo:Q>0,canRedo:Q<$.length-1,hasChanges:I,previewMode:z.previewMode,onPreviewModeChange:pt,autoSave:z.autoSave,onAutoSaveToggle:yt}),(E||j)&&m.jsxs("div",{className:"px-4 py-2",children:[E&&m.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm text-emerald-700",children:[m.jsx(n6,{className:"h-4 w-4","aria-hidden":"true"}),E]}),j&&m.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-amber-50 px-4 py-2 text-sm text-amber-700",children:[m.jsx(ca,{className:"h-4 w-4","aria-hidden":"true"}),j]})]}),p==="custom"&&m.jsx(dne,{searchQuery:z.searchQuery,onSearchChange:ue,selectedSection:z.selectedSection,onSectionChange:mt,showAdvancedOptions:z.showAdvancedOptions,onAdvancedOptionsToggle:De}),m.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:[m.jsx("header",{className:"mb-8",children:m.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Personnalisation du site"}),m.jsxs("p",{className:"text-gray-600 mt-2",children:[p==="preview"&&"Aperçu en temps réel de votre site personnalisé",p==="custom"&&"Cliquez sur l'icône crayon pour personnaliser chaque élément",p==="themes"&&"Appliquez des thèmes prédéfinis pour un design cohérent",p==="history"&&"Gérez l'historique de vos modifications"]})]})})}),n&&m.jsxs("div",{className:"flex items-start gap-3 rounded-3xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700 mb-6",children:[m.jsx(ca,{className:"h-5 w-5","aria-hidden":"true"}),m.jsxs("div",{children:[m.jsx("p",{children:n}),m.jsx("p",{className:"mt-1",children:"Les valeurs affichées correspondent à la configuration par défaut."})]})]}),m.jsx("nav",{className:"flex w-full items-center gap-2 overflow-x-auto rounded-xl bg-white border border-gray-200 p-1 mb-8",children:_C.map(fe=>{const me=fe.icon;return m.jsxs("button",{type:"button",onClick:()=>g(fe.id),className:`customization-tab customization-focus-visible flex items-center gap-2 rounded-lg px-4 py-3 text-sm font-medium transition ${p===fe.id?"bg-blue-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[m.jsx(me,{className:"h-4 w-4"}),fe.label]},fe.id)})}),m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[p==="preview"&&m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"mx-auto w-full max-w-6xl",children:m.jsx("div",{className:`rounded-[2.5rem] border border-slate-200 bg-slate-50 p-6 transition-all ${z.previewMode==="mobile"?"max-w-sm mx-auto":z.previewMode==="tablet"?"max-w-2xl mx-auto":""}`,children:m.jsx(mE,{content:i,bestSellerProducts:A,onEdit:()=>{},activeZone:null,showEditButtons:!1})})})}),p==="custom"&&m.jsxs("div",{className:"space-y-4",children:[D&&m.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700 m-6",children:[m.jsx(ca,{className:"h-5 w-5","aria-hidden":"true"}),m.jsx("p",{children:D})]}),m.jsx("div",{className:"mx-auto w-full max-w-6xl p-6",children:m.jsx(mE,{content:i,bestSellerProducts:A,onEdit:(fe,me)=>de(fe,me),activeZone:d})}),P&&m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 p-6",children:[m.jsx(sl,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Chargement des produits populaires…"]})]}),p==="themes"&&m.jsx("div",{className:"p-6",children:m.jsx(An,{})}),p==="history"&&m.jsx("div",{className:"p-6",children:m.jsx(Dt,{})})]})]}),l&&Kt==="text"&&Lt&&m.jsx(one,{element:l,label:Lt,draft:i,onApply:J,onClose:be,fontOptions:ye,onAssetAdded:G,anchor:v}),l&&Kt==="image"&&Lt&&m.jsx(lne,{element:l,label:Lt,draft:i,onApply:J,onClose:be,onAssetAdded:G,anchor:v}),l&&Kt==="background"&&Lt&&m.jsx(cne,{element:l,label:Lt,draft:i,onApply:J,onClose:be,onAssetAdded:G,anchor:v}),m.jsx(Tt,{})]})},YR=({onLogout:e})=>{const t=qi(),n=sn.useCallback(()=>{e&&e(),t("/login",{replace:!0})},[t,e]);return m.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 px-4 text-center",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Accès non autorisé"}),m.jsx("p",{className:"text-base text-gray-600",children:"Votre rôle ne dispose actuellement d'aucune page accessible. Veuillez contacter un administrateur ou revenir à l'écran de connexion."})]}),m.jsx("button",{type:"button",onClick:n,className:"rounded-md bg-brand-primary px-6 py-3 text-white transition hover:bg-brand-primary/90 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2",children:"Retour à la connexion"})]})},VR=()=>m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}),ia=({children:e,permissionKey:t})=>{var u;const{role:n,loading:r,logout:i}=ma();if(r)return m.jsx(VR,{});if(!n)return m.jsx(Tf,{to:"/",replace:!0});const o=t?(u=n.permissions)==null?void 0:u[t]:void 0;if(!(t?Iy(o):!0)){const d=pb(n);return d?m.jsx(Tf,{to:d,replace:!0}):m.jsx(YR,{onLogout:i})}return e},hne=()=>{const{role:e,loading:t,logout:n}=ma();if(t)return m.jsx(VR,{});if(!e)return m.jsx(qz,{});const r=pb(e);return r?m.jsx(Tf,{to:r,replace:!0}):m.jsx(YR,{onLogout:n})},mne=()=>m.jsx(ia,{children:m.jsx(Cz,{})}),pne=()=>m.jsxs(vL,{children:[m.jsx(Dn,{path:"/",element:m.jsx(hne,{})}),m.jsx(Dn,{path:"/login",element:m.jsx(Tf,{to:"/",replace:!0})}),m.jsx(Dn,{path:"/commande-client",element:m.jsx($te,{})}),m.jsxs(Dn,{element:m.jsx(mne,{}),children:[m.jsx(Dn,{path:"/dashboard",element:m.jsx(ia,{permissionKey:"/dashboard",children:m.jsx(nte,{})})}),m.jsx(Dn,{path:"/para-llevar",element:m.jsx(ia,{permissionKey:"/para-llevar",children:m.jsx(Ste,{})})}),m.jsx(Dn,{path:"/ventes",element:m.jsx(ia,{permissionKey:"/ventes",children:m.jsx(lte,{})})}),m.jsx(Dn,{path:"/commande/:tableId",element:m.jsx(ia,{permissionKey:"/ventes",children:m.jsx(yte,{})})}),m.jsx(Dn,{path:"/cocina",element:m.jsx(ia,{permissionKey:"/cocina",children:m.jsx(_te,{})})}),m.jsx(Dn,{path:"/resume-ventes",element:m.jsx(ia,{permissionKey:"/resume-ventes",children:m.jsx(Bte,{})})}),m.jsx(Dn,{path:"/ingredients",element:m.jsx(ia,{permissionKey:"/ingredients",children:m.jsx(jte,{})})}),m.jsx(Dn,{path:"/produits",element:m.jsx(ia,{permissionKey:"/produits",children:m.jsx(Cte,{})})}),m.jsx(Dn,{path:Fa,element:m.jsx(ia,{permissionKey:Fa,children:m.jsx(fne,{})})})]}),m.jsx(Dn,{path:"*",element:m.jsx(zte,{})})]}),gne=()=>m.jsx(wz,{children:m.jsx(zL,{children:m.jsx(pne,{})})}),WR=document.getElementById("root");if(!WR)throw new Error("Could not find root element to mount to");const vne=S4.createRoot(WR);vne.render(m.jsx(sn.StrictMode,{children:m.jsx(gne,{})}));
